!function t(e,n,i){function r(a,s){if(!n[a]){if(!e[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};e[a][0].call(l.exports,function(t){var n=e[a][1][t];return r(n||t)},l,l.exports,t,e,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=t("guify"),a=function(){function t(){i(this,t)}return r(t,[{key:"Init",value:function(t,e){this.panel=new o.GUI({title:"Jon-Trombone",theme:"dark",root:e,width:"80%",barMode:"above",align:"right",opacity:"0.95"}),this.panel.Register({type:"checkbox",label:"Mute",object:t.trombone,property:"muted",onChange:function(e){t.trombone.SetMute(e)}}),this.panel.Register({type:"folder",label:"Jon"}),this.panel.Register([{type:"checkbox",label:"Move Jaw",object:t,property:"moveJaw"},{type:"range",label:"Jaw Speed",object:t,property:"jawFlapSpeed",min:0,max:100},{type:"range",label:"Jaw Range",object:t,property:"jawOpenOffset",min:0,max:1}],{folder:"Jon"}),this.panel.Register({type:"folder",label:"Voice"}),this.panel.Register([{type:"checkbox",label:"Wobble",object:t.trombone,property:"autoWobble"},{type:"checkbox",label:"Pitch Variance",object:t.trombone.Glottis,property:"addPitchVariance"},{type:"checkbox",label:"Tenseness Variance",object:t.trombone.Glottis,property:"addTensenessVariance"},{type:"range",label:"Tenseness",object:t.trombone.Glottis,property:"UITenseness",min:0,max:1},{type:"range",label:"Vibrato",object:t.trombone.Glottis,property:"vibratoAmount",min:0,max:.5},{type:"range",label:"Frequency",object:t.trombone.Glottis,property:"UIFrequency",min:1,max:1e3,step:1},{type:"range",label:"Loudness",object:t.trombone.Glottis,property:"loudness",min:0,max:1}],{folder:"Voice"}),this.panel.Register({type:"folder",label:"Tract"}),this.panel.Register([{type:"range",label:"Move Speed",object:t.trombone.Tract,property:"movementSpeed",min:1,max:30,step:1},{type:"range",label:"Velum Target",object:t.trombone.Tract,property:"velumTarget",min:.001,max:2},{type:"range",label:"Target",object:t.trombone.TractUI,property:"target",min:.001,max:1},{type:"range",label:"Index",object:t.trombone.TractUI,property:"index",min:0,max:43,step:1},{type:"range",label:"Radius",object:t.trombone.TractUI,property:"radius",min:0,max:5,step:1}],{folder:"Tract"}),this.panel.Register({type:"folder",label:"MIDI"}),this.panel.Register([{type:"file",label:"MIDI File",fileReadFunc:"readAsBinaryString",onChange:function(e){t.midiController.LoadSongDirect(e)}},{type:"title",label:"Controls"},{type:"button",label:"Play",action:function(){return t.midiController.PlaySong()}},{type:"button",label:"Stop",action:function(){return t.midiController.Stop()}},{type:"button",label:"Restart",action:function(){return t.midiController.Restart()}},{type:"title",label:"Options"},{type:"range",label:"Track",object:t.midiController,property:"currentTrack",min:1,max:20,step:1},{type:"range",label:"Base Frequency",object:t.midiController,property:"baseFreq",min:1,max:2e3,step:1},{type:"checkbox",label:"Extreme Vibrato",object:t,property:"flapWhileSinging"},{type:"checkbox",label:"Legato",object:t,property:"legato"}],{folder:"MIDI"})}}]),t}();n.gui=new a},{guify:15}],2:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.JonTrombone=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=t("./utils/model-loader.js"),a=t("./pink-trombone/pink-trombone.js"),s=t("./midi/midi-controller.js"),u=(t("./tts/tts-controller.js"),t("./gui.js")),c=function(){function t(e,n){var r=this;i(this,t),this.container=e,this.container.style.position="relative",this.container.style.cursor="default",this.renderer=new THREE.WebGLRenderer({alpha:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.container.offsetWidth,this.container.offsetHeight),this.renderer.setClearColor(0,0),this.container.appendChild(this.renderer.domElement);var o=this.container.offsetWidth/this.container.offsetHeight;this.camera=new THREE.PerspectiveCamera(45,o,.1,100),this.scene=new THREE.Scene,this.clock=new THREE.Clock;this.trombone=new a.PinkTrombone(this),setTimeout(function(){r.trombone.StartAudio(),r.moveJaw=!0},1e3),this.jawFlapSpeed=20,this.jawOpenOffset=.19,this.moveJaw=!1,this.legato=!1,this.flapWhileSinging=!1,this.midiController=new s.MidiController(this),this.SetUpThree(),this.SetUpScene(),this.OnUpdate(),u.gui.Init(this,this.container)}return r(t,[{key:"SetUpThree",value:function(){void 0!==THREE.OrbitControls?(this.controls=new THREE.OrbitControls(this.camera,this.renderer.domElement),this.controls.target.set(0,0,0),this.controls.update()):console.warn("No THREE.OrbitControls detected. Include to allow interaction with the model.")}},{key:"SetUpScene",value:function(){var t=this;this.camera.position.set(0,0,.5);var e=new THREE.HemisphereLight(16777215,4473924,1);e.name="Hemisphere Light",e.position.set(0,1,0),this.scene.add(e);var n=new THREE.DirectionalLight(16777215,1);n.name="Directional Light",n.position.set(0,1,0),this.scene.add(n),o.ModelLoader.LoadJSON("../resources/jon/three/jon.json",function(e){t.jon=e,t.scene.add(t.jon),t.jon.rotation.y=THREE.Math.degToRad(15),t.jaw=t.jon.skeleton.bones.find(function(t){return"Bone.006"==t.name}),t.jaw&&(t.jawShutZ=t.jaw.position.z)})}},{key:"OnUpdate",value:function(){this.clock.getDelta();if(requestAnimationFrame(this.OnUpdate.bind(this)),this.midiController.playing&&(this.notes=this.midiController.GetPitches(),this.notes!=this.lastNotes)){if(void 0!==this.notes&&0!=this.notes.length){var t=this.notes[0];this.notes.length;var e=this.midiController.MIDIToFrequency(t.midi);this.trombone.Glottis.UIFrequency=e,this.trombone.Glottis.loudness=t.velocity,this.jaw.position.z=this.jawShutZ+this.jawOpenOffset,this.trombone.TractUI.SetLipsClosed(0)}else this.legato||(this.trombone.Glottis.loudness=0),this.jaw.position.z=this.jawShutZ,this.trombone.TractUI.SetLipsClosed(1);this.lastNotes=this.notes}if(this.jaw&&this.moveJaw&&(!this.midiController.playing||this.flapWhileSinging)){var n=this.clock.getElapsedTime(),i=(Math.sin(n*this.jawFlapSpeed)+1)/2;this.jaw.position.z=this.jawShutZ+i*this.jawOpenOffset,this.trombone.TractUI.SetLipsClosed(1-i)}this.renderer.render(this.scene,this.camera)}}]),t}();n.JonTrombone=c},{"./gui.js":1,"./midi/midi-controller.js":4,"./pink-trombone/pink-trombone.js":11,"./tts/tts-controller.js":12,"./utils/model-loader.js":13}],3:[function(t,e,n){"use strict";var i=t("./utils/webgl-detect.js"),r=t("./jon-trombone.js"),o=document.getElementById("jon-trombone-container");if(i.Detector.HasWebGL()){new r.JonTrombone(o)}else console.log("WebGL is not supported on this browser."),o.innerHTML=i.Detector.GetErrorHTML(),o.classList.add("no-webgl")},{"./jon-trombone.js":2,"./utils/webgl-detect.js":14}],4:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=t("midiconvert"),a=function(){function t(e){i(this,t),this.controller=e,this.midi=null,this.playing=!1,this.currentTrack=5,this.baseFreq=440,this.clock=new THREE.Clock(!1)}return r(t,[{key:"LoadSong",value:function(t,e){var n=this;this.Stop(),this.midi=null,o.load(t,function(t){console.log("MIDI loaded."),n.midi=t,console.log(n.midi),e&&e(t)})}},{key:"LoadSongDirect",value:function(t){this.Stop(),this.midi=o.parse(t),console.log("MIDI loaded."),console.log(this.midi)}},{key:"GetPitch",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.currentTrack,e=this.GetSongProgress();return t=Math.min(t,this.midi.tracks.length-1),t=Math.max(t,0),this.midi.tracks[t].notes.find(function(t){return t.noteOn<=e&&e<=t.noteOff})}},{key:"GetPitches",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.currentTrack,e=this.GetSongProgress();return t=Math.min(t,this.midi.tracks.length-1),t=Math.max(t,0),this.midi.tracks[t].notes.filter(function(t){return t.noteOn<=e&&e<=t.noteOff})}},{key:"PlaySong",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;if(!this.playing){if(!this.midi)return console.log("No MIDI is loaded. Loading an example..."),void this.LoadSong("../resources/midi/un-owen-was-her.mid",function(){t.PlaySong()});this.EnterSingMode(),this.currentTrack=e,this.clock.start(),this.playing=!0,console.log("Playback started.")}}},{key:"GetSongProgress",value:function(){return this.clock.getElapsedTime()}},{key:"MIDIToFrequency",value:function(t){return this.baseFreq*Math.pow(2,(t-69)/12)}},{key:"Restart",value:function(){console.log("Playback moved to beginning."),this.clock=new THREE.Clock}},{key:"Stop",value:function(){this.playing&&(console.log("Playback stopped."),this.clock.stop(),this.playing=!1,this.ExitSingMode())}},{key:"EnterSingMode",value:function(){this.backup_settings||(this.backup_settings={},this.backup_settings.autoWobble=this.controller.trombone.autoWobble,this.controller.trombone.autoWobble=!1,this.backup_settings.addPitchVariance=this.controller.trombone.Glottis.addPitchVariance,this.controller.trombone.Glottis.addPitchVariance=!1,this.backup_settings.addTensenessVariance=this.controller.trombone.Glottis.addTensenessVariance,this.controller.trombone.Glottis.addTensenessVariance=!1,this.backup_settings.vibratoFrequency=this.controller.trombone.Glottis.vibratoFrequency,this.controller.trombone.Glottis.vibratoFrequency=0,this.backup_settings.frequency=this.controller.trombone.Glottis.UIFrequency,this.backup_settings.loudness=this.controller.trombone.Glottis.loudness)}},{key:"ExitSingMode",value:function(){this.backup_settings&&(this.controller.trombone.autoWobble=this.backup_settings.autoWobble,this.controller.trombone.Glottis.addPitchVariance=this.backup_settings.addPitchVariance,this.controller.trombone.Glottis.addTensenessVariance=this.backup_settings.addTensenessVariance,this.controller.trombone.Glottis.vibratoFrequency=this.backup_settings.vibratoFrequency,this.controller.trombone.Glottis.UIFrequency=this.backup_settings.frequency,this.controller.trombone.Glottis.loudness=this.backup_settings.loudness,this.backup_settings=null)}}]),t}();n.MidiController=a},{midiconvert:16}],5:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){function t(e){i(this,t),this.trombone=e,this.blockLength=512,this.blockTime=1,this.soundOn=!1}return r(t,[{key:"init",value:function(){window.AudioContext=window.AudioContext||window.webkitAudioContext,this.audioContext=new window.AudioContext,this.trombone.sampleRate=this.audioContext.sampleRate,this.blockTime=this.blockLength/this.trombone.sampleRate}},{key:"startSound",value:function(){this.scriptProcessor=this.audioContext.createScriptProcessor(this.blockLength,2,1),this.scriptProcessor.connect(this.audioContext.destination),this.scriptProcessor.onaudioprocess=this.doScriptProcessor.bind(this);var t=this.createWhiteNoiseNode(2*this.trombone.sampleRate),e=this.audioContext.createBiquadFilter();e.type="bandpass",e.frequency.value=500,e.Q.value=.5,t.connect(e),e.connect(this.scriptProcessor);var n=this.audioContext.createBiquadFilter();n.type="bandpass",n.frequency.value=1e3,n.Q.value=.5,t.connect(n),n.connect(this.scriptProcessor),t.start(0)}},{key:"createWhiteNoiseNode",value:function(t){for(var e=this.audioContext.createBuffer(1,t,this.trombone.sampleRate),n=e.getChannelData(0),i=0;i<t;i++)n[i]=Math.random();var r=this.audioContext.createBufferSource();return r.buffer=e,r.loop=!0,r}},{key:"doScriptProcessor",value:function(t){for(var e=t.inputBuffer.getChannelData(0),n=t.inputBuffer.getChannelData(1),i=t.outputBuffer.getChannelData(0),r=0,o=i.length;r<o;r++){var a=r/o,s=(r+.5)/o,u=this.trombone.Glottis.runStep(a,e[r]),c=0;this.trombone.Tract.runStep(u,n[r],a),c+=this.trombone.Tract.lipOutput+this.trombone.Tract.noseOutput,this.trombone.Tract.runStep(u,n[r],s),c+=this.trombone.Tract.lipOutput+this.trombone.Tract.noseOutput,i[r]=.125*c}this.trombone.Glottis.finishBlock(),this.trombone.Tract.finishBlock()}},{key:"mute",value:function(){this.scriptProcessor.disconnect()}},{key:"unmute",value:function(){this.scriptProcessor.connect(this.audioContext.destination)}}]),t}();n.AudioSystem=o},{}],6:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Glottis=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=t("../noise.js"),a=function(t){return t&&t.__esModule?t:{default:t}}(o),s=function(){function t(e){i(this,t),this.trombone=e,this.timeInWaveform=0,this.oldFrequency=140,this.newFrequency=140,this.UIFrequency=140,this.smoothFrequency=140,this.oldTenseness=.6,this.newTenseness=.6,this.UITenseness=.6,this.totalTime=0,this.vibratoAmount=.005,this.vibratoFrequency=6,this.intensity=0,this.loudness=1,this.isTouched=!1,this.touch=0,this.x=240,this.y=530,this.keyboardTop=500,this.keyboardLeft=0,this.keyboardWidth=600,this.keyboardHeight=100,this.semitones=20,this.marks=[0,0,0,1,0,0,0,0,1,0,1,0,0,0,0],this.baseNote=87.3071,this.output,this.addPitchVariance=!0,this.addTensenessVariance=!0}return r(t,[{key:"init",value:function(){this.setupWaveform(0)}},{key:"handleTouches",value:function(){if(0==this.touch||this.touch.alive||(this.touch=0),0==this.touch)for(var e=0;e<UI.touchesWithMouse.length;e++){var n=UI.touchesWithMouse[e];n.alive&&(n.y<this.keyboardTop||(this.touch=n))}if(0!=this.touch){var i=this.touch.y-this.keyboardTop-10,r=this.touch.x-this.keyboardLeft;i=Math.clamp(i,0,this.keyboardHeight-26);var o=this.semitones*r/this.keyboardWidth+.5;t.UIFrequency=this.baseNote*Math.pow(2,o/12),0==t.intensity&&(t.smoothFrequency=t.UIFrequency);var a=Math.clamp(1-i/(this.keyboardHeight-28),0,1);t.UITenseness=1-Math.cos(a*Math.PI*.5),t.loudness=Math.pow(t.UITenseness,.25),this.x=this.touch.x,this.y=i+this.keyboardTop+10}t.isTouched=0!=this.touch}},{key:"runStep",value:function(t,e){var n=1/this.trombone.sampleRate;this.timeInWaveform+=n,this.totalTime+=n,this.timeInWaveform>this.waveformLength&&(this.timeInWaveform-=this.waveformLength,this.setupWaveform(t));var i=this.normalizedLFWaveform(this.timeInWaveform/this.waveformLength),r=this.intensity*(1-Math.sqrt(this.UITenseness))*this.getNoiseModulator()*e;return r*=.2+.02*a.default.simplex1(1.99*this.totalTime),i+=r}},{key:"getNoiseModulator",value:function(){var t=.1+.2*Math.max(0,Math.sin(2*Math.PI*this.timeInWaveform/this.waveformLength));return this.UITenseness*this.intensity*t+.3*(1-this.UITenseness*this.intensity)}},{key:"finishBlock",value:function(){var t=0;this.addPitchVariance&&(t+=this.vibratoAmount*Math.sin(2*Math.PI*this.totalTime*this.vibratoFrequency),t+=.02*a.default.simplex1(4.07*this.totalTime),t+=.04*a.default.simplex1(2.15*this.totalTime)),this.trombone.autoWobble&&(t+=.2*a.default.simplex1(.98*this.totalTime),t+=.4*a.default.simplex1(.5*this.totalTime)),this.UIFrequency>this.smoothFrequency&&(this.smoothFrequency=Math.min(1.1*this.smoothFrequency,this.UIFrequency)),this.UIFrequency<this.smoothFrequency&&(this.smoothFrequency=Math.max(this.smoothFrequency/1.1,this.UIFrequency)),this.oldFrequency=this.newFrequency,this.newFrequency=this.smoothFrequency*(1+t),this.oldTenseness=this.newTenseness,this.addTensenessVariance?this.newTenseness=this.UITenseness+.1*a.default.simplex1(.46*this.totalTime)+.05*a.default.simplex1(.36*this.totalTime):this.newTenseness=this.UITenseness,!this.isTouched&&this.trombone.alwaysVoice&&(this.newTenseness+=(3-this.UITenseness)*(1-this.intensity)),(this.isTouched||this.trombone.alwaysVoice)&&(this.intensity+=.13),this.intensity=Math.clamp(this.intensity,0,1)}},{key:"setupWaveform",value:function(t){this.frequency=this.oldFrequency*(1-t)+this.newFrequency*t;var e=this.oldTenseness*(1-t)+this.newTenseness*t;this.Rd=3*(1-e),this.waveformLength=1/this.frequency;var n=this.Rd;n<.5&&(n=.5),n>2.7&&(n=2.7);var i=.048*n-.01,r=.224+.118*n,o=r/4*(.5+1.2*r)/(.11*n-i*(.5+1.2*r)),a=i,s=1/(2*o),u=s+s*r,c=1/a,l=Math.exp(-c*(1-u)),h=1-l,f=1/c*(l-1)+(1-u)*l;f/=h;var p=-(u-s)/2+f,d=-p,b=Math.PI/s,g=Math.sin(b*u),m=-Math.PI*g*d/(2*s),y=Math.log(m),v=y/(s/2-u),x=-1/(g*Math.exp(v*u));this.alpha=v,this.E0=x,this.epsilon=c,this.shift=l,this.Delta=h,this.Te=u,this.omega=b}},{key:"normalizedLFWaveform",value:function(t){return t>this.Te?this.output=(-Math.exp(-this.epsilon*(t-this.Te))+this.shift)/this.Delta:this.output=this.E0*Math.exp(this.alpha*t)*Math.sin(this.omega*t),this.output*this.intensity*this.loudness}}]),t}();n.Glottis=s},{"../noise.js":10}],7:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){function t(e){i(this,t),this.trombone=e,this.originX=340,this.originY=449,this.radius=298,this.scale=60,this.tongueIndex=12.9,this.tongueDiameter=2.43,this.innerTongueControlRadius=2.05,this.outerTongueControlRadius=3.5,this.tongueTouch=0,this.angleScale=.64,this.angleOffset=-.24,this.noseOffset=.8,this.gridOffset=1.7,this.target=.1,this.index=42,this.radius=0}return r(t,[{key:"init",value:function(){var t=this.trombone.Tract;this.setRestDiameter();for(var e=0;e<t.n;e++)t.diameter[e]=t.targetDiameter[e]=t.restDiameter[e];this.tongueLowerIndexBound=t.bladeStart+2,this.tongueUpperIndexBound=t.tipStart-3,this.tongueIndexCentre=.5*(this.tongueLowerIndexBound+this.tongueUpperIndexBound)}},{key:"getIndex",value:function(t,e){for(var n=this.trombone.Tract,i=t-this.originX,r=e-this.originY,o=Math.atan2(r,i);o>0;)o-=2*Math.PI;return(Math.PI+o-this.angleOffset)*(n.lipStart-1)/(this.angleScale*Math.PI)}},{key:"getDiameter",value:function(t,e){var n=t-this.originX,i=e-this.originY;return(this.radius-Math.sqrt(n*n+i*i))/this.scale}},{key:"setRestDiameter",value:function(){for(var t=this.trombone.Tract,e=t.bladeStart;e<t.lipStart;e++){var n=1.1*Math.PI*(this.tongueIndex-e)/(t.tipStart-t.bladeStart),i=2+(this.tongueDiameter-2)/1.5,r=(1.5-i+this.gridOffset)*Math.cos(n);e!=t.bladeStart-2&&e!=t.lipStart-1||(r*=.8),e!=t.bladeStart&&e!=t.lipStart-2||(r*=.94),t.restDiameter[e]=1.5-r}}},{key:"SetLipsClosed",value:function(t){var e=this.trombone.Tract;this.setRestDiameter();for(var n=0;n<e.n;n++)e.targetDiameter[n]=e.restDiameter[n];for(var i=this.index-this.radius;i<=this.index+this.radius;i++)if(!(i>e.targetDiameter.length||i<0)){var r=Math.lerp(e.restDiameter[i],this.target,t);e.targetDiameter[i]=r}}}]),t}();n.TractUI=o},{}],8:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){function t(e){i(this,t),this.trombone=e,this.n=44,this.bladeStart=10,this.tipStart=32,this.lipStart=39,this.R=[],this.L=[],this.reflection=[],this.junctionOutputR=[],this.junctionOutputL=[],this.maxAmplitude=[],this.diameter=[],this.restDiameter=[],this.targetDiameter=[],this.newDiameter=[],this.A=[],this.glottalReflection=.75,this.lipReflection=-.85,this.lastObstruction=-1,this.fade=1,this.movementSpeed=15,this.transients=[],this.lipOutput=0,this.noseOutput=0,this.velumTarget=.01}return r(t,[{key:"init",value:function(){this.bladeStart=Math.floor(this.bladeStart*this.n/44),this.tipStart=Math.floor(this.tipStart*this.n/44),this.lipStart=Math.floor(this.lipStart*this.n/44),this.diameter=new Float64Array(this.n),this.restDiameter=new Float64Array(this.n),this.targetDiameter=new Float64Array(this.n),this.newDiameter=new Float64Array(this.n);for(var t=0;t<this.n;t++){var e=0;e=t<7*this.n/44-.5?.6:t<12*this.n/44?1.1:1.5,this.diameter[t]=this.restDiameter[t]=this.targetDiameter[t]=this.newDiameter[t]=e}this.R=new Float64Array(this.n),this.L=new Float64Array(this.n),this.reflection=new Float64Array(this.n+1),this.newReflection=new Float64Array(this.n+1),this.junctionOutputR=new Float64Array(this.n+1),this.junctionOutputL=new Float64Array(this.n+1),this.A=new Float64Array(this.n),this.maxAmplitude=new Float64Array(this.n),this.noseLength=Math.floor(28*this.n/44),this.noseStart=this.n-this.noseLength+1,this.noseR=new Float64Array(this.noseLength),this.noseL=new Float64Array(this.noseLength),this.noseJunctionOutputR=new Float64Array(this.noseLength+1),this.noseJunctionOutputL=new Float64Array(this.noseLength+1),this.noseReflection=new Float64Array(this.noseLength+1),this.noseDiameter=new Float64Array(this.noseLength),this.noseA=new Float64Array(this.noseLength),this.noseMaxAmplitude=new Float64Array(this.noseLength);for(var t=0;t<this.noseLength;t++){var e,n=t/this.noseLength*2;e=n<1?.4+1.6*n:.5+1.5*(2-n),e=Math.min(e,1.9),this.noseDiameter[t]=e}this.newReflectionLeft=this.newReflectionRight=this.newReflectionNose=0,this.calculateReflections(),this.calculateNoseReflections(),this.noseDiameter[0]=this.velumTarget}},{key:"reshapeTract",value:function(t){for(var e=t*this.movementSpeed,n=-1,i=0;i<this.n;i++){var r=this.diameter[i],o=this.targetDiameter[i];r<=0&&(n=i);var a;a=i<this.noseStart?.6:i>=this.tipStart?1:.6+.4*(i-this.noseStart)/(this.tipStart-this.noseStart),this.diameter[i]=Math.moveTowards(r,o,a*e,2*e)}this.lastObstruction>-1&&-1==n&&this.noseA[0]<.05&&this.addTransient(this.lastObstruction),this.lastObstruction=n,e=t*this.movementSpeed,this.noseDiameter[0]=Math.moveTowards(this.noseDiameter[0],this.velumTarget,.25*e,.1*e),this.noseA[0]=this.noseDiameter[0]*this.noseDiameter[0]}},{key:"calculateReflections",value:function(){for(var t=0;t<this.n;t++)this.A[t]=this.diameter[t]*this.diameter[t];for(var t=1;t<this.n;t++)this.reflection[t]=this.newReflection[t],0==this.A[t]?this.newReflection[t]=.999:this.newReflection[t]=(this.A[t-1]-this.A[t])/(this.A[t-1]+this.A[t]);this.reflectionLeft=this.newReflectionLeft,this.reflectionRight=this.newReflectionRight,this.reflectionNose=this.newReflectionNose;var e=this.A[this.noseStart]+this.A[this.noseStart+1]+this.noseA[0];this.newReflectionLeft=(2*this.A[this.noseStart]-e)/e,this.newReflectionRight=(2*this.A[this.noseStart+1]-e)/e,this.newReflectionNose=(2*this.noseA[0]-e)/e}},{key:"calculateNoseReflections",value:function(){for(var t=0;t<this.noseLength;t++)this.noseA[t]=this.noseDiameter[t]*this.noseDiameter[t];for(var t=1;t<this.noseLength;t++)this.noseReflection[t]=(this.noseA[t-1]-this.noseA[t])/(this.noseA[t-1]+this.noseA[t])}},{key:"runStep",value:function(t,e,n){var i=Math.random()<.1;this.processTransients(),this.addTurbulenceNoise(e),this.junctionOutputR[0]=this.L[0]*this.glottalReflection+t,this.junctionOutputL[this.n]=this.R[this.n-1]*this.lipReflection;for(var r=1;r<this.n;r++){var o=this.reflection[r]*(1-n)+this.newReflection[r]*n,a=o*(this.R[r-1]+this.L[r]);this.junctionOutputR[r]=this.R[r-1]-a,this.junctionOutputL[r]=this.L[r]+a}var r=this.noseStart,o=this.newReflectionLeft*(1-n)+this.reflectionLeft*n;this.junctionOutputL[r]=o*this.R[r-1]+(1+o)*(this.noseL[0]+this.L[r]),o=this.newReflectionRight*(1-n)+this.reflectionRight*n,this.junctionOutputR[r]=o*this.L[r]+(1+o)*(this.R[r-1]+this.noseL[0]),o=this.newReflectionNose*(1-n)+this.reflectionNose*n,this.noseJunctionOutputR[0]=o*this.noseL[0]+(1+o)*(this.L[r]+this.R[r-1]);for(var r=0;r<this.n;r++)if(this.R[r]=.999*this.junctionOutputR[r],this.L[r]=.999*this.junctionOutputL[r+1],i){var s=Math.abs(this.R[r]+this.L[r]);s>this.maxAmplitude[r]?this.maxAmplitude[r]=s:this.maxAmplitude[r]*=.999}this.lipOutput=this.R[this.n-1],this.noseJunctionOutputL[this.noseLength]=this.noseR[this.noseLength-1]*this.lipReflection;for(var r=1;r<this.noseLength;r++){var a=this.noseReflection[r]*(this.noseR[r-1]+this.noseL[r]);this.noseJunctionOutputR[r]=this.noseR[r-1]-a,this.noseJunctionOutputL[r]=this.noseL[r]+a}for(var r=0;r<this.noseLength;r++)if(this.noseR[r]=this.noseJunctionOutputR[r]*this.fade,this.noseL[r]=this.noseJunctionOutputL[r+1]*this.fade,i){var s=Math.abs(this.noseR[r]+this.noseL[r]);s>this.noseMaxAmplitude[r]?this.noseMaxAmplitude[r]=s:this.noseMaxAmplitude[r]*=.999}this.noseOutput=this.noseR[this.noseLength-1]}},{key:"finishBlock",value:function(){this.reshapeTract(this.trombone.AudioSystem.blockTime),this.calculateReflections()}},{key:"addTransient",value:function(t){var e={};e.position=t,e.timeAlive=0,e.lifeTime=.2,e.strength=.3,e.exponent=200,this.transients.push(e)}},{key:"processTransients",value:function(){for(var t=0;t<this.transients.length;t++){var e=this.transients[t],n=e.strength*Math.pow(2,-e.exponent*e.timeAlive);this.R[e.position]+=n/2,this.L[e.position]+=n/2,e.timeAlive+=1/(2*this.trombone.sampleRate)}for(var t=this.transients.length-1;t>=0;t--){var e=this.transients[t];e.timeAlive>e.lifeTime&&this.transients.splice(t,1)}}},{key:"addTurbulenceNoise",value:function(t){}},{key:"addTurbulenceNoiseAtIndex",value:function(t,e,n){var i=Math.floor(e),r=e-i;t*=this.trombone.Glottis.getNoiseModulator();var o=Math.clamp(8*(.7-n),0,1),a=Math.clamp(30*(n-.3),0,1),s=t*(1-r)*o*a,u=t*r*o*a;this.R[i+1]+=s/2,this.L[i+1]+=s/2,this.R[i+2]+=u/2,this.L[i+2]+=u/2}}]),t}();n.Tract=o},{}],9:[function(t,e,n){"use strict";Math.clamp=function(t,e,n){return t<e?e:t>n?n:t},Math.moveTowards=function(t,e,n){return t<e?Math.min(t+n,e):Math.max(t-n,e)},Math.moveTowards=function(t,e,n,i){return t<e?Math.min(t+n,e):Math.max(t-i,e)},Math.gaussian=function(){for(var t=0,e=0;e<16;e++)t+=Math.random();return(t-8)/4},Math.lerp=function(t,e,n){return t+(e-t)*n}},{}],10:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){function t(e,n,r){i(this,t),this.x=e,this.y=n,this.z=r}return r(t,[{key:"dot2",value:function(t,e){return this.x*t+this.y*e}},{key:"dot3",value:function(t,e,n){return this.x*t+this.y*e+this.z*n}}]),t}(),a=function(){function t(){i(this,t),this.grad3=[new o(1,1,0),new o(-1,1,0),new o(1,-1,0),new o(-1,-1,0),new o(1,0,1),new o(-1,0,1),new o(1,0,-1),new o(-1,0,-1),new o(0,1,1),new o(0,-1,1),new o(0,1,-1),new o(0,-1,-1)],this.p=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],this.perm=new Array(512),this.gradP=new Array(512),this.seed(Date.now())}return r(t,[{key:"seed",value:function(t){t>0&&t<1&&(t*=65536),(t=Math.floor(t))<256&&(t|=t<<8);for(var e=0;e<256;e++){var n;n=1&e?this.p[e]^255&t:this.p[e]^t>>8&255,this.perm[e]=this.perm[e+256]=n,this.gradP[e]=this.gradP[e+256]=this.grad3[n%12]}}},{key:"simplex2",value:function(t,e){var n,i,r,o,a,s=.5*(Math.sqrt(3)-1),u=(3-Math.sqrt(3))/6,c=(t+e)*s,l=Math.floor(t+c),h=Math.floor(e+c),f=(l+h)*u,p=t-l+f,d=e-h+f;p>d?(o=1,a=0):(o=0,a=1);var b=p-o+u,g=d-a+u,m=p-1+2*u,y=d-1+2*u;l&=255,h&=255;var v=this.gradP[l+this.perm[h]],x=this.gradP[l+o+this.perm[h+a]],w=this.gradP[l+1+this.perm[h+1]],k=.5-p*p-d*d;k<0?n=0:(k*=k,n=k*k*v.dot2(p,d));var _=.5-b*b-g*g;_<0?i=0:(_*=_,i=_*_*x.dot2(b,g));var M=.5-m*m-y*y;return M<0?r=0:(M*=M,r=M*M*w.dot2(m,y)),70*(n+i+r)}},{key:"simplex1",value:function(t){return this.simplex2(1.2*t,.7*-t)}}]),t}(),s=new a;Object.freeze(s),n.default=s},{}],11:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.PinkTrombone=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();t("./math-extensions.js");var o=t("./components/audio-system.js"),a=t("./components/glottis.js"),s=t("./components/tract.js"),u=t("./components/tract-ui.js"),c=function(){function t(e){i(this,t),this.controller=e,this.sampleRate=0,this.time=0,this.alwaysVoice=!0,this.autoWobble=!0,this.noiseFreq=500,this.noiseQ=.7,this.AudioSystem=new o.AudioSystem(this),this.AudioSystem.init(),this.Glottis=new a.Glottis(this),this.Glottis.init(),this.Tract=new s.Tract(this),this.Tract.init(),this.TractUI=new u.TractUI(this),this.TractUI.init(),this.muted=!1}return r(t,[{key:"StartAudio",value:function(){this.muted=!1,this.AudioSystem.startSound()}},{key:"SetMute",value:function(t){t?this.AudioSystem.mute():this.AudioSystem.unmute(),this.muted=t}},{key:"ToggleMute",value:function(){this.SetMute(!this.muted)}}]),t}();n.PinkTrombone=c},{"./components/audio-system.js":5,"./components/glottis.js":6,"./components/tract-ui.js":7,"./components/tract.js":8,"./math-extensions.js":9}],12:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.TTSController=function t(){i(this,t)}},{}],13:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n]
;i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){function t(){i(this,t)}return r(t,null,[{key:"LoadOBJ",value:function(t,e){var n=function(t){if(t.lengthComputable){var e=t.loaded/t.total*100;console.log(Math.round(e,2)+"% downloaded")}},i=function(t){},r=new THREE.MTLLoader;r.setPath(t.path),r.load(t.mtlFile,function(r){r.preload();var o=new THREE.OBJLoader;o.setMaterials(r),o.setPath(t.path),o.load(t.objFile,function(t){e(t)},n,i)})}},{key:"LoadJSON",value:function(t,e){var n=function(t){if(t.lengthComputable){var e=t.loaded/t.total*100;console.log(Math.round(e,2)+"% downloaded")}},i=function(t){};(new THREE.JSONLoader).load(t,function(t,n){var i=!0,r=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(i=(a=s.next()).done);i=!0)a.value.skinning=!0}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}var u=new THREE.SkinnedMesh(t,new THREE.MultiMaterial(n));u.name="Jon",e(u)},n,i)}},{key:"LoadFBX",value:function(t,e){var n=new THREE.LoadingManager;n.onProgress=function(t,e,n){console.log(t,e,n)};var i=function(t){if(t.lengthComputable){var e=t.loaded/t.total*100;console.log(Math.round(e,2)+"% downloaded")}},r=function(t){};new THREE.FBXLoader(n).load(t,function(t){e(t)},i,r)}}]),t}();n.ModelLoader=o},{}],14:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){function t(){i(this,t)}return r(t,null,[{key:"HasWebGL",value:function(){if(window.WebGLRenderingContext){for(var t=document.createElement("canvas"),e=["webgl","experimental-webgl","moz-webgl","webkit-3d"],n=!1,i=0;i<4;i++)try{if((n=t.getContext(e[i]))&&"function"==typeof n.getParameter)return!0}catch(t){}return!1}return!1}},{key:"GetErrorHTML",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null==t&&(t='Your graphics card does not seem to support \n                        <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation">WebGL</a>. <br>\n                        Find out how to get it <a href="http://get.webgl.org/">here</a>.'),'\n        <div class="no-webgl-support">\n        <p style="text-align: center;">'+t+"</p>\n        </div>\n        "}}]),t}();n.Detector=o},{}],15:[function(t,e,n){!function(t,i){"object"==typeof n&&"object"==typeof e?e.exports=i():"function"==typeof define&&define.amd?define("guify",[],i):"object"==typeof n?n.guify=i():t.guify=i()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=16)}([function(t,e,n){function i(t,e,n){var i=c[e];if(void 0===i&&(i=o(e)),i){if(void 0===n)return t.style[i];t.style[i]=l(i,n)}}function r(t,e){for(var n in e)e.hasOwnProperty(n)&&i(t,n,e[n])}function o(t){var e=u(t),n=s(e);return c[e]=c[t]=c[n]=n,n}function a(){2===arguments.length?"string"==typeof arguments[1]?arguments[0].style.cssText=arguments[1]:r(arguments[0],arguments[1]):i(arguments[0],arguments[1],arguments[2])}var s=n(18),u=n(19),c={float:"cssFloat"},l=n(22);t.exports=a,t.exports.set=a,t.exports.get=function(t,e){return Array.isArray(e)?e.reduce(function(e,n){return e[n]=i(t,n||""),e},{}):i(t,e||"")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=function(t){return t&&t.__esModule?t:{default:t}}(i),o=function(t,e,n){var i=t.appendChild(document.createElement("div"));return i.classList.add("guify-component-container"),(0,r.default)(i,{position:"relative","min-height":n.sizing.componentHeight,"margin-bottom":n.sizing.componentSpacing}),i};e.default=o,t.exports=e.default},function(t,e,n){"use strict";var i=n(6),r={theme:i.theme,sizing:{labelsWidthPercent:62}};t.exports=r},function(t,e,n){"use strict";var i=n(32);t.exports=i,t.exports.csjs=i,t.exports.getCss=n(45)},function(t,e,n){var i;!function(e){"use strict";function r(){}function o(t,e){for(var n=t.length;n--;)if(t[n].listener===e)return n;return-1}function a(t){return function(){return this[t].apply(this,arguments)}}function s(t){return"function"==typeof t||t instanceof RegExp||!(!t||"object"!=typeof t)&&s(t.listener)}var u=r.prototype,c=e.EventEmitter;u.getListeners=function(t){var e,n,i=this._getEvents();if(t instanceof RegExp){e={};for(n in i)i.hasOwnProperty(n)&&t.test(n)&&(e[n]=i[n])}else e=i[t]||(i[t]=[]);return e},u.flattenListeners=function(t){var e,n=[];for(e=0;e<t.length;e+=1)n.push(t[e].listener);return n},u.getListenersAsObject=function(t){var e,n=this.getListeners(t);return n instanceof Array&&(e={},e[t]=n),e||n},u.addListener=function(t,e){if(!s(e))throw new TypeError("listener must be a function");var n,i=this.getListenersAsObject(t),r="object"==typeof e;for(n in i)i.hasOwnProperty(n)&&-1===o(i[n],e)&&i[n].push(r?e:{listener:e,once:!1});return this},u.on=a("addListener"),u.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},u.once=a("addOnceListener"),u.defineEvent=function(t){return this.getListeners(t),this},u.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},u.removeListener=function(t,e){var n,i,r=this.getListenersAsObject(t);for(i in r)r.hasOwnProperty(i)&&-1!==(n=o(r[i],e))&&r[i].splice(n,1);return this},u.off=a("removeListener"),u.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},u.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},u.manipulateListeners=function(t,e,n){var i,r,o=t?this.removeListener:this.addListener,a=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(i=n.length;i--;)o.call(this,e,n[i]);else for(i in e)e.hasOwnProperty(i)&&(r=e[i])&&("function"==typeof r?o.call(this,i,r):a.call(this,i,r));return this},u.removeEvent=function(t){var e,n=typeof t,i=this._getEvents();if("string"===n)delete i[t];else if(t instanceof RegExp)for(e in i)i.hasOwnProperty(e)&&t.test(e)&&delete i[e];else delete this._events;return this},u.removeAllListeners=a("removeEvent"),u.emitEvent=function(t,e){var n,i,r,o,a=this.getListenersAsObject(t);for(o in a)if(a.hasOwnProperty(o))for(n=a[o].slice(0),r=0;r<n.length;r++)i=n[r],!0===i.once&&this.removeListener(t,i.listener),i.listener.apply(this,e||[])===this._getOnceReturnValue()&&this.removeListener(t,i.listener);return this},u.trigger=a("emitEvent"),u.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},u.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},u._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},u._getEvents=function(){return this._events||(this._events={})},r.noConflict=function(){return e.EventEmitter=c,r},void 0!==(i=function(){return r}.call(e,n,e,t))&&(t.exports=i)}(this||{})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=function(t){return t&&t.__esModule?t:{default:t}}(i);e.default=function(t,e,n){var i=t.appendChild(document.createElement("div"));(0,r.default)(i,{left:0,width:"calc("+n.sizing.labelWidth+" - 2%)",display:"inline-block","min-height":n.sizing.componentHeight,paddingRight:"2%",verticalAlign:"top"});var o=i.appendChild(document.createElement("div"));return o.innerHTML=e,(0,r.default)(o,{color:n.colors.text1,display:"inline-block",verticalAlign:"sub","line-height":n.sizing.componentHeight}),o},t.exports=e.default},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.theme=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(9),a=(function(t){t&&t.__esModule}(o),function(){function t(){i(this,t)}return r(t,[{key:"Set",value:function(t){this.name=t.name,this.colors=t.colors,this.sizing=t.sizing,this.font=t.font}}]),t}());e.theme=new a},function(t,e,n){"use strict";function i(t,e,n){var i=t.join(" ");return Object.create(a.prototype,{classNames:{value:Object.freeze(t),configurable:!1,writable:!1,enumerable:!0},unscoped:{value:Object.freeze(e),configurable:!1,writable:!1,enumerable:!0},className:{value:i,configurable:!1,writable:!1,enumerable:!0},selector:{value:t.map(function(t){return n?t:"."+t}).join(", "),configurable:!1,writable:!1,enumerable:!0},toString:{value:function(){return i},configurable:!1,writeable:!1,enumerable:!1}})}function r(t){return t instanceof a}function o(t){return t.reduce(function(t,e){return r(e)&&e.classNames.forEach(function(n,i){t[n]=e.unscoped[i]}),t},{})}function a(){}t.exports={makeComposition:i,isComposition:r,ignoreComposition:o}},function(t,e,n){"use strict";var i=/(\.)(?!\d)([^\s\.,{\[>+~#:)]*)(?![^{]*})/.source,r=/(@\S*keyframes\s*)([^{\s]*)/.source,o=/(?!(?:[^*\/]|\*[^\/]|\/[^*])*\*+\/)/.source,a=new RegExp(i+o,"g"),s=new RegExp(r+o,"g");t.exports={classRegex:a,keyframesRegex:s,ignoreComments:o}},function(t,e,n){"use strict";t.exports={light:{name:"Light",colors:{background1:"rgb(227, 227, 227)",background2:"rgb(204, 204, 204)",background2hover:"rgb(190, 190, 190)",foreground1:"rgb(105, 105, 105)",text1:"rgb(36, 36, 36)",text2:"rgb(87, 87, 87)"},sizing:{menuBarHeight:"36px",menuBarContentHeight:"20px",componentHeight:"20px",componentSpacing:"5px",labelWidth:"42%"}},dark:{name:"Dark",colors:{background1:"rgb(35, 35, 35)",background2:"rgb(54, 54, 54)",background2hover:"rgb(76, 76, 76)",foreground1:"rgb(112, 112, 112)",text1:"rgb(235, 235, 235)",text2:"rgb(161, 161, 161)"},sizing:{menuBarHeight:"36px",menuBarContentHeight:"20px",componentHeight:"20px",componentSpacing:"5px",labelWidth:"42%"}}}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";t.exports=" css "},function(t,e,n){"use strict";t.exports=n(44)},function(t,e){function n(t,e){if(e=e||{},void 0===t)throw new Error(a);var n=!0===e.prepend?"prepend":"append",s=void 0!==e.container?e.container:document.querySelector("head"),u=r.indexOf(s);-1===u&&(u=r.push(s)-1,o[u]={});var c;return void 0!==o[u]&&void 0!==o[u][n]?c=o[u][n]:(c=o[u][n]=i(),"prepend"===n?s.insertBefore(c,s.childNodes[0]):s.appendChild(c)),65279===t.charCodeAt(0)&&(t=t.substr(1,t.length)),c.styleSheet?c.styleSheet.cssText+=t:c.textContent+=t,c}function i(){var t=document.createElement("style");return t.setAttribute("type","text/css"),t}var r=[],o=[],a="insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).";t.exports=n,t.exports.insertCss=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=function(t){return t&&t.__esModule?t:{default:t}}(i);e.default=function(t,e,n,i,o){var a=t.appendChild(document.createElement("div")),s=a.appendChild(document.createElement("span"));s.innerHTML=e;var u={position:"absolute",backgroundColor:n.colors.background2,paddingLeft:"1.5%",height:"20px",width:i,display:"inline-block",overflow:"hidden"};return o||(u.right=0),(0,r.default)(a,u),(0,r.default)(s,{"font-family":"'Hack', monospace",color:n.colors.text2,display:"inline-block",userSelect:"text",cursor:"text",overflow:"hidden",lineHeight:"20px",wordBreak:"break-all",height:20}),s},t.exports=e.default},function(t,e,n){var i;!function(r){function o(t,e){if(t=t||"",e=e||{},t instanceof o)return t;if(!(this instanceof o))return new o(t,e);var n=a(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=G(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=G(this._r)),this._g<1&&(this._g=G(this._g)),this._b<1&&(this._b=G(this._b)),this._ok=n.ok,this._tc_id=q++}function a(t){var e={r:0,g:0,b:0},n=1,i=null,r=null,o=null,a=!1,u=!1;return"string"==typeof t&&(t=N(t)),"object"==typeof t&&(F(t.r)&&F(t.g)&&F(t.b)?(e=s(t.r,t.g,t.b),a=!0,u="%"===String(t.r).substr(-1)?"prgb":"rgb"):F(t.h)&&F(t.s)&&F(t.v)?(i=H(t.s),r=H(t.v),e=h(t.h,i,r),a=!0,u="hsv"):F(t.h)&&F(t.s)&&F(t.l)&&(i=H(t.s),o=H(t.l),e=c(t.h,i,o),a=!0,u="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=E(n),{ok:a,format:t.format||u,r:V(255,W(e.r,0)),g:V(255,W(e.g,0)),b:V(255,W(e.b,0)),a:n}}function s(t,e,n){return{r:255*j(t,255),g:255*j(e,255),b:255*j(n,255)}}function u(t,e,n){t=j(t,255),e=j(e,255),n=j(n,255);var i,r,o=W(t,e,n),a=V(t,e,n),s=(o+a)/2;if(o==a)i=r=0;else{var u=o-a;switch(r=s>.5?u/(2-o-a):u/(o+a),o){case t:i=(e-n)/u+(e<n?6:0);break;case e:i=(n-t)/u+2;break;case n:i=(t-e)/u+4}i/=6}return{h:i,s:r,l:s}}function c(t,e,n){function i(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}var r,o,a;if(t=j(t,360),e=j(e,100),n=j(n,100),0===e)r=o=a=n;else{var s=n<.5?n*(1+e):n+e-n*e,u=2*n-s;r=i(u,s,t+1/3),o=i(u,s,t),a=i(u,s,t-1/3)}return{r:255*r,g:255*o,b:255*a}}function l(t,e,n){t=j(t,255),e=j(e,255),n=j(n,255);var i,r,o=W(t,e,n),a=V(t,e,n),s=o,u=o-a;if(r=0===o?0:u/o,o==a)i=0;else{switch(o){case t:i=(e-n)/u+(e<n?6:0);break;case e:i=(n-t)/u+2;break;case n:i=(t-e)/u+4}i/=6}return{h:i,s:r,v:s}}function h(t,e,n){t=6*j(t,360),e=j(e,100),n=j(n,100);var i=r.floor(t),o=t-i,a=n*(1-e),s=n*(1-o*e),u=n*(1-(1-o)*e),c=i%6;return{r:255*[n,s,a,a,u,n][c],g:255*[u,n,n,s,a,a][c],b:255*[a,a,u,n,n,s][c]}}function f(t,e,n,i){var r=[R(G(t).toString(16)),R(G(e).toString(16)),R(G(n).toString(16))];return i&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function p(t,e,n,i,r){var o=[R(G(t).toString(16)),R(G(e).toString(16)),R(G(n).toString(16)),R(I(i))];return r&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function d(t,e,n,i){return[R(I(i)),R(G(t).toString(16)),R(G(e).toString(16)),R(G(n).toString(16))].join("")}function b(t,e){e=0===e?0:e||10;var n=o(t).toHsl();return n.s-=e/100,n.s=C(n.s),o(n)}function g(t,e){e=0===e?0:e||10;var n=o(t).toHsl();return n.s+=e/100,n.s=C(n.s),o(n)}function m(t){return o(t).desaturate(100)}function y(t,e){e=0===e?0:e||10;var n=o(t).toHsl();return n.l+=e/100,n.l=C(n.l),o(n)}function v(t,e){e=0===e?0:e||10;var n=o(t).toRgb();return n.r=W(0,V(255,n.r-G(-e/100*255))),n.g=W(0,V(255,n.g-G(-e/100*255))),n.b=W(0,V(255,n.b-G(-e/100*255))),o(n)}function x(t,e){e=0===e?0:e||10;var n=o(t).toHsl();return n.l-=e/100,n.l=C(n.l),o(n)}function w(t,e){var n=o(t).toHsl(),i=(n.h+e)%360;return n.h=i<0?360+i:i,o(n)}function k(t){var e=o(t).toHsl();return e.h=(e.h+180)%360,o(e)}function _(t){var e=o(t).toHsl(),n=e.h;return[o(t),o({h:(n+120)%360,s:e.s,l:e.l}),o({h:(n+240)%360,s:e.s,l:e.l})]}function M(t){var e=o(t).toHsl(),n=e.h;return[o(t),o({h:(n+90)%360,s:e.s,l:e.l}),o({h:(n+180)%360,s:e.s,l:e.l}),o({h:(n+270)%360,s:e.s,l:e.l})]}function T(t){var e=o(t).toHsl(),n=e.h;return[o(t),o({h:(n+72)%360,s:e.s,l:e.l}),o({h:(n+216)%360,s:e.s,l:e.l})]}function O(t,e,n){e=e||6,n=n||30;var i=o(t).toHsl(),r=360/n,a=[o(t)];for(i.h=(i.h-(r*e>>1)+720)%360;--e;)i.h=(i.h+r)%360,a.push(o(i));return a}function S(t,e){e=e||6;for(var n=o(t).toHsv(),i=n.h,r=n.s,a=n.v,s=[],u=1/e;e--;)s.push(o({h:i,s:r,v:a})),a=(a+u)%1;return s}function E(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function j(t,e){P(t)&&(t="100%");var n=A(t);return t=V(e,W(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),r.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function C(t){return V(1,W(0,t))}function L(t){return parseInt(t,16)}function P(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)}function A(t){return"string"==typeof t&&-1!=t.indexOf("%")}function R(t){return 1==t.length?"0"+t:""+t}function H(t){return t<=1&&(t=100*t+"%"),t}function I(t){return r.round(255*parseFloat(t)).toString(16)}function z(t){return L(t)/255}function F(t){return!!X.CSS_UNIT.exec(t)}function N(t){t=t.replace(D,"").replace(B,"").toLowerCase();var e=!1;if(J[t])t=J[t],e=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=X.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=X.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=X.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=X.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=X.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=X.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=X.hex8.exec(t))?{r:L(n[1]),g:L(n[2]),b:L(n[3]),a:z(n[4]),format:e?"name":"hex8"}:(n=X.hex6.exec(t))?{r:L(n[1]),g:L(n[2]),b:L(n[3]),format:e?"name":"hex"}:(n=X.hex4.exec(t))?{r:L(n[1]+""+n[1]),g:L(n[2]+""+n[2]),b:L(n[3]+""+n[3]),a:z(n[4]+""+n[4]),format:e?"name":"hex8"}:!!(n=X.hex3.exec(t))&&{r:L(n[1]+""+n[1]),g:L(n[2]+""+n[2]),b:L(n[3]+""+n[3]),format:e?"name":"hex"}}function U(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),"AA"!==e&&"AAA"!==e&&(e="AA"),"small"!==n&&"large"!==n&&(n="small"),{level:e,size:n}}var D=/^\s+/,B=/\s+$/,q=0,G=r.round,V=r.min,W=r.max,$=r.random;o.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,e,n,i,o,a,s=this.toRgb();return t=s.r/255,e=s.g/255,n=s.b/255,i=t<=.03928?t/12.92:r.pow((t+.055)/1.055,2.4),o=e<=.03928?e/12.92:r.pow((e+.055)/1.055,2.4),a=n<=.03928?n/12.92:r.pow((n+.055)/1.055,2.4),.2126*i+.7152*o+.0722*a},setAlpha:function(t){return this._a=E(t),this._roundA=G(100*this._a)/100,this},toHsv:function(){var t=l(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=l(this._r,this._g,this._b),e=G(360*t.h),n=G(100*t.s),i=G(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+i+"%)":"hsva("+e+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=u(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=u(this._r,this._g,this._b),e=G(360*t.h),n=G(100*t.s),i=G(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+i+"%)":"hsla("+e+", "+n+"%, "+i+"%, "+this._roundA+")"},toHex:function(t){return f(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return p(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:G(this._r),g:G(this._g),b:G(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+G(this._r)+", "+G(this._g)+", "+G(this._b)+")":"rgba("+G(this._r)+", "+G(this._g)+", "+G(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:G(100*j(this._r,255))+"%",g:G(100*j(this._g,255))+"%",b:G(100*j(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+G(100*j(this._r,255))+"%, "+G(100*j(this._g,255))+"%, "+G(100*j(this._b,255))+"%)":"rgba("+G(100*j(this._r,255))+"%, "+G(100*j(this._g,255))+"%, "+G(100*j(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(Y[f(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+d(this._r,this._g,this._b,this._a),n=e,i=this._gradientType?"GradientType = 1, ":"";if(t){var r=o(t);n="#"+d(r._r,r._g,r._b,r._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,i=this._a<1&&this._a>=0;return e||!i||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex4"===t&&(n=this.toHex8String(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return o(this.toString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(y,arguments)},brighten:function(){return this._applyModification(v,arguments)},darken:function(){return this._applyModification(x,arguments)},desaturate:function(){return this._applyModification(b,arguments)},saturate:function(){return this._applyModification(g,arguments)},greyscale:function(){return this._applyModification(m,arguments)},spin:function(){return this._applyModification(w,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(O,arguments)},complement:function(){return this._applyCombination(k,arguments)},monochromatic:function(){return this._applyCombination(S,arguments)},splitcomplement:function(){return this._applyCombination(T,arguments)},triad:function(){return this._applyCombination(_,arguments)},tetrad:function(){return this._applyCombination(M,arguments)}},o.fromRatio=function(t,e){if("object"==typeof t){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]="a"===i?t[i]:H(t[i]));t=n}return o(t,e)},o.equals=function(t,e){return!(!t||!e)&&o(t).toRgbString()==o(e).toRgbString()},o.random=function(){return o.fromRatio({r:$(),g:$(),b:$()})},o.mix=function(t,e,n){n=0===n?0:n||50;var i=o(t).toRgb(),r=o(e).toRgb(),a=n/100;return o({r:(r.r-i.r)*a+i.r,g:(r.g-i.g)*a+i.g,b:(r.b-i.b)*a+i.b,a:(r.a-i.a)*a+i.a})},o.readability=function(t,e){var n=o(t),i=o(e);return(r.max(n.getLuminance(),i.getLuminance())+.05)/(r.min(n.getLuminance(),i.getLuminance())+.05)},o.isReadable=function(t,e,n){var i,r,a=o.readability(t,e);switch(r=!1,i=U(n),i.level+i.size){case"AAsmall":case"AAAlarge":r=a>=4.5;break;case"AAlarge":r=a>=3;break;case"AAAsmall":r=a>=7}return r},o.mostReadable=function(t,e,n){var i,r,a,s,u=null,c=0;n=n||{},r=n.includeFallbackColors,a=n.level,s=n.size;for(var l=0;l<e.length;l++)(i=o.readability(t,e[l]))>c&&(c=i,u=o(e[l]));return o.isReadable(t,u,{level:a,size:s})||!r?u:(n.includeFallbackColors=!1,o.mostReadable(t,["#fff","#000"],n))};var J=o.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Y=o.hexNames=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}(J),X=function(){var t="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",e="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?",n="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?";return{CSS_UNIT:new RegExp(t),rgb:new RegExp("rgb"+e),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+e),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+e),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();void 0!==t&&t.exports?t.exports=o:void 0!==(i=function(){return o}.call(e,n,e,t))&&(t.exports=i)}(Math)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GUI=void 0;var i=n(17),r=function(t){return t&&t.__esModule?t:{default:t}}(i);e.GUI=r.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(0),s=i(a),u=n(23),c=i(u),l=n(9),h=i(l),f=n(6),p=n(24),d=n(70),b=n(72),g=n(75),m=n(77),y=function(){function t(e){r(this,t),this.opts=e,this.hasRoot=void 0!==e.root;var n=function(t,e){void 0===t&&(t=e)};n(e,{}),n(e.width,300),e.theme=(0,c.default)(e.theme)?h.default[e.theme]:h.default.dark,n(e.root,document.body),n(e.align,"right"),n(e.opacity,1),n(e.barMode,"offset"),n(e.pollRateMS,100),f.theme.Set(e.theme),this._ConstructElements(),this._LoadStyles(),this.componentManager=new p.ComponentManager,this.loadedComponents=[],this._UpdateComponents()}return o(t,[{key:"_LoadStyles",value:function(){var t=function(t){var e=document.createElement("style");e.setAttribute("type","text/css"),e.setAttribute("rel","stylesheet"),e.setAttribute("href",t),document.getElementsByTagName("head")[0].appendChild(e)};t("//cdn.jsdelivr.net/font-hack/2.019/css/hack.min.css"),this.opts.theme.font?(t(this.opts.theme.font.fontURL),(0,s.default)(this.container,{"font-family":this.opts.theme.font.fontFamily})):(0,s.default)(this.container,{"font-family":"'Hack', monospace"})}},{key:"_ConstructElements",value:function(){var t=this;this.container=document.createElement("div"),this.container.classList.add(m["guify-container"]),(0,s.default)(this.container,{top:"above"==this.opts.barMode&&this.hasRoot?"-"+this.opts.theme.sizing.menuBarHeight:"0"}),this.opts.root.appendChild(this.container),"none"!==this.opts.barMode&&(this.bar=new d.MenuBar(this.container,this.opts),this.bar.addListener("ontogglepanel",function(){t.panel.ToggleVisible()})),this.panel=new b.Panel(this.container,this.opts),"none"!==this.opts.barMode?this.panel.SetVisible(!1):this.panel.SetVisible(!0),this.toaster=new g.ToastArea(this.container,this.opts)}},{key:"_UpdateComponents",value:function(){var t=this;this.loadedComponents.forEach(function(t){t.binding&&t.binding.object[t.binding.property]!=t.oldValue&&(t.SetValue(t.binding.object[t.binding.property]),t.oldValue=t.binding.object[t.binding.property])}),setTimeout(function(){window.requestAnimationFrame(function(){t._UpdateComponents()})},this.opts.pollRateMS)}},{key:"Register",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Array.isArray(t))t.forEach(function(t){var i=Object.assign(t,n);e._Register(i)});else{var i=Object.assign(t,n);this._Register(i)}}},{key:"_Register",value:function(t){if(t.object&&t.property&&void 0===t.object[t.property])throw new Error("Object "+t.object+" has no property '"+t.property+"'");t.object&&t.property&&(t.initial=t.object[t.property]);var e=this.panel.element;if(t.folder){var n=this.loadedComponents.find(function(e){return"folder"===e.opts.type&&e.opts.label===t.folder});if(!n)throw new Error("No folder exists with the name "+t.folder);e=n.folderContainer}var i=this.componentManager.Create(t.type,e,t);t.object&&t.property&&(i.binding={object:t.object,property:t.property}),i.on&&(i.on("initialized",function(e){t.onInitialize&&t.onInitialize(e)}),i.on("input",function(e){t.object&&t.property&&(t.object[t.property]=e),t.onChange&&t.onChange(e)})),this.loadedComponents.push(i)}},{key:"Toast",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;this.toaster.CreateToast(t,e,n)}}]),t}();e.default=y,t.exports=e.default},function(t,e){var n=null,i=["Webkit","Moz","O","ms"];t.exports=function(t){n||(n=document.createElement("div"));var e=n.style;if(t in e)return t;for(var r=t.charAt(0).toUpperCase()+t.slice(1),o=i.length;o>=0;o--){var a=i[o]+r;if(a in e)return a}return!1}},function(t,e,n){function i(t){return r(t).replace(/\s(\w)/g,function(t,e){return e.toUpperCase()})}var r=n(20);t.exports=i},function(t,e,n){function i(t){return r(t).replace(/[\W_]+(.|$)/g,function(t,e){return e?" "+e:""}).trim()}var r=n(21);t.exports=i},function(t,e){function n(t){return o.test(t)?t.toLowerCase():a.test(t)?(i(t)||t).toLowerCase():s.test(t)?r(t).toLowerCase():t.toLowerCase()}function i(t){return t.replace(u,function(t,e){return e?" "+e:""})}function r(t){return t.replace(c,function(t,e,n){return e+" "+n.toLowerCase().split("").join(" ")})}t.exports=n;var o=/\s/,a=/(_|-|\.|:)/,s=/([a-z][A-Z]|[A-Z][a-z])/,u=/[\W_]+(.|$)/g,c=/(.)([A-Z]+)/g},function(t,e){var n={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,
stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0};t.exports=function(t,e){return"number"!=typeof e||n[t]?e:e+"px"}},function(t,e,n){"use strict";var i=String.prototype.valueOf,r=function(t){try{return i.call(t),!0}catch(t){return!1}},o=Object.prototype.toString,a="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;t.exports=function(t){return"string"==typeof t||"object"==typeof t&&(a?r(t):"[object String]"===o.call(t))}},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.ComponentManager=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(25),a=function(t){return t&&t.__esModule?t:{default:t}}(o),s=n(6);e.ComponentManager=function(){function t(){i(this,t),this.uuid=(0,a.default)(),this.components={title:n(28),range:n(29),button:n(46),checkbox:n(48),select:n(50),text:n(52),color:n(53),folder:n(65),file:n(67),display:n(69)}}return r(t,[{key:"Create",value:function(t,e,n){if(void 0===this.components[t])throw new Error("No component type named '"+t+"' exists.");return new this.components[t](e,n,s.theme,this.uuid)}}]),t}()},function(t,e,n){function i(t,e,n){var i=e&&n||0;"string"==typeof t&&(e="binary"==t?new Array(16):null,t=null),t=t||{};var a=t.random||(t.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,e)for(var s=0;s<16;++s)e[i+s]=a[s];return e||o(a)}var r=n(26),o=n(27);t.exports=i},function(t,e,n){(function(e){var n,i=e.crypto||e.msCrypto;if(i&&i.getRandomValues){var r=new Uint8Array(16);n=function(){return i.getRandomValues(r),r}}if(!n){var o=new Array(16);n=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),o[e]=t>>>((3&e)<<3)&255;return o}}t.exports=n}).call(e,n(10))},function(t,e){function n(t,e){var n=e||0,r=i;return r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]}for(var i=[],r=0;r<256;++r)i[r]=(r+256).toString(16).substr(1);t.exports=n},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=function(t){return t&&t.__esModule?t:{default:t}}(r),a=function t(e,r,a){i(this,t),this.opts=r;var s=n(1)(e,r.label,a);(0,o.default)(s,{});var u=s.appendChild(document.createElement("div"));(0,o.default)(u,{"box-sizing":"border-box",width:"100%",display:"inline-block",height:"20px",verticalAlign:"top"});var c=u.appendChild(document.createElement("div"));c.innerHTML="&#9632; "+r.label+" &#9632;",(0,o.default)(c,{display:"inline-block",verticalAlign:"sub",height:"20px","line-height":"20px","padding-left":"5px","padding-right":"5px","background-color":a.colors.text2,color:a.colors.background1})};e.default=a,t.exports=e.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(4),c=i(u),l=n(0),h=i(l),f=n(30),p=i(f),d=n(31),b=function(t){function e(t,i,a,s){r(this,e);var u=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));u.opts=i;var c=n(1)(t,i.label,a);if(n(5)(c,i.label,a),i.step&&i.steps)throw new Error("Cannot specify both step and steps. Got step = "+i.step+", steps = ",i.steps);if(u.input=c.appendChild(document.createElement("input")),u.input.type="range",u.input.className=d["guify-range"],i.label&&u.input.setAttribute("aria-label",i.label),"log"===i.scale){if(i.max=(0,p.default)(i.max)?i.max:100,i.min=(0,p.default)(i.min)?i.min:.1,i.min*i.max<=0)throw new Error("Log range min/max must have the same sign and not equal zero. Got min = "+i.min+", max = "+i.max);if(u.logmin=i.min,u.logmax=i.max,u.logsign=i.min>0?1:-1,u.logmin=Math.abs(u.logmin),u.logmax=Math.abs(u.logmax),i.min=0,i.max=100,(0,p.default)(i.step))throw new Error("Log may only use steps (integer number of steps), not a step value. Got step ="+i.step);if(i.step=1,i.initial=u.InverseScaleValue((0,p.default)(i.initial)?i.initial:scaleValue(.5*(i.min+i.max))),i.initial*u.InverseScaleValue(i.max)<=0)throw new Error("Log range initial value must have the same sign as min/max and must not equal zero. Got initial value = "+i.initial)}else i.max=(0,p.default)(i.max)?i.max:100,i.min=(0,p.default)(i.min)?i.min:0,i.step=(0,p.default)(i.step)?i.step:(i.max-i.min)/100,i.initial=(0,p.default)(i.initial)?i.initial:.5*(i.min+i.max);(0,p.default)(i.steps)&&(i.step=(0,p.default)(i.steps)?(i.max-i.min)/i.steps:i.step);var l=Math.round((i.initial-i.min)/i.step);return i.initial=i.min+i.step*l,u.input.min=i.min,u.input.max=i.max,u.input.step=i.step,u.input.value=i.initial,(0,h.default)(u.input,{width:"calc(100% - "+a.sizing.labelWidth+" - 11% - 0.75em)"}),u.valueComponent=n(14)(c,u.ScaleValue(i.initial),a,"11%"),setTimeout(function(){u.emit("initialized",parseFloat(u.input.value))}),u.userIsModifying=!1,u.input.addEventListener("focus",function(){u.focused=!0}),u.input.addEventListener("blur",function(){u.focused=!1}),u.input.addEventListener("mouseup",function(){u.input.blur()}),u.input.oninput=function(t){var e=u.ScaleValue(parseFloat(t.target.value));u.valueComponent.innerHTML=e,u.emit("input",e)},u}return a(e,t),s(e,[{key:"ScaleValue",value:function(t){return"log"===this.opts.scale?this.logsign*Math.exp(Math.log(this.logmin)+(Math.log(this.logmax)-Math.log(this.logmin))*t/100):t}},{key:"InverseScaleValue",value:function(t){return"log"===this.opts.scale?100*(Math.log(t*this.logsign)-Math.log(this.logmin))/(Math.log(this.logmax)-Math.log(this.logmin)):t}},{key:"SetValue",value:function(t){!0!==this.focused&&(this.valueComponent.innerHTML=t.toString(),this.input.value=this.InverseScaleValue(t))}},{key:"GetValue",value:function(){return this.input.value}}]),e}(c.default);e.default=b,t.exports=e.default},function(t,e,n){!function(n){"use strict";function i(t){return"number"==typeof t&&!isNaN(t)||!!(t=(t||"").toString().trim())&&!isNaN(t)}void 0!==t&&t.exports&&(e=t.exports=i),e.isNumeric=i}()},function(t,e,n){"use strict";var i=function(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\ninput[type=range].guify-range {\n    -webkit-appearance: none;\n    width: 100%;\n    margin: 0px 0;\n    display: inline-block;\n}\n\n/* Remove outlines since we'll be adding our own */\ninput[type=range].guify-range:focus {\n    outline: none;\n}\ninput[type=range].guify-range::-moz-focus-outer {\n    border: 0;\n}\n\n/* Webkit */\ninput[type=range].guify-range::-webkit-slider-runnable-track {\n    width: 100%;\n    height: 20px;\n    cursor: ew-resize;\n    background: ",";\n}\ninput[type=range].guify-range::-webkit-slider-thumb {\n    height: 20px;\n    width: 10px;\n    background: ",";\n    cursor: ew-resize;\n    -webkit-appearance: none;\n    margin-top: 0px;\n}\ninput[type=range].guify-range:focus::-webkit-slider-runnable-track {\n    background: ",";\n    outline: none;\n}\n\n/* Gecko */\ninput[type=range].guify-range::-moz-range-track {\n    width: 100%;\n    height: 20px;\n    cursor: ew-resize;\n    background: ",";\n}\ninput[type=range].guify-range:focus::-moz-range-track {\n    background: ",";\n}\ninput[type=range].guify-range::-moz-range-thumb {\n    height: 20px;\n    width: 10px;\n    background: ",";\n    cursor: ew-resize;\n}\n\n/* IE */\ninput[type=range].guify-range::-ms-track {\n    width: 100%;\n    height: 20px;\n    cursor: ew-resize;\n    background: transparent;\n    border-color: transparent;\n    color: transparent;\n}\ninput[type=range].guify-range::-ms-fill-lower {\n    background: ",";\n}\ninput[type=range].guify-range::-ms-fill-upper {\n    background: ",";\n}\ninput[type=range].guify-range:focus::-ms-fill-lower {\n    background: ",";\n}\ninput[type=range].guify-range:focus::-ms-fill-upper {\n    background: ",";\n}\ninput[type=range].guify-range::-ms-thumb {\n    width: 10px;\n    border-radius: 0px;\n    background: ",";\n    cursor: ew-resize;\n    height: 20px;\n}\ninput[type=range].guify-range:focus::-ms-fill-lower {\n    background: ",";\n    outline: none;\n}\ninput[type=range].guify-range:focus::-ms-fill-upper {\n    background: ",";\n    outline: none;\n}\n\n"],["\n\ninput[type=range].guify-range {\n    -webkit-appearance: none;\n    width: 100%;\n    margin: 0px 0;\n    display: inline-block;\n}\n\n/* Remove outlines since we'll be adding our own */\ninput[type=range].guify-range:focus {\n    outline: none;\n}\ninput[type=range].guify-range::-moz-focus-outer {\n    border: 0;\n}\n\n/* Webkit */\ninput[type=range].guify-range::-webkit-slider-runnable-track {\n    width: 100%;\n    height: 20px;\n    cursor: ew-resize;\n    background: ",";\n}\ninput[type=range].guify-range::-webkit-slider-thumb {\n    height: 20px;\n    width: 10px;\n    background: ",";\n    cursor: ew-resize;\n    -webkit-appearance: none;\n    margin-top: 0px;\n}\ninput[type=range].guify-range:focus::-webkit-slider-runnable-track {\n    background: ",";\n    outline: none;\n}\n\n/* Gecko */\ninput[type=range].guify-range::-moz-range-track {\n    width: 100%;\n    height: 20px;\n    cursor: ew-resize;\n    background: ",";\n}\ninput[type=range].guify-range:focus::-moz-range-track {\n    background: ",";\n}\ninput[type=range].guify-range::-moz-range-thumb {\n    height: 20px;\n    width: 10px;\n    background: ",";\n    cursor: ew-resize;\n}\n\n/* IE */\ninput[type=range].guify-range::-ms-track {\n    width: 100%;\n    height: 20px;\n    cursor: ew-resize;\n    background: transparent;\n    border-color: transparent;\n    color: transparent;\n}\ninput[type=range].guify-range::-ms-fill-lower {\n    background: ",";\n}\ninput[type=range].guify-range::-ms-fill-upper {\n    background: ",";\n}\ninput[type=range].guify-range:focus::-ms-fill-lower {\n    background: ",";\n}\ninput[type=range].guify-range:focus::-ms-fill-upper {\n    background: ",";\n}\ninput[type=range].guify-range::-ms-thumb {\n    width: 10px;\n    border-radius: 0px;\n    background: ",";\n    cursor: ew-resize;\n    height: 20px;\n}\ninput[type=range].guify-range:focus::-ms-fill-lower {\n    background: ",";\n    outline: none;\n}\ninput[type=range].guify-range:focus::-ms-fill-upper {\n    background: ",";\n    outline: none;\n}\n\n"]),r=n(2),o=function(t){return t&&t.__esModule?t:{default:t}}(r),a=n(3),s=o.default.theme.colors.background2,u=o.default.theme.colors.foreground1,c=o.default.theme.colors.background2hover;t.exports=a(i,s,u,c,s,o.default.theme.colors.background2hover,u,s,s,o.default.theme.colors.background2hover,o.default.theme.colors.background2hover,u,c,c)},function(t,e,n){"use strict";(function(e){function i(){var t=Array.prototype.slice.call(arguments),n=r.apply(null,t);return e.document&&o(r.getCss(n)),n}var r=n(33),o=n(13);t.exports=i}).call(e,n(10))},function(t,e,n){"use strict";var i=n(34);t.exports=i(),t.exports.csjs=i,t.exports.noScope=i({noscope:!0}),t.exports.getCss=n(12)},function(t,e,n){"use strict";t.exports=n(35)},function(t,e,n){"use strict";function i(t){return u(t)?t.selector:t}function r(t,e){return t.map(function(t,n){return n!==e.length?t+e[n]:t}).join("")}function o(t,e){return Object.keys(t).reduce(function(n,i){return e[i]||(n[i]=t[i]),n},{})}var a=n(36),s=n(7),u=s.isComposition,c=s.ignoreComposition,l=n(37),h=n(38),f=n(11),p=n(43);t.exports=function(t){t=void 0===t?{}:t;var e=void 0!==t.noscope&&t.noscope;return function(t,n){for(var n=Array(arguments.length-1),s=1;s<arguments.length;s++)n[s-1]=arguments[s];var u=r(t,n.map(i)),d=c(n),b=e?p(u):h(u,d),g=a(b.css),m=o(b.classes,d),y=o(b.keyframes,d),v=g.compositions,x=l(m,y,v);return Object.defineProperty(x,f,{enumerable:!1,configurable:!1,writeable:!1,value:g.css})}}},function(t,e,n){"use strict";function i(t){return t.split(",").map(r)}function r(t){var e=t.trim();return"."===e[0]?e.substr(1):e}var o=(n(7).makeComposition,/\.([^\s]+)(\s+)(extends\s+)(\.[^{]+)/g);t.exports=function(t){function e(t,e){var n=r(e[1]),o=e[3],a=e[4],s=e.index+e[1].length+e[2].length,u=o.length+a.length;return t.css=t.css.slice(0,s)+" "+t.css.slice(s+u+1),i(a).forEach(function(e){t.compositions[n]||(t.compositions[n]={}),t.compositions[e]||(t.compositions[e]={}),t.compositions[n][e]=t.compositions[e]}),t}for(var n,a=[];n=o.exec(t);)a.unshift(n);return a.reduce(e,{css:t,compositions:{}})}},function(t,e,n){"use strict";function i(t){function e(t){return Object.keys(t).forEach(function(r){n[r]||(n[r]=!0,i.push(r),e(t[r]))})}var n={},i=[];return e(t),i}var r=n(7).makeComposition;t.exports=function(t,e,n){var o=Object.keys(e).reduce(function(t,n){var i=e[n];return t[i]=r([n],[i],!0),t},{});return Object.keys(t).reduce(function(e,o){var a=t[o],s=n[o],u=s?i(s):[],c=[o].concat(u),l=c.map(function(e){return t[e]?t[e]:e});return e[a]=r(c,l),e},o)}},function(t,e,n){"use strict";function i(t,e){function n(t,n){function r(r,o,a){var s=e[a]?a:i(a);return t[n][s]=a,o+s}var o=a[n];return{css:t.css.replace(o,r),keyframes:t.keyframes,classes:t.classes}}var i=r(t),a={classes:s,keyframes:u},c=Object.keys(a).reduce(n,{css:t,keyframes:{},classes:{}});return o(c)}var r=n(39),o=n(42),a=n(8),s=a.classRegex,u=a.keyframesRegex;t.exports=i},function(t,e,n){"use strict";var i=n(40),r=n(41);t.exports=function(t){var e=i(r(t));return function(t){return t+"_"+e}}},function(t,e,n){"use strict";t.exports=function(t){if(0===t)return"0";for(var e="";t>0;)e="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[t%62]+e,t=Math.floor(t/62);return e}},function(t,e,n){"use strict";t.exports=function(t){for(var e=5381,n=t.length;n;)e=33*e^t.charCodeAt(--n);return e>>>0}},function(t,e,n){function i(t){var e=Object.keys(t.keyframes).reduce(function(e,n){return e[t.keyframes[n]]=n,e},{}),n=Object.keys(e);if(n.length){var i="((?:animation|animation-name)\\s*:[^};]*)("+n.join("|")+")([;\\s])"+r,o=new RegExp(i,"g");return{css:t.css.replace(o,function(t,n,i,r){return n+e[i]+r}),keyframes:t.keyframes,classes:t.classes}}return t}var r=n(8).ignoreComments;t.exports=i},function(t,e,n){"use strict";function i(t){return{css:t,keyframes:r(t,s),classes:r(t,a)}}function r(t,e){for(var n,i={};null!==(n=e.exec(t));){var r=n[2];i[r]=r}return i}var o=n(8),a=o.classRegex,s=o.keyframesRegex;t.exports=i},function(t,e,n){"use strict";var i=n(11);t.exports=function(t){return t[i]}},function(t,e,n){"use strict";t.exports=n(12)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(4),u=i(s),c=n(0),l=(i(c),n(47)),h=function(t){function e(t,i,a,s){r(this,e);var u=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));u.opts=i;var c=n(1)(t,i.label,a);n(5)(c,"",a);var h=c.appendChild(document.createElement("button"));return h.className=l["guify-button"],h.textContent=i.label,h.addEventListener("click",i.action),h.addEventListener("mouseup",function(){h.blur()}),u}return a(e,t),e}(u.default);e.default=h,t.exports=e.default},function(t,e,n){"use strict";var i=function(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\n.guify-button {\n    box-sizing: border-box !important;\n    color: ",";\n    background-color: ",";\n\n    position: absolue;\n    text-align: center;\n    height: 20px;\n    width: calc(100% - ",");\n    border: none;\n    cursor: pointer;\n    right: 0;\n    font-family: inherit;\n}\n\n\n.guify-button:focus {\n    outline:none;\n}\n.guify-button::-moz-focus-inner {\n    border:0;\n}\n\n.guify-button:hover,\n.guify-button:focus {\n    color: ",";\n    background-color: ",";\n}\n\n.guify-button:active {\n    color: "," !important;\n    background-color: "," !important;\n}\n\n"],["\n\n.guify-button {\n    box-sizing: border-box !important;\n    color: ",";\n    background-color: ",";\n\n    position: absolue;\n    text-align: center;\n    height: 20px;\n    width: calc(100% - ",");\n    border: none;\n    cursor: pointer;\n    right: 0;\n    font-family: inherit;\n}\n\n\n.guify-button:focus {\n    outline:none;\n}\n.guify-button::-moz-focus-inner {\n    border:0;\n}\n\n.guify-button:hover,\n.guify-button:focus {\n    color: ",";\n    background-color: ",";\n}\n\n.guify-button:active {\n    color: "," !important;\n    background-color: "," !important;\n}\n\n"]),r=n(2),o=function(t){return t&&t.__esModule?t:{default:t}}(r),a=n(3);t.exports=a(i,o.default.theme.colors.text2,o.default.theme.colors.background2,o.default.theme.sizing.labelWidth,o.default.theme.colors.text2,o.default.theme.colors.background2hover,o.default.theme.colors.background2,o.default.theme.colors.text2)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(4),c=i(u),l=n(0),h=(i(l),n(49)),f=function(t){function e(t,i,a,s){r(this,e);var u=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));u.opts=i;var c=n(1)(t,i.label,a);return n(5)(c,i.label,a),u.input=c.appendChild(document.createElement("input")),u.input.id="checkbox-"+i.label+s,u.input.type="checkbox",u.input.checked=i.initial,u.input.className=h["guify-checkbox"],i.label&&u.input.setAttribute("aria-label",i.label),c.appendChild(document.createElement("label")).htmlFor=u.input.id,setTimeout(function(){u.emit("initialized",u.input.checked)}),u.input.onchange=function(t){u.emit("input",t.target.checked)},u}return a(e,t),s(e,[{key:"SetValue",value:function(t){this.input.checked=t}},{key:"GetValue",value:function(){return this.input.checked}}]),e}(c.default);e.default=f,t.exports=e.default},function(t,e,n){"use strict";var i=function(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n\ninput[type=checkbox].guify-checkbox {\n    appearance: none;\n    -moz-appearance: none;\n    -webkit-appearance: none;\n    margin: 0;\n    cursor: pointer;\n}\n\ninput[type=checkbox] + label {\n    margin: 0;\n}\n\ninput[type=checkbox].guify-checkbox + label:before {\n    content: "";\n    display: inline-block;\n    width: 18px;\n    height: 18px;\n    padding: 0px;\n    vertical-align: middle;\n    margin-right: 8px;\n    margin-top: 1px;\n    background-color: ',";\n    border-radius: 0px;\n    cursor: pointer;\n    box-sizing: content-box;\n    -moz-box-sizing: content-box;\n    -webkit-box-sizing: content-box;\n\n}\n\n/* Hover style */\ninput[type=checkbox].guify-checkbox:hover + label:before {\n    width: 10px;\n    height: 10px;\n    background-color: ",";\n    border: solid 4px ",";\n}\n\n/* Focus when checked */\ninput[type=checkbox]:checked.guify-checkbox:focus + label:before {\n    width: 10px;\n    height: 10px;\n    background-color: ",";\n    border: solid 4px ",";\n}\n\n/* Focus when unchecked */\ninput[type=checkbox].guify-checkbox:focus + label:before {\n    background-color: ",";\n}\n\n/* Checked style */\ninput[type=checkbox]:checked.guify-checkbox + label:before {\n    width: 10px;\n    height: 10px;\n    background-color: ",";\n    border: solid 4px ",";\n}\n\n"],['\n\ninput[type=checkbox].guify-checkbox {\n    appearance: none;\n    -moz-appearance: none;\n    -webkit-appearance: none;\n    margin: 0;\n    cursor: pointer;\n}\n\ninput[type=checkbox] + label {\n    margin: 0;\n}\n\ninput[type=checkbox].guify-checkbox + label:before {\n    content: "";\n    display: inline-block;\n    width: 18px;\n    height: 18px;\n    padding: 0px;\n    vertical-align: middle;\n    margin-right: 8px;\n    margin-top: 1px;\n    background-color: ',";\n    border-radius: 0px;\n    cursor: pointer;\n    box-sizing: content-box;\n    -moz-box-sizing: content-box;\n    -webkit-box-sizing: content-box;\n\n}\n\n/* Hover style */\ninput[type=checkbox].guify-checkbox:hover + label:before {\n    width: 10px;\n    height: 10px;\n    background-color: ",";\n    border: solid 4px ",";\n}\n\n/* Focus when checked */\ninput[type=checkbox]:checked.guify-checkbox:focus + label:before {\n    width: 10px;\n    height: 10px;\n    background-color: ",";\n    border: solid 4px ",";\n}\n\n/* Focus when unchecked */\ninput[type=checkbox].guify-checkbox:focus + label:before {\n    background-color: ",";\n}\n\n/* Checked style */\ninput[type=checkbox]:checked.guify-checkbox + label:before {\n    width: 10px;\n    height: 10px;\n    background-color: ",";\n    border: solid 4px ",";\n}\n\n"]),r=n(2),o=function(t){return t&&t.__esModule?t:{default:t}}(r),a=n(3);t.exports=a(i,o.default.theme.colors.background2,o.default.theme.colors.background2hover,o.default.theme.colors.background2,o.default.theme.colors.foreground1,o.default.theme.colors.background2hover,o.default.theme.colors.background2hover,o.default.theme.colors.foreground1,o.default.theme.colors.background2)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(4),u=function(t){return t&&t.__esModule?t:{default:t}}(s),c=n(51),l=function(t){function e(t,o,a,s){i(this,e);var u=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));u.opts=o;var l,h,f,p,d,b,g,m;if(h=n(1)(t,o.label,a),n(5)(h,o.label,a),u.input=document.createElement("select"),u.input.className=c["guify-select-dropdown"],o.label&&u.input.setAttribute("aria-label",o.label),f=document.createElement("span"),f.classList.add(c["guify-select-triangle"],c["guify-select-triangle--down"]),p=document.createElement("span"),p.classList.add(c["guify-select-triangle"],c["guify-select-triangle--up"]),h.appendChild(f),h.appendChild(p),Array.isArray(o.options))for(l=0;l<o.options.length;l++)b=o.options[l],g=document.createElement("option"),g.value=g.textContent=b,o.initial===b&&(g.selected="selected"),u.input.appendChild(g);else for(m=Object.keys(o.options),l=0;l<m.length;l++)d=m[l],g=document.createElement("option"),g.value=d,o.initial===d&&(g.selected="selected"),g.textContent=o.options[d],u.input.appendChild(g);return h.appendChild(u.input),u.input.onchange=function(t){u.emit("input",t.target.value)},u}return o(e,t),a(e,[{key:"SetValue",value:function(t){this.input.value=t}},{key:"GetValue",value:function(){return this.input.value}}]),e}(u.default);e.default=l,t.exports=e.default},function(t,e,n){"use strict";var i=function(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\n.guify-select-dropdown {\n    display: inline-block;\n    position: absolute;\n    width: calc(100% - ",");\n    padding-left: 1.5%;\n    height: 20px;\n    border: none;\n    border-radius: 0;\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    -o-appearance:none;\n    appearance: none;\n    font-family: inherit;\n    background-color: ",";\n    color: ",";\n    box-sizing: border-box !important;\n    -moz-box-sizing: border-box !important;\n    -webkit-box-sizing: border-box !important;\n\n    &:focus {\n        outline: none;\n    }\n    &::-moz-focus-inner {\n        border: 0;\n    }\n}\n.guify-select-dropdown:focus,\n.guify-select-dropdown:hover {\n    background-color: ",";\n}\n.guify-select-dropdown::-ms-expand {\n    display:none;\n}\n.guify-select-triangle {\n    content: ' ';\n    border-right: 3px solid transparent;\n    border-left: 3px solid transparent;\n    line-height: 20px;\n    position: absolute;\n    right: 2.5%;\n    z-index: 1;\n}\n.guify-select-triangle--down {\n    top: 11px;\n    border-top: 5px solid ",";\n    border-bottom: 0px transparent;\n}\n.guify-select-triangle--up {\n    top: 4px;\n    border-bottom: 5px solid ",";\n    border-top: 0px transparent;\n}\n\n"],["\n\n.guify-select-dropdown {\n    display: inline-block;\n    position: absolute;\n    width: calc(100% - ",");\n    padding-left: 1.5%;\n    height: 20px;\n    border: none;\n    border-radius: 0;\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    -o-appearance:none;\n    appearance: none;\n    font-family: inherit;\n    background-color: ",";\n    color: ",";\n    box-sizing: border-box !important;\n    -moz-box-sizing: border-box !important;\n    -webkit-box-sizing: border-box !important;\n\n    &:focus {\n        outline: none;\n    }\n    &::-moz-focus-inner {\n        border: 0;\n    }\n}\n.guify-select-dropdown:focus,\n.guify-select-dropdown:hover {\n    background-color: ",";\n}\n.guify-select-dropdown::-ms-expand {\n    display:none;\n}\n.guify-select-triangle {\n    content: ' ';\n    border-right: 3px solid transparent;\n    border-left: 3px solid transparent;\n    line-height: 20px;\n    position: absolute;\n    right: 2.5%;\n    z-index: 1;\n}\n.guify-select-triangle--down {\n    top: 11px;\n    border-top: 5px solid ",";\n    border-bottom: 0px transparent;\n}\n.guify-select-triangle--up {\n    top: 4px;\n    border-bottom: 5px solid ",";\n    border-top: 0px transparent;\n}\n\n"]),r=n(2),o=function(t){return t&&t.__esModule?t:{default:t}}(r),a=n(3);t.exports=a(i,o.default.theme.sizing.labelWidth,o.default.theme.colors.background2,o.default.theme.colors.text2,o.default.theme.colors.background2hover,o.default.theme.colors.text2,o.default.theme.colors.text2)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(4),c=i(u),l=n(0),h=i(l),f=function(t){function e(t,i,a,s){r(this,e);var u=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));u.opts=i;var c=n(1)(t,i.label,a);return n(5)(c,i.label,a),u.input=c.appendChild(document.createElement("input")),u.input.type="text",u.input.className="guify-text",i.initial&&(u.input.value=i.initial),i.label&&u.input.setAttribute("aria-label",i.label),(0,h.default)(u.input,{position:"absolute",paddingLeft:"6px",height:"20px",width:"calc(100% - "+a.sizing.labelWidth+")",border:"none",background:a.colors.background2,color:a.colors.text2,fontFamily:"inherit","box-sizing":"border-box","-moz-box-sizing":"border-box","-webkit-box-sizing":"border-box",resize:"vertical"}),setTimeout(function(){u.emit("initialized",u.input.value)}),u.input.oninput=function(t){u.emit("input",t.target.value)},u.input.addEventListener("focus",function(){(0,h.default)(u.input,{outline:"none"}),u.focused=!0}),u.input.addEventListener("blur",function(){u.focused=!1}),u}return a(e,t),s(e,[{key:"SetValue",value:function(t){!0!==this.focused&&(this.input.value=t)}},{key:"GetValue",value:function(){return this.input.value}}]),e}(c.default);e.default=f,t.exports=e.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(4),c=i(u),l=n(54),h=i(l),f=n(0),p=i(f),d=n(15),b=i(d),g=n(13),m=i(g),y=function(t){function e(t,i,a,s){r(this,e);var u=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));u.opts=i,i.format=i.format||"rgb",i.initial=i.initial||"#123456";var c=n(1)(t,i.label,a);n(5)(c,i.label,a);var l=c.appendChild(document.createElement("span"));l.className="guify-color-"+s;var f=n(14)(c,"",a,"calc(100% - "+a.sizing.labelWidth+" - 12.5% - 0.75em)");l.onmouseover=function(){u.picker.$el.style.display=""};var d=i.initial;switch(i.format){case"rgb":case"hex":d=(0,b.default)(d).toHexString();break;case"array":d=b.default.fromRatio({r:d[0],g:d[1],b:d[2]}).toHexString()}return u.picker=new h.default({el:l,color:d,background:a.colors.background1,width:125,height:100}),(0,
p.default)(u.picker.$el,{marginTop:"20px",display:"none",position:"absolute"}),(0,p.default)(l,{position:"relative",display:"inline-block",width:"12.5%",height:"20px",backgroundColor:u.picker.getHexString()}),u.InjectStyles(),l.onmouseout=function(t){u.picker.$el.style.display="none"},setTimeout(function(){u.emit("initialized",d)}),u.picker.onChange(function(t){f.innerHTML=u.Format(t),(0,p.default)(l,{backgroundColor:t}),u.emit("input",u.Format(t))}),u}return a(e,t),s(e,[{key:"Format",value:function(t){switch(this.opts.format){case"rgb":return(0,b.default)(t).toRgbString();case"hex":return(0,b.default)(t).toHexString();case"array":var e=(0,b.default)(t).toRgb();return[e.r/255,e.g/255,e.b/255].map(function(t){return t.toFixed(2)});default:return t}}},{key:"SetValue",value:function(t){this.picker.setColor(t)}},{key:"GetValue",value:function(){return this.Format(this.picker.getColor())}},{key:"InjectStyles",value:function(){(0,m.default)("\n\n        .Scp {\n            width: 125px;\n            height: 100px;\n            -webkit-user-select: none;\n            -moz-user-select: none;\n                -ms-user-select: none;\n                    user-select: none;\n            position: relative;\n            z-index: 1000;\n            cursor: pointer;\n        }\n        .Scp-saturation {\n            position: relative;\n            width: calc(100% - 25px);\n            height: 100%;\n            background: linear-gradient(to right, #fff 0%, #f00 100%);\n            float: left;\n            margin-right: 5px;\n        }\n        .Scp-brightness {\n            width: 100%;\n            height: 100%;\n            background: linear-gradient(to top, #000 0%, rgba(255,255,255,0) 100%);\n        }\n        .Scp-sbSelector {\n            border: 1px solid;\n            position: absolute;\n            width: 14px;\n            height: 14px;\n            background: #fff;\n            border-radius: 10px;\n            top: -7px;\n            left: -7px;\n            box-sizing: border-box;\n            z-index: 10;\n        }\n        .Scp-hue {\n            width: 20px;\n            height: 100%;\n            position: relative;\n            float: left;\n            background: linear-gradient(to bottom, #f00 0%, #f0f 17%, #00f 34%, #0ff 50%, #0f0 67%, #ff0 84%, #f00 100%);\n        }\n        .Scp-hSelector {\n            position: absolute;\n            background: #fff;\n            border-bottom: 1px solid #000;\n            right: -3px;\n            width: 10px;\n            height: 2px;\n        }\n\n        ")}}]),e}(c.default);e.default=y,t.exports=e.default},function(t,e,n){"use strict";!function(){function e(t){return t=t||{},this.color=null,this.width=0,this.widthUnits="px",this.height=0,this.heightUnits="px",this.hue=0,this.position={x:0,y:0},this.huePosition=0,this.saturationWidth=0,this.hueHeight=0,this.maxHue=0,this.inputIsNumber=!1,this._onSaturationMouseDown=this._onSaturationMouseDown.bind(this),this._onSaturationMouseMove=this._onSaturationMouseMove.bind(this),this._onSaturationMouseUp=this._onSaturationMouseUp.bind(this),this._onHueMouseDown=this._onHueMouseDown.bind(this),this._onHueMouseMove=this._onHueMouseMove.bind(this),this._onHueMouseUp=this._onHueMouseUp.bind(this),this.$el=document.createElement("div"),this.$el.className="Scp",this.$el.innerHTML=['<div class="Scp-saturation">','<div class="Scp-brightness"></div>','<div class="Scp-sbSelector"></div>',"</div>",'<div class="Scp-hue">','<div class="Scp-hSelector"></div>',"</div>"].join(""),this.$saturation=this.$el.querySelector(".Scp-saturation"),this.$hue=this.$el.querySelector(".Scp-hue"),this.$sbSelector=this.$el.querySelector(".Scp-sbSelector"),this.$hSelector=this.$el.querySelector(".Scp-hSelector"),this.$saturation.addEventListener("mousedown",this._onSaturationMouseDown),this.$saturation.addEventListener("touchstart",this._onSaturationMouseDown),this.$hue.addEventListener("mousedown",this._onHueMouseDown),this.$hue.addEventListener("touchstart",this._onHueMouseDown),t.el&&this.appendTo(t.el),t.background&&this.setBackgroundColor(t.background),t.widthUnits&&(this.widthUnits=t.widthUnits),t.heightUnits&&(this.heightUnits=t.heightUnits),this.setSize(t.width||175,t.height||150),this.setColor(t.color),this}function i(t,e,n){return Math.min(Math.max(t,e),n)}function r(t){return t=0===t.type.indexOf("touch")?t.touches[0]:t,{x:t.clientX,y:t.clientY}}function o(t){return t="#"+("00000"+(0|t).toString(16)).substr(-6)}var a=n(55),s=n(56),u=n(15),c=n(59);a(e.prototype),e.prototype.appendTo=function(t){return t.appendChild(this.$el),this},e.prototype.remove=function(){this._onSaturationMouseUp(),this._onHueMouseUp(),this.$saturation.removeEventListener("mousedown",this._onSaturationMouseDown),this.$saturation.removeEventListener("touchstart",this._onSaturationMouseDown),this.$hue.removeEventListener("mousedown",this._onHueMouseDown),this.$hue.removeEventListener("touchstart",this._onHueMouseDown),this.off(),this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el)},e.prototype.setColor=function(t){s(t)?(this.inputIsNumber=!0,t=o(t)):this.inputIsNumber=!1,this.color=u(t);var e=this.color.toHsv();return isNaN(e.h)||(this.hue=e.h),this._moveSelectorTo(this.saturationWidth*e.s,(1-e.v)*this.hueHeight),this._moveHueTo((1-this.hue/360)*this.hueHeight),this._updateHue(),this},e.prototype.setSize=function(t,e){return this.width=t,this.height=e,this.$el.style.width=this.width+this.widthUnits,this.$el.style.height=this.height+this.heightUnits,this.saturationWidth=this.width-25,this.$saturation.style.width=this.saturationWidth+"px",this.hueHeight=this.height,this.maxHue=this.hueHeight-2,this},e.prototype.setBackgroundColor=function(t){return s(t)&&(t=o(t)),this.$el.style.padding="5px",this.$el.style.background=u(t).toHexString(),this},e.prototype.setNoBackground=function(){this.$el.style.padding="0px",this.$el.style.background="none"},e.prototype.onChange=function(t){return this.on("update",t),this.emit("update",this.getHexString()),this},e.prototype.getColor=function(){return this.inputIsNumber?this.getHexNumber():this.color.toString()},e.prototype.getHexString=function(){return this.color.toHexString().toUpperCase()},e.prototype.getHexNumber=function(){return parseInt(this.color.toHex(),16)},e.prototype.getRGB=function(){return this.color.toRgb()},e.prototype.getHSV=function(){return this.color.toHsv()},e.prototype.isDark=function(){return this.color.isDark()},e.prototype.isLight=function(){return this.color.isLight()},e.prototype._moveSelectorTo=function(t,e){this.position.x=i(t,0,this.saturationWidth),this.position.y=i(e,0,this.hueHeight),c(this.$sbSelector,{x:this.position.x,y:this.position.y})},e.prototype._updateColorFromPosition=function(){this.color=u({h:this.hue,s:this.position.x/this.saturationWidth,v:1-this.position.y/this.hueHeight}),this._updateColor()},e.prototype._moveHueTo=function(t){this.huePosition=i(t,0,this.maxHue),c(this.$hSelector,{y:this.huePosition})},e.prototype._updateHueFromPosition=function(){var t=this.color.toHsv();this.hue=360*(1-this.huePosition/this.maxHue),this.color=u({h:this.hue,s:t.s,v:t.v}),this._updateHue()},e.prototype._updateHue=function(){var t=u({h:this.hue,s:1,v:1});this.$saturation.style.background="linear-gradient(to right, #fff, "+t.toHexString()+")",this._updateColor()},e.prototype._updateColor=function(){this.$sbSelector.style.background=this.color.toHexString(),this.$sbSelector.style.borderColor=this.color.isDark()?"#fff":"#000",this.emit("update",this.color.toHexString())},e.prototype._onSaturationMouseDown=function(t){var e=this.$saturation.getBoundingClientRect(),n=r(t).x,i=r(t).y;this._moveSelectorTo(n-e.left,i-e.top),this._updateColorFromPosition(),window.addEventListener("mouseup",this._onSaturationMouseUp),window.addEventListener("touchend",this._onSaturationMouseUp),window.addEventListener("mousemove",this._onSaturationMouseMove),window.addEventListener("touchmove",this._onSaturationMouseMove),t.preventDefault()},e.prototype._onSaturationMouseMove=function(t){var e=this.$saturation.getBoundingClientRect(),n=r(t).x,i=r(t).y;this._moveSelectorTo(n-e.left,i-e.top),this._updateColorFromPosition()},e.prototype._onSaturationMouseUp=function(){window.removeEventListener("mouseup",this._onSaturationMouseUp),window.removeEventListener("touchend",this._onSaturationMouseUp),window.removeEventListener("mousemove",this._onSaturationMouseMove),window.removeEventListener("touchmove",this._onSaturationMouseMove)},e.prototype._onHueMouseDown=function(t){var e=this.$hue.getBoundingClientRect(),n=r(t).y;this._moveHueTo(n-e.top),this._updateHueFromPosition(),window.addEventListener("mouseup",this._onHueMouseUp),window.addEventListener("touchend",this._onHueMouseUp),window.addEventListener("mousemove",this._onHueMouseMove),window.addEventListener("touchmove",this._onHueMouseMove),t.preventDefault()},e.prototype._onHueMouseMove=function(t){var e=this.$hue.getBoundingClientRect(),n=r(t).y;this._moveHueTo(n-e.top),this._updateHueFromPosition()},e.prototype._onHueMouseUp=function(){window.removeEventListener("mouseup",this._onHueMouseUp),window.removeEventListener("touchend",this._onHueMouseUp),window.removeEventListener("mousemove",this._onHueMouseMove),window.removeEventListener("touchmove",this._onHueMouseMove)},void 0!==t&&t.exports&&(t.exports=e)}()},function(t,e,n){function i(t){if(t)return r(t)}function r(t){for(var e in i.prototype)t[e]=i.prototype[e];return t}t.exports=i,i.prototype.on=i.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},i.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i,r=0;r<n.length;r++)if((i=n[r])===e||i.fn===e){n.splice(r,1);break}return this},i.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n){n=n.slice(0);for(var i=0,r=n.length;i<r;++i)n[i].apply(this,e)}return this},i.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},i.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,n){"use strict";var i=n(57);t.exports=function(t){var e=i(t);if("number"!==e&&"string"!==e)return!1;var n=+t;return n-n+1>=0&&""!==t}},function(t,e,n){var i=n(58),r=Object.prototype.toString;t.exports=function(t){if(void 0===t)return"undefined";if(null===t)return"null";if(!0===t||!1===t||t instanceof Boolean)return"boolean";if("string"==typeof t||t instanceof String)return"string";if("number"==typeof t||t instanceof Number)return"number";if("function"==typeof t||t instanceof Function)return"function";if(void 0!==Array.isArray&&Array.isArray(t))return"array";if(t instanceof RegExp)return"regexp";if(t instanceof Date)return"date";var e=r.call(t);return"[object RegExp]"===e?"regexp":"[object Date]"===e?"date":"[object Arguments]"===e?"arguments":"[object Error]"===e?"error":i(t)?"buffer":"[object Set]"===e?"set":"[object WeakSet]"===e?"weakset":"[object Map]"===e?"map":"[object WeakMap]"===e?"weakmap":"[object Symbol]"===e?"symbol":"[object Int8Array]"===e?"int8array":"[object Uint8Array]"===e?"uint8array":"[object Uint8ClampedArray]"===e?"uint8clampedarray":"[object Int16Array]"===e?"int16array":"[object Uint16Array]"===e?"uint16array":"[object Int32Array]"===e?"int32array":"[object Uint32Array]"===e?"uint32array":"[object Float32Array]"===e?"float32array":"[object Float64Array]"===e?"float64array":"object"}},function(t,e){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function i(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}t.exports=function(t){return null!=t&&(n(t)||i(t)||!!t._isBuffer)}},function(t,e,n){"use strict";function i(t,e){var n,i,r,o=[];s(e);for(n in e)p.call(e,n)&&(i=e[n],p.call(h.transform,n)?(r=h.transform[n],l(i)&&(i=i.join(r.separator)),o.push(n+"("+f(i,r.defaultUnit,r.separator)+")")):p.call(h,n)?(r=h[n],l(i)&&(i=i.join(r.separator)),t.style[c(n)]=f(i,r.defaultUnit,r.separator)):console.warn("dom-transform: this property (`"+n+"`) is not supported."));t.style[d]=o.join(" ")}function r(t,e){var n=t.style;if("string"==typeof e)return p.call(h.transform,e)?n[d]:n[c(e)];e||(e=u());var i={};return e.forEach(function(t){i[t]=n[c(t)]}),i}function o(t,e){var n=t.style;if("string"==typeof e)return void(n[c(e)]=null);e||(e=u()),e.forEach(function(t){n[c(t)]=null})}function a(){return d.length>0}function s(t){var e;for(e in t)p.call(b,e)&&(t[b[e]]=t[e],delete t[e])}function u(){return Object.keys(h).map(function(t){return t})}var c=n(60),l=n(61),h=n(62),f=n(63),p=Object.prototype.hasOwnProperty,d=c("transform"),b={x:"translateX",y:"translateY",z:"translateZ",origin:"transformOrigin"};e=t.exports=i,e.get=r,e.reset=o,e.isSupported=a},function(t,e){function n(t){if(t=t.replace(/-([a-z])/g,function(t,e){return e.toUpperCase()}),void 0!==o[t])return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=a.length;n--;){var i=a[n]+e;if(void 0!==o[i])return i}return t}function i(t){return t in u?u[t]:u[t]=n(t)}function r(t){return t=n(t),s.test(t)&&(t="-"+t.replace(s,"-$1"),s.lastIndex=0),t.toLowerCase()}var o="undefined"!=typeof document?document.createElement("p").style:{},a=["O","ms","Moz","Webkit"],s=/([A-Z])/g,u={};t.exports=i,t.exports.dash=r},function(t,e){var n=Array.isArray,i=Object.prototype.toString;t.exports=n||function(t){return!!t&&"[object Array]"==i.call(t)}},function(t,e,n){"use strict";t.exports={transform:{translate:{defaultUnit:"px"},translate3d:{defaultUnit:"px"},translateX:{defaultUnit:"px"},translateY:{defaultUnit:"px"},translateZ:{defaultUnit:"px"},scale:{defaultUnit:""},scale3d:{defaultUnit:""},scaleX:{defaultUnit:""},scaleY:{defaultUnit:""},scaleZ:{defaultUnit:""},rotate:{defaultUnit:"deg"},rotate3d:{defaultUnit:""},rotateX:{defaultUnit:"deg"},rotateY:{defaultUnit:"deg"},rotateZ:{defaultUnit:"deg"},skew:{defaultUnit:"deg"},skewX:{defaultUnit:"deg"},skewY:{defaultUnit:"deg"},perspective:{defaultUnit:"px"},matrix:{defaultUnit:""},matrix3d:{defaultUnit:""}},transformOrigin:{defaultUnit:"px",separator:" "}}},function(t,e,n){"use strict";var i=n(64),r=/^-?\d+(\.\d+)?$/;t.exports=function(t,e,n){if(n=n||",","number"==typeof t)return""+t+e;var o=new RegExp(n,"g");return t.split(o.test(t)?n:" ").map(function(t){return t=i(t),r.test(t)&&(t+=e),t}).join(n)}},function(t,e){function n(t){return t.replace(/^\s*|\s*$/g,"")}e=t.exports=n,e.left=function(t){return t.replace(/^\s*/,"")},e.right=function(t){return t.replace(/\s*$/,"")}},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(0),a=function(t){return t&&t.__esModule?t:{default:t}}(o),s=n(66),u=function(){function t(e,r,o,u){var c=this;i(this,t),this.opts=r;var l=n(1)(e,r.label,o);l.classList.add(s["guify-folder"]),l.setAttribute("role","button"),l.setAttribute("tabIndex","0"),(0,a.default)(l,{color:o.colors.text1}),this.arrow=l.appendChild(document.createElement("div")),this.arrow.innerHTML="&#9662;",(0,a.default)(this.arrow,{width:"5%"}),this.label=l.appendChild(document.createElement("div")),this.label.innerHTML=r.label,l.onclick=function(){c.Toggle()},l.addEventListener("keydown",function(t){13!==t.which&&32!==t.which||c.Toggle()}),this.folderContainer=e.appendChild(document.createElement("div")),this.folderContainer.classList.add(s["guify-folder-contents"]),this.open=this.opts.open||!1,this.SetOpen(this.open)}return r(t,[{key:"Toggle",value:function(){this.open=!this.open,this.SetOpen(this.open)}},{key:"SetOpen",value:function(t){this.open=t,t?(this.folderContainer.classList.remove(s["guify-folder-closed"]),this.arrow.innerHTML="&#9662;"):(this.folderContainer.classList.add(s["guify-folder-closed"]),this.arrow.innerHTML="&#9656;")}}]),t}();e.default=u,t.exports=e.default},function(t,e,n){"use strict";var i=function(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\n.guify-folder {\n    cursor: pointer;\n    padding-left: 2px;\n}\n\n.guify-folder div {\n    display: inline-block;\n    vertical-align: sub;\n    line-height: 25px;\n}\n\n.guify-folder:hover,\n.guify-folder:focus {\n    background-color: ",";\n    outline: none;\n}\n\n\n.guify-folder-contents {\n    display: block;\n    box-sizing: border-box;\n    padding-left: 14px;\n    margin-bottom: 5px;\n}\n\n.guify-folder-contents.guify-folder-closed {\n    height: 0;\n    display: none;\n}\n\n\n"],["\n\n.guify-folder {\n    cursor: pointer;\n    padding-left: 2px;\n}\n\n.guify-folder div {\n    display: inline-block;\n    vertical-align: sub;\n    line-height: 25px;\n}\n\n.guify-folder:hover,\n.guify-folder:focus {\n    background-color: ",";\n    outline: none;\n}\n\n\n.guify-folder-contents {\n    display: block;\n    box-sizing: border-box;\n    padding-left: 14px;\n    margin-bottom: 5px;\n}\n\n.guify-folder-contents.guify-folder-closed {\n    height: 0;\n    display: none;\n}\n\n\n"]),r=n(2),o=function(t){return t&&t.__esModule?t:{default:t}}(r),a=n(3);t.exports=a(i,o.default.theme.colors.background2hover)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(4),c=i(u),l=n(0),h=i(l),f=n(68),p=function(t){function e(t,i,a,s){r(this,e);var u=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));u.opts=i,u.opts.fileReadFunc=u.opts.fileReadFunc||"readAsDataURL",u.file=null,u.fileName=null;var c=n(1)(t,i.label,a);c.classList.add(f["guify-file-container"]),c.setAttribute("role","button"),c.setAttribute("tabIndex","0"),(0,h.default)(c,{width:"100%","box-sizing":"border-box","-moz-box-sizing":"border-box","-webkit-box-sizing":"border-box",height:"unset",padding:"8px",color:a.colors.text1});var l=c.appendChild(document.createElement("div"));l.innerHTML=i.label,(0,h.default)(l,{"padding-bottom":"5px"});var p=c.appendChild(document.createElement("input"));p.setAttribute("type","file"),p.setAttribute("multiple",!1),p.style.display="none",i.label&&p.setAttribute("aria-label",i.label),u.fileLabel=c.appendChild(document.createElement("div")),u.fileLabel.innerHTML="Choose a file...";var d=function(t){var e;t.dataTransfer?e=t.dataTransfer.files:t.target&&(e=t.target.files);var n=(e[0],new FileReader);n.onload=function(){u.file=n.result,u.fileLabel.innerHTML=e[0].name,u.emit("input",u.file)},n[u.opts.fileReadFunc](e[0])};return p.addEventListener("change",d),c.addEventListener("dragover",function(t){t.preventDefault(),t.stopPropagation(),c.classList.add(f["guify-dragover"])}),c.addEventListener("dragleave",function(t){t.preventDefault(),t.stopPropagation(),c.classList.remove(f["guify-dragover"])}),c.addEventListener("drop",function(t){t.preventDefault(),t.stopPropagation(),c.classList.remove(f["guify-dragover"]),d(t)}),c.onclick=function(){p.click()},c.addEventListener("keydown",function(t){13!==t.which&&32!==t.which||p.click()}),u}return a(e,t),s(e,[{key:"SetValue",value:function(t){}},{key:"GetValue",value:function(){return this.file}}]),e}(c.default);e.default=p,t.exports=e.default},function(t,e,n){"use strict";var i=function(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\n.guify-file-container {\n    display: inline-block;\n    outline: none;\n    padding-top: 8px;\n    padding-bottom: 8px;\n    background-color: ",";\n}\n\n.guify-file-container:hover,\n.guify-file-container:focus {\n    color: ",";\n    background-color: ",";\n}\n\n.guify-file-container:active {\n    color: "," !important;\n    background-color: "," !important;\n}\n\n.guify-dragover {\n    background-color: ",";\n    box-shadow: inset 0 0 0 3px ",";\n}\n\n\n"],["\n\n.guify-file-container {\n    display: inline-block;\n    outline: none;\n    padding-top: 8px;\n    padding-bottom: 8px;\n    background-color: ",";\n}\n\n.guify-file-container:hover,\n.guify-file-container:focus {\n    color: ",";\n    background-color: ",";\n}\n\n.guify-file-container:active {\n    color: "," !important;\n    background-color: "," !important;\n}\n\n.guify-dragover {\n    background-color: ",";\n    box-shadow: inset 0 0 0 3px ",";\n}\n\n\n"]),r=n(2),o=function(t){return t&&t.__esModule?t:{default:t}}(r),a=n(3);t.exports=a(i,o.default.theme.colors.background2,o.default.theme.colors.text2,o.default.theme.colors.background2hover,o.default.theme.colors.background2,o.default.theme.colors.text2,o.default.theme.colors.background2,o.default.theme.colors.background2hover)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(0),a=function(t){return t&&t.__esModule?t:{default:t}}(o),s=function(){function t(e,r,o,s){i(this,t),this.opts=r;var u=n(1)(e,r.label,o);n(5)(u,r.label,o),this.text=u.appendChild(document.createElement("div")),(0,a.default)(this.text,{display:"inline-block",height:"unset",width:"calc(100% - "+o.sizing.labelWidth+")",border:"none",color:o.colors.text2,fontFamily:"inherit","box-sizing":"border-box","-moz-box-sizing":"border-box","-webkit-box-sizing":"border-box",verticalAlign:"sub","line-height":"20px","user-select":"text"}),r.label&&this.text.setAttribute("aria-label",r.label)}return r(t,[{key:"SetValue",value:function(t){this.text.innerHTML=t.toString()}},{key:"GetValue",value:function(){return this.text.innerHTML.toString()}}]),t}();e.default=s,t.exports=e.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.MenuBar=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(0),c=i(u),l=n(4),h=i(l);e.MenuBar=function(t){function e(t,i){r(this,e);var a=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)),s=n(71);if(a.element=document.createElement("div"),a.element.className=s["guify-bar"],t.appendChild(a.element),i.title){var u=a.element.appendChild(document.createElement("div"));u.className=s["guify-bar-title"],u.innerHTML=i.title,(0,c.default)(u,{color:i.theme.colors.text1})}var l=a.element.appendChild(document.createElement("button"));if(l.className=s["guify-bar-button"],l.innerHTML="Controls",(0,c.default)(l,{left:"left"==i.align?"8px":"unset",right:"left"==i.align?"unset":"8px"}),l.onclick=function(){a.emit("ontogglepanel")},"offset"==i.barMode){i.root.style.height=i.root.offsetHeight+a.element.offsetHeight+"px";var h=document.createElement("div");h.style.width="100%",h.style.height=a.element.offsetHeight,i.root.insertBefore(h,i.root.childNodes[0])}return a}return a(e,t),s(e,[{key:"SetVisible",value:function(t){this.element.style.display=t?"block":"none"}}]),e}(h.default)},function(t,e,n){"use strict";var i=function(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\n.guify-bar {\n    background-color: ",";\n    height: ",";\n    width: 100%;\n    opacity: 1.0;\n    position: relative;\n    left: 0;\n    top: 0;\n    cursor: default;\n}\n\n.guify-bar-title {\n    text-align: center;\n    width: 100%;\n    position: absolute;\n    top: calc(("," - ",") / 2);\n    line-height: ",";\n    color: ",";\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n}\n\n.guify-bar-button {\n    text-align: center;\n    border: none;\n    cursor: pointer;\n    font-family: inherit;\n    height: ",";\n    position: absolute;\n    top: calc(("," - ",") / 2);\n    color: ",";\n    background-color: ",";\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n\n}\n\n.guify-bar-button:hover,\n.guify-bar-button:focus {\n    background-color: ",";\n}\n\n.guify-bar-button:active {\n    color: "," !important;\n    background-color: "," !important;\n}\n\n\n"],["\n\n.guify-bar {\n    background-color: ",";\n    height: ",";\n    width: 100%;\n    opacity: 1.0;\n    position: relative;\n    left: 0;\n    top: 0;\n    cursor: default;\n}\n\n.guify-bar-title {\n    text-align: center;\n    width: 100%;\n    position: absolute;\n    top: calc(("," - ",") / 2);\n    line-height: ",";\n    color: ",";\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n}\n\n.guify-bar-button {\n    text-align: center;\n    border: none;\n    cursor: pointer;\n    font-family: inherit;\n    height: ",";\n    position: absolute;\n    top: calc(("," - ",") / 2);\n    color: ",";\n    background-color: ",";\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n\n}\n\n.guify-bar-button:hover,\n.guify-bar-button:focus {\n    background-color: ",";\n}\n\n.guify-bar-button:active {\n    color: "," !important;\n    background-color: "," !important;\n}\n\n\n"]),r=n(2),o=function(t){return t&&t.__esModule?t:{default:t}}(r),a=n(3);t.exports=a(i,o.default.theme.colors.background1,o.default.theme.sizing.menuBarHeight,o.default.theme.sizing.menuBarHeight,o.default.theme.sizing.menuBarContentHeight,o.default.theme.sizing.menuBarContentHeight,o.default.theme.colors.text1,o.default.theme.sizing.menuBarContentHeight,o.default.theme.sizing.menuBarHeight,o.default.theme.sizing.menuBarContentHeight,o.default.theme.colors.text1,o.default.theme.colors.background2,o.default.theme.colors.background2hover,o.default.theme.colors.background2,o.default.theme.colors.text2)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Panel=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(0),a=function(t){return t&&t.__esModule?t:{default:t}}(o);e.Panel=function(){function t(e,r){i(this,t),this.styles=n(73),this.element=e.appendChild(document.createElement("div")),this.element.className=this.styles["guify-panel"],(0,a.default)(this.element,{background:r.theme.colors.background1,width:r.width,opacity:r.opacity||1,left:"left"==r.align?"0px":"unset",right:"left"==r.align?"unset":"0px",transition:"height 0.3s ease, margin 0.3s ease"}),r.title&&"none"===r.barMode&&n(74)(this.element,r.title,r.theme)}return r(t,[{key:"SetVisible",value:function(t){t?this.element.classList.remove(this.styles["guify-panel-hidden"]):this.element.classList.add(this.styles["guify-panel-hidden"])}},{key:"ToggleVisible",value:function(){this.element.classList.contains(this.styles["guify-panel-hidden"])?this.SetVisible(!0):this.SetVisible(!1)}}]),t}()},function(t,e,n){"use strict";var i=function(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\n.guify-panel {\n    position: absolute;\n    padding: 14px;\n    /* Last component will have a margin, so reduce padding to account for this */\n    padding-bottom: calc(14px - ",");\n\n    /* all: initial;  */\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    cursor: default;\n    text-align: left;\n    box-sizing: border-box;\n}\n\n.guify-panel.guify-panel-hidden {\n    height: 0px;\n    display: none;\n    /* transition: height 0.3s ease, padding-top 0.3s ease, padding-bottom 0.3s ease; */\n}\n\n.guify-panel * {\n    box-sizing: initial;\n    -webkit-box-sizing: initial;\n    -moz-box-sizing: initial;\n}\n\n.guify-panel * input {\n    font-family: 'Hack';\n    font-size: 11px;\n    display: inline;\n}\n\n.guify-panel * a {\n    color: inherit;\n    text-decoration: none;\n}\n\n"],["\n\n.guify-panel {\n    position: absolute;\n    padding: 14px;\n    /* Last component will have a margin, so reduce padding to account for this */\n    padding-bottom: calc(14px - ",");\n\n    /* all: initial;  */\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    cursor: default;\n    text-align: left;\n    box-sizing: border-box;\n}\n\n.guify-panel.guify-panel-hidden {\n    height: 0px;\n    display: none;\n    /* transition: height 0.3s ease, padding-top 0.3s ease, padding-bottom 0.3s ease; */\n}\n\n.guify-panel * {\n    box-sizing: initial;\n    -webkit-box-sizing: initial;\n    -moz-box-sizing: initial;\n}\n\n.guify-panel * input {\n    font-family: 'Hack';\n    font-size: 11px;\n    display: inline;\n}\n\n.guify-panel * a {\n    color: inherit;\n    text-decoration: none;\n}\n\n"]),r=n(2),o=function(t){return t&&t.__esModule?t:{default:t}}(r),a=n(3);t.exports=a(i,o.default.theme.sizing.componentSpacing)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){var i=t.appendChild(document.createElement("div"));return i.innerHTML=e,(0,r.default)(i,{width:"100%",textAlign:"center",color:n.colors.text2,height:"20px",marginBottom:"4px"}),i};var i=n(0),r=function(t){return t&&t.__esModule?t:{default:t}}(i);t.exports=e.default},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.ToastArea=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)
}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(0),a=function(t){return t&&t.__esModule?t:{default:t}}(o);e.ToastArea=function(){function t(e,r){i(this,t),this.opts=r,this.styles=n(76),this.element=e.appendChild(document.createElement("div")),this.element.classList.add(this.styles["guify-toast-area"]),(0,a.default)(this.element,{position:"absolute",width:"100%"})}return r(t,[{key:"CreateToast",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;console.log("[Toast] "+t);var i=this.element.appendChild(document.createElement("div"));i.classList.add(this.styles["guify-toast-notification"]),i.setAttribute("aria-live","polite"),(0,a.default)(i,{"box-sizing":"border-box",color:this.opts.theme.colors.text1,position:"relative",width:"100%",padding:"8px","padding-left":"20px","padding-right":"20px","text-align":"center","font-family":"Hack', monospace","font-size":"11px"}),i.innerHTML=t;var r=i.appendChild(document.createElement("button"));r.innerHTML="&#10006;",(0,a.default)(r,{background:"rgba(0, 0, 0, 0)",color:this.opts.theme.colors.text1,position:"absolute",textAlign:"center","margin-top":"auto","margin-bottom":"auto",border:"none",cursor:"pointer",fontFamily:"inherit",top:"0",bottom:"0",right:"8px"});var o=void 0,s=function(){(0,a.default)(i,{"-webkit-transition":"-webkit-opacity "+n+"ms linear",transition:"opacity "+n+"ms linear",opacity:"0"}),clearTimeout(o),o=setTimeout(function(){i&&i.parentNode.removeChild(i)},n)};o=setTimeout(s,e),r.onclick=s}}]),t}()},function(t,e,n){"use strict";var i=function(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\n.guify-toast-area .guify-toast-notification:nth-child(odd) {\n    background-color: ",";\n}\n\n.guify-toast-area .guify-toast-notification:nth-child(even) {\n    background-color: ",";\n}\n\n"],["\n\n.guify-toast-area .guify-toast-notification:nth-child(odd) {\n    background-color: ",";\n}\n\n.guify-toast-area .guify-toast-notification:nth-child(even) {\n    background-color: ",";\n}\n\n"]),r=n(2),o=function(t){return t&&t.__esModule?t:{default:t}}(r),a=n(3);t.exports=a(i,o.default.theme.colors.background2,o.default.theme.colors.background1)},function(t,e,n){"use strict";var i=function(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n\n.guify-container {\n    position: absolute;\n    left: 0;\n    width: 100%;\n    font-size: 11px;\n}\n\n"],["\n\n.guify-container {\n    position: absolute;\n    left: 0;\n    width: 100%;\n    font-size: 11px;\n}\n\n"]),r=n(2),o=(function(t){t&&t.__esModule}(r),n(3));t.exports=o(i)}])})},{}],16:[function(t,e,n){!function(t,i){"object"==typeof n&&"object"==typeof e?e.exports=i():"function"==typeof define&&define.amd?define([],i):"object"==typeof n?n.MidiConvert=i():t.MidiConvert=i()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(7),r=n(2),o={instrumentByPatchID:r.instrumentByPatchID,instrumentFamilyByID:r.instrumentFamilyByID,parse:function(t){return(new i.Midi).decode(t)},load:function(t,e){var n=(new i.Midi).load(t);return e&&n.then(e),n},create:function(){return new i.Midi}};e.default=o,t.exports=o},function(t,e){"use strict";function n(t){return t.replace(/\u0000/g,"")}function i(t,e){return 60/e.bpm*(t/e.PPQ)}function r(t){return"number"==typeof t}function o(t){return"string"==typeof t}function a(t){return["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"][t%12]+(Math.floor(t/12)-1)}var s=function(){var t=/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i;return function(e){return o(e)&&t.test(e)}}(),u=function(){var t=/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,e={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13};return function(n){var i=t.exec(n),r=i[1],o=i[2];return e[r.toLowerCase()]+12*(parseInt(o)+1)}}();t.exports={cleanName:n,ticksToSeconds:i,isString:o,isNumber:r,isPitch:s,midiToPitch:a,pitchToMidi:u}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.instrumentByPatchID=["acoustic grand piano","bright acoustic piano","electric grand piano","honky-tonk piano","electric piano 1","electric piano 2","harpsichord","clavi","celesta","glockenspiel","music box","vibraphone","marimba","xylophone","tubular bells","dulcimer","drawbar organ","percussive organ","rock organ","church organ","reed organ","accordion","harmonica","tango accordion","acoustic guitar (nylon)","acoustic guitar (steel)","electric guitar (jazz)","electric guitar (clean)","electric guitar (muted)","overdriven guitar","distortion guitar","guitar harmonics","acoustic bass","electric bass (finger)","electric bass (pick)","fretless bass","slap bass 1","slap bass 2","synth bass 1","synth bass 2","violin","viola","cello","contrabass","tremolo strings","pizzicato strings","orchestral harp","timpani","string ensemble 1","string ensemble 2","synthstrings 1","synthstrings 2","choir aahs","voice oohs","synth voice","orchestra hit","trumpet","trombone","tuba","muted trumpet","french horn","brass section","synthbrass 1","synthbrass 2","soprano sax","alto sax","tenor sax","baritone sax","oboe","english horn","bassoon","clarinet","piccolo","flute","recorder","pan flute","blown bottle","shakuhachi","whistle","ocarina","lead 1 (square)","lead 2 (sawtooth)","lead 3 (calliope)","lead 4 (chiff)","lead 5 (charang)","lead 6 (voice)","lead 7 (fifths)","lead 8 (bass + lead)","pad 1 (new age)","pad 2 (warm)","pad 3 (polysynth)","pad 4 (choir)","pad 5 (bowed)","pad 6 (metallic)","pad 7 (halo)","pad 8 (sweep)","fx 1 (rain)","fx 2 (soundtrack)","fx 3 (crystal)","fx 4 (atmosphere)","fx 5 (brightness)","fx 6 (goblins)","fx 7 (echoes)","fx 8 (sci-fi)","sitar","banjo","shamisen","koto","kalimba","bag pipe","fiddle","shanai","tinkle bell","agogo","steel drums","woodblock","taiko drum","melodic tom","synth drum","reverse cymbal","guitar fret noise","breath noise","seashore","bird tweet","telephone ring","helicopter","applause","gunshot"],e.instrumentFamilyByID=["piano","chromatic percussion","organ","guitar","bass","strings","ensemble","brass","reed","pipe","synth lead","synth pad","synth effects","ethnic","percussive","sound effects"]},function(t,e){"use strict";function n(t,e){var n=0,i=t.length,r=i;if(i>0&&t[i-1].time<=e)return i-1;for(;r>n;){var o=Math.floor(n+(r-n)/2),a=t[o],s=t[o+1];if(a.time===e){for(var u=o;u<t.length;u++){t[u].time===e&&(o=u)}return o}if(a.time<e&&s.time>e)return o;a.time>e?r=o:a.time<e&&(n=o+1)}return-1}function i(t,e){if(t.length){var i=n(t,e.time);t.splice(i+1,0,e)}else t.push(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.BinaryInsert=i},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r={1:"modulationWheel",2:"breath",4:"footController",5:"portamentoTime",7:"volume",8:"balance",10:"pan",64:"sustain",65:"portamentoTime",66:"sostenuto",67:"softPedal",68:"legatoFootswitch",84:"portamentoContro"},o=function(){function t(e,i,r){n(this,t),this.number=e,this.time=i,this.value=r}return i(t,[{key:"name",get:function(){return r.hasOwnProperty(this.number)?r[this.number]:void 0}}]),t}();e.Control=o},function(t,e){"use strict";function n(t){for(var e={PPQ:t.header.ticksPerBeat},n=0;n<t.tracks.length;n++)for(var i=t.tracks[n],r=0;r<i.length;r++){var o=i[r];"meta"===o.type&&("timeSignature"===o.subtype?e.timeSignature=[o.numerator,o.denominator]:"setTempo"===o.subtype&&(e.bpm||(e.bpm=6e7/o.microsecondsPerBeat)))}return e.bpm=e.bpm||120,e}Object.defineProperty(e,"__esModule",{value:!0}),e.parseHeader=n},function(t,e){"use strict";function n(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=e[n];if(i.length>r)return!0}return!1}function i(t,e,n){for(var i=0,r=1/0,o=0;o<t.length;o++){var a=t[o],s=e[o];a[s]&&a[s].time<r&&(i=o,r=a[s].time)}n[i](t[i][e[i]]),e[i]+=1}function r(){for(var t=arguments.length,e=Array(t),r=0;t>r;r++)e[r]=arguments[r];for(var o=e.filter(function(t,e){return e%2==0}),a=new Uint32Array(o.length),s=e.filter(function(t,e){return e%2==1});n(o,a);)i(o,a,s)}Object.defineProperty(e,"__esModule",{value:!0}),e.Merge=r},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Midi=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(11),s=i(a),u=n(10),c=i(u),l=n(1),h=i(l),f=n(9),p=n(5),d=function(){function t(){r(this,t),this.header={bpm:120,timeSignature:[4,4],PPQ:480},this.tracks=[]}return o(t,[{key:"load",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET";return new Promise(function(r,o){var a=new XMLHttpRequest;a.open(i,t),a.responseType="arraybuffer",a.addEventListener("load",function(){4===a.readyState&&200===a.status?r(e.decode(a.response)):o(a.status)}),a.addEventListener("error",o),a.send(n)})}},{key:"decode",value:function(t){var e=this;if(t instanceof ArrayBuffer){var n=new Uint8Array(t);t=String.fromCharCode.apply(null,n)}var i=(0,s.default)(t);return this.header=(0,p.parseHeader)(i),this.tracks=[],i.tracks.forEach(function(t){var n=new f.Track;e.tracks.push(n);var i=0;t.forEach(function(t){i+=h.default.ticksToSeconds(t.deltaTime,e.header),"meta"===t.type&&"trackName"===t.subtype?n.name=h.default.cleanName(t.text):"noteOn"===t.subtype?n.noteOn(t.noteNumber,i,t.velocity/127):"noteOff"===t.subtype?n.noteOff(t.noteNumber,i):"controller"===t.subtype&&t.controllerType?n.cc(t.controllerType,i,t.value/127):"meta"===t.type&&"instrumentName"===t.subtype?n.instrument=t.text:"channel"===t.type&&"programChange"===t.subtype&&n.patch(t.programNumber)})}),this}},{key:"encode",value:function(){var t=this,e=new c.default.File({ticks:this.header.PPQ});return this.tracks.forEach(function(n,i){var r=e.addTrack();r.setTempo(t.bpm),n.encode(r,t.header)}),e.toBytes()}},{key:"toArray",value:function(){for(var t=this.encode(),e=new Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}},{key:"track",value:function(t){var e=new f.Track(t);return this.tracks.push(e),e}},{key:"get",value:function(t){return h.default.isNumber(t)?this.tracks[t]:this.tracks.find(function(e){return e.name===t})}},{key:"slice",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.duration,i=new t;return i.header=this.header,i.tracks=this.tracks.map(function(t){return t.slice(e,n)}),i}},{key:"startTime",get:function(){var t=this.tracks.map(function(t){return t.startTime});return Math.min.apply(Math,t)}},{key:"bpm",get:function(){return this.header.bpm},set:function(t){var e=this.header.bpm;this.header.bpm=t;var n=e/t;this.tracks.forEach(function(t){return t.scale(n)})}},{key:"timeSignature",get:function(){return this.header.timeSignature},set:function(t){this.header.timeSignature=timeSignature}},{key:"duration",get:function(){var t=this.tracks.map(function(t){return t.duration});return Math.max.apply(Math,t)}}]),t}();e.Midi=d},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Note=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(1),a=function(t){return t&&t.__esModule?t:{default:t}}(o),s=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(i(this,t),this.midi,a.default.isNumber(e))this.midi=e;else{if(!a.default.isPitch(e))throw new Error("the midi value must either be in Pitch Notation (e.g. C#4) or a midi value");this.name=e}this.time=n,this.duration=r,this.velocity=o}return r(t,[{key:"match",value:function(t){return a.default.isNumber(t)?this.midi===t:a.default.isPitch(t)?this.name.toLowerCase()===t.toLowerCase():void 0}},{key:"toJSON",value:function(){return{name:this.name,midi:this.midi,time:this.time,velocity:this.velocity,duration:this.duration}}},{key:"name",get:function(){return a.default.midiToPitch(this.midi)},set:function(t){this.midi=a.default.pitchToMidi(t)}},{key:"noteOn",get:function(){return this.time},set:function(t){this.time=t}},{key:"noteOff",get:function(){return this.time+this.duration},set:function(t){this.duration=t-this.time}}]),t}();e.Note=s},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Track=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(3),a=n(4),s=n(6),u=n(8),c=n(2),l=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;i(this,t),this.name=e,this.notes=[],this.controlChanges={},this.instrumentNumber=n}return r(t,[{key:"note",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=new u.Note(t,e,n,i);return(0,o.BinaryInsert)(this.notes,r),this}},{key:"noteOn",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=new u.Note(t,e,0,n);return(0,o.BinaryInsert)(this.notes,i),this}},{key:"noteOff",value:function(t,e){for(var n=0;n<this.notes.length;n++){var i=this.notes[n];if(i.match(t)&&0===i.duration){i.noteOff=e;break}}return this}},{key:"cc",value:function(t,e,n){this.controlChanges.hasOwnProperty(t)||(this.controlChanges[t]=[]);var i=new a.Control(t,e,n);return(0,o.BinaryInsert)(this.controlChanges[t],i),this}},{key:"patch",value:function(t){return this.instrumentNumber=t,this}},{key:"scale",value:function(t){return this.notes.forEach(function(e){e.time*=t,e.duration*=t}),this}},{key:"slice",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.duration,i=Math.max(this.notes.findIndex(function(t){return t.time>=e}),0),r=this.notes.findIndex(function(t){return t.noteOff>=n})+1,o=new t(this.name);return o.notes=this.notes.slice(i,r),o.notes.forEach(function(t){return t.time=t.time-e}),o}},{key:"encode",value:function(t,e){function n(t){var e=Math.floor(i*t),n=Math.max(e-r,0);return r=e,n}var i=e.PPQ/(60/e.bpm),r=0;-1!==this.instrumentNumber&&t.instrument(0,this.instrumentNumber),(0,s.Merge)(this.noteOns,function(e){t.addNoteOn(0,e.name,n(e.time),Math.floor(127*e.velocity))},this.noteOffs,function(e){t.addNoteOff(0,e.name,n(e.time))})}},{key:"noteOns",get:function(){var t=[];return this.notes.forEach(function(e){t.push({time:e.noteOn,midi:e.midi,name:e.name,velocity:e.velocity})}),t}},{key:"noteOffs",get:function(){var t=[];return this.notes.forEach(function(e){t.push({time:e.noteOff,midi:e.midi,name:e.name})}),t}},{key:"length",get:function(){return this.notes.length}},{key:"startTime",get:function(){if(this.notes.length){return this.notes[0].noteOn}return 0}},{key:"duration",get:function(){if(this.notes.length){return this.notes[this.notes.length-1].noteOff}return 0}},{key:"instrument",get:function(){return c.instrumentByPatchID[this.instrumentNumber]},set:function(t){var e=c.instrumentByPatchID.indexOf(t);-1!==e&&(this.instrumentNumber=e)}},{key:"instrumentFamily",get:function(){return c.instrumentFamilyByID[Math.floor(this.instrumentNumber/8)]}}]),t}();e.Track=l},function(t,e,n){(function(t){var n={};!function(t){var e=t.DEFAULT_VOLUME=90,n=(t.DEFAULT_DURATION=128,t.DEFAULT_CHANNEL=0,{midi_letter_pitches:{a:21,b:23,c:12,d:14,e:16,f:17,g:19},midiPitchFromNote:function(t){var e=/([a-g])(#+|b+)?([0-9]+)$/i.exec(t),i=e[1].toLowerCase(),r=e[2]||"";return 12*parseInt(e[3],10)+n.midi_letter_pitches[i]+("#"==r.substr(0,1)?1:-1)*r.length},ensureMidiPitch:function(t){return"number"!=typeof t&&/[^0-9]/.test(t)?n.midiPitchFromNote(t):parseInt(t,10)},midi_pitches_letter:{12:"c",13:"c#",14:"d",15:"d#",16:"e",17:"f",18:"f#",19:"g",20:"g#",21:"a",22:"a#",23:"b"},midi_flattened_notes:{"a#":"bb","c#":"db","d#":"eb","f#":"gb","g#":"ab"},noteFromMidiPitch:function(t,e){var i,r=0,o=t,e=e||!1;return t>23&&(r=Math.floor(t/12)-1,o=t-12*r),i=n.midi_pitches_letter[o],e&&i.indexOf("#")>0&&(i=n.midi_flattened_notes[i]),i+r},mpqnFromBpm:function(t){var e=Math.floor(6e7/t),n=[];do{n.unshift(255&e),e>>=8}while(e);for(;n.length<3;)n.push(0);return n},bpmFromMpqn:function(t){var e=t;if(void 0!==t[0]){e=0;for(var n=0,i=t.length-1;i>=0;++n,--i)e|=t[n]<<i}return Math.floor(6e7/t)},codes2Str:function(t){return String.fromCharCode.apply(null,t)},str2Bytes:function(t,e){if(e)for(;t.length/2<e;)t="0"+t;for(var n=[],i=t.length-1;i>=0;i-=2){var r=0===i?t[i]:t[i-1]+t[i];n.unshift(parseInt(r,16))}return n},translateTickTime:function(t){for(var e=127&t;t>>=7;)e<<=8,e|=127&t|128;for(var n=[];n.push(255&e),128&e;)e>>=8;return n}}),i=function(t){return this?void(!t||null===t.type&&void 0===t.type||null===t.channel&&void 0===t.channel||null===t.param1&&void 0===t.param1||(this.setTime(t.time),this.setType(t.type),this.setChannel(t.channel),this.setParam1(t.param1),this.setParam2(t.param2))):new i(t)};i.NOTE_OFF=128,i.NOTE_ON=144,i.AFTER_TOUCH=160,i.CONTROLLER=176,i.PROGRAM_CHANGE=192,i.CHANNEL_AFTERTOUCH=208,i.PITCH_BEND=224,i.prototype.setTime=function(t){this.time=n.translateTickTime(t||0)},i.prototype.setType=function(t){if(t<i.NOTE_OFF||t>i.PITCH_BEND)throw new Error("Trying to set an unknown event: "+t);this.type=t},i.prototype.setChannel=function(t){if(0>t||t>15)throw new Error("Channel is out of bounds.");this.channel=t},i.prototype.setParam1=function(t){this.param1=t},i.prototype.setParam2=function(t){this.param2=t},i.prototype.toBytes=function(){var t=[],e=this.type|15&this.channel;return t.push.apply(t,this.time),t.push(e),t.push(this.param1),void 0!==this.param2&&null!==this.param2&&t.push(this.param2),t};var r=function(t){if(!this)return new r(t);this.setTime(t.time),this.setType(t.type),this.setData(t.data)};r.SEQUENCE=0,r.TEXT=1,r.COPYRIGHT=2,r.TRACK_NAME=3,r.INSTRUMENT=4,r.LYRIC=5,r.MARKER=6,r.CUE_POINT=7,r.CHANNEL_PREFIX=32,r.END_OF_TRACK=47,r.TEMPO=81,r.SMPTE=84,r.TIME_SIG=88,r.KEY_SIG=89,r.SEQ_EVENT=127,r.prototype.setTime=function(t){this.time=n.translateTickTime(t||0)},r.prototype.setType=function(t){this.type=t},r.prototype.setData=function(t){this.data=t},r.prototype.toBytes=function(){if(!this.type)throw new Error("Type for meta-event not specified.");var t=[];if(t.push.apply(t,this.time),t.push(255,this.type),Array.isArray(this.data))t.push(this.data.length),t.push.apply(t,this.data);else if("number"==typeof this.data)t.push(1,this.data);else if(null!==this.data&&void 0!==this.data){t.push(this.data.length);var e=this.data.split("").map(function(t){return t.charCodeAt(0)});t.push.apply(t,e)}else t.push(0);return t};var o=function(t){if(!this)return new o(t);var e=t||{};this.events=e.events||[]};o.START_BYTES=[77,84,114,107],o.END_BYTES=[0,255,47,0],o.prototype.addEvent=function(t){return this.events.push(t),this},o.prototype.addNoteOn=o.prototype.noteOn=function(t,r,o,a){return this.events.push(new i({type:i.NOTE_ON,channel:t,param1:n.ensureMidiPitch(r),param2:a||e,time:o||0})),this},o.prototype.addNoteOff=o.prototype.noteOff=function(t,r,o,a){return this.events.push(new i({type:i.NOTE_OFF,channel:t,param1:n.ensureMidiPitch(r),param2:a||e,time:o||0})),this},o.prototype.addNote=o.prototype.note=function(t,e,n,i,r){return this.noteOn(t,e,i,r),n&&this.noteOff(t,e,n,r),this},o.prototype.addChord=o.prototype.chord=function(t,e,n,i){if(!Array.isArray(e)&&!e.length)throw new Error("Chord must be an array of pitches");return e.forEach(function(e){this.noteOn(t,e,0,i)},this),e.forEach(function(e,i){0===i?this.noteOff(t,e,n):this.noteOff(t,e)},this),this},o.prototype.setInstrument=o.prototype.instrument=function(t,e,n){return this.events.push(new i({type:i.PROGRAM_CHANGE,channel:t,param1:e,time:n||0})),this},o.prototype.setTempo=o.prototype.tempo=function(t,e){return this.events.push(new r({type:r.TEMPO,data:n.mpqnFromBpm(t),time:e||0})),this},o.prototype.toBytes=function(){var t=0,e=[],i=o.START_BYTES,r=o.END_BYTES,a=function(n){var i=n.toBytes();t+=i.length,e.push.apply(e,i)};this.events.forEach(a),t+=r.length;var s=n.str2Bytes(t.toString(16),4);return i.concat(s,e,r)};var a=function(t){if(!this)return new a(t);var e=t||{};if(e.ticks){if("number"!=typeof e.ticks)throw new Error("Ticks per beat must be a number!");if(e.ticks<=0||e.ticks>=32768||e.ticks%1!=0)throw new Error("Ticks per beat must be an integer between 1 and 32767!")}this.ticks=e.ticks||128,this.tracks=e.tracks||[]};a.HDR_CHUNKID="MThd",a.HDR_CHUNK_SIZE="\0\0\0",a.HDR_TYPE0="\0\0",a.HDR_TYPE1="\0",a.prototype.addTrack=function(t){return t?(this.tracks.push(t),this):(t=new o,this.tracks.push(t),t)},a.prototype.toBytes=function(){var t=this.tracks.length.toString(16),e=a.HDR_CHUNKID+a.HDR_CHUNK_SIZE;return e+=parseInt(t,16)>1?a.HDR_TYPE1:a.HDR_TYPE0,e+=n.codes2Str(n.str2Bytes(t,2)),e+=String.fromCharCode(this.ticks/256,this.ticks%256),this.tracks.forEach(function(t){e+=n.codes2Str(t.toBytes())}),e},t.Util=n,t.File=a,t.Track=o,t.Event=i,t.MetaEvent=r}(n),void 0!==t&&null!==t?t.exports=n:void 0!==e&&null!==e?e=n:this.Midi=n}).call(e,n(12)(t))},function(t,e){function n(t){function e(t){var e=t.read(4),n=t.readInt32();return{id:e,length:n,data:t.read(n)}}var n;stream=i(t);var r=e(stream);if("MThd"!=r.id||6!=r.length)throw"Bad .mid file - header not found";var o=i(r.data),a=o.readInt16(),s=o.readInt16(),u=o.readInt16();if(32768&u)throw"Expressing time division in SMTPE frames is not supported yet";ticksPerBeat=u;for(var c={formatType:a,trackCount:s,ticksPerBeat:ticksPerBeat},l=[],h=0;h<c.trackCount;h++){l[h]=[];var f=e(stream);if("MTrk"!=f.id)throw"Unexpected chunk - expected MTrk, got "+f.id;for(var p=i(f.data);!p.eof();){var d=function(t){var e={};e.deltaTime=t.readVarInt();var i=t.readInt8();if(240==(240&i)){if(255==i){e.type="meta";var r=t.readInt8(),o=t.readVarInt();switch(r){case 0:if(e.subtype="sequenceNumber",2!=o)throw"Expected length for sequenceNumber event is 2, got "+o;return e.number=t.readInt16(),e;case 1:return e.subtype="text",e.text=t.read(o),e;case 2:return e.subtype="copyrightNotice",e.text=t.read(o),e;case 3:return e.subtype="trackName",e.text=t.read(o),e;case 4:return e.subtype="instrumentName",e.text=t.read(o),e;case 5:return e.subtype="lyrics",e.text=t.read(o),e;case 6:return e.subtype="marker",e.text=t.read(o),e;case 7:return e.subtype="cuePoint",e.text=t.read(o),e;case 32:if(e.subtype="midiChannelPrefix",1!=o)throw"Expected length for midiChannelPrefix event is 1, got "+o;return e.channel=t.readInt8(),e;case 47:if(e.subtype="endOfTrack",0!=o)throw"Expected length for endOfTrack event is 0, got "+o;return e;case 81:if(e.subtype="setTempo",3!=o)throw"Expected length for setTempo event is 3, got "+o;return e.microsecondsPerBeat=(t.readInt8()<<16)+(t.readInt8()<<8)+t.readInt8(),e;case 84:if(e.subtype="smpteOffset",5!=o)throw"Expected length for smpteOffset event is 5, got "+o;var a=t.readInt8();return e.frameRate={0:24,32:25,64:29,96:30}[96&a],e.hour=31&a,e.min=t.readInt8(),e.sec=t.readInt8(),e.frame=t.readInt8(),e.subframe=t.readInt8(),e;case 88:if(e.subtype="timeSignature",4!=o)throw"Expected length for timeSignature event is 4, got "+o;return e.numerator=t.readInt8(),e.denominator=Math.pow(2,t.readInt8()),e.metronome=t.readInt8(),e.thirtyseconds=t.readInt8(),e;case 89:if(e.subtype="keySignature",2!=o)throw"Expected length for keySignature event is 2, got "+o;return e.key=t.readInt8(!0),e.scale=t.readInt8(),e;case 127:return e.subtype="sequencerSpecific",e.data=t.read(o),e;default:return e.subtype="unknown",e.data=t.read(o),e}return e.data=t.read(o),e}if(240==i){e.type="sysEx";var o=t.readVarInt();return e.data=t.read(o),e}if(247==i){e.type="dividedSysEx";var o=t.readVarInt();return e.data=t.read(o),e}throw"Unrecognised MIDI event type byte: "+i}var s;0==(128&i)?(s=i,i=n):(s=t.readInt8(),n=i);var u=i>>4;switch(e.channel=15&i,e.type="channel",u){case 8:return e.subtype="noteOff",e.noteNumber=s,e.velocity=t.readInt8(),e;case 9:return e.noteNumber=s,e.velocity=t.readInt8(),0==e.velocity?e.subtype="noteOff":e.subtype="noteOn",e;case 10:return e.subtype="noteAftertouch",e.noteNumber=s,e.amount=t.readInt8(),e;case 11:return e.subtype="controller",e.controllerType=s,e.value=t.readInt8(),e;case 12:return e.subtype="programChange",e.programNumber=s,e;case 13:return e.subtype="channelAftertouch",e.amount=s,e;case 14:return e.subtype="pitchBend",e.value=s+(t.readInt8()<<7),e;default:throw"Unrecognised MIDI event type: "+u}}(p);l[h].push(d)}}return{header:c,tracks:l}}function i(t){function e(e){var n=t.substr(s,e);return s+=e,n}function n(){var e=(t.charCodeAt(s)<<24)+(t.charCodeAt(s+1)<<16)+(t.charCodeAt(s+2)<<8)+t.charCodeAt(s+3);return s+=4,e}function i(){var e=(t.charCodeAt(s)<<8)+t.charCodeAt(s+1);return s+=2,e}function r(e){var n=t.charCodeAt(s);return e&&n>127&&(n-=256),s+=1,n}function o(){return s>=t.length}function a(){for(var t=0;;){var e=r();if(!(128&e))return t+e;t+=127&e,t<<=7}}var s=0;return{eof:o,read:e,readInt32:n,readInt16:i,readInt8:r,readVarInt:a}}t.exports=function(t){return n(t)}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}}])})},{}]},{},[3]);
//# sourceMappingURL=jon-trombone.min.js.map
