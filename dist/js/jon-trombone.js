(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var guify = require("guify");

var GUI = function () {
    function GUI() {
        _classCallCheck(this, GUI);
    }

    _createClass(GUI, [{
        key: "Init",
        value: function Init(jon, container) {

            this.panel = new guify.GUI({
                title: "Jon-Trombone",
                theme: "dark",
                root: container,
                width: "80%",
                barMode: "above",
                align: "right",
                opacity: "0.95"
            });

            this.panel.Register({
                type: "checkbox", label: "Mute",
                object: jon.trombone, property: "muted",
                onChange: function onChange(data) {
                    jon.trombone.SetMute(data);
                }
            });

            // Jon folder
            this.panel.Register({ type: "folder", label: "Jon" });
            this.panel.Register([{ type: "checkbox", label: "Move Jaw", object: jon, property: "moveJaw" }, { type: "range", label: "Jaw Speed", object: jon, property: "jawFlapSpeed", min: 0, max: 100 }, { type: "range", label: "Jaw Range", object: jon, property: "jawOpenOffset", min: 0, max: 1 }], { folder: "Jon" });

            // Voice folder
            this.panel.Register({ type: "folder", label: "Voice" });
            this.panel.Register([{ type: "checkbox", label: "Wobble", object: jon.trombone, property: "autoWobble" }, { type: "checkbox", label: "Pitch Variance", object: jon.trombone.Glottis, property: "addPitchVariance" }, { type: "checkbox", label: "Tenseness Variance", object: jon.trombone.Glottis, property: "addTensenessVariance" }, { type: "range", label: "Tenseness", object: jon.trombone.Glottis, property: "UITenseness", min: 0, max: 1 }, { type: "range", label: "Vibrato", object: jon.trombone.Glottis, property: "vibratoAmount", min: 0, max: 0.5 }, { type: "range", label: "Frequency", object: jon.trombone.Glottis, property: "UIFrequency", min: 1, max: 1000, step: 1 }, { type: "range", label: "Loudness", object: jon.trombone.Glottis, property: "loudness", min: 0, max: 1 }], { folder: "Voice" });

            // Tract folder
            this.panel.Register({ type: "folder", label: "Tract" });
            this.panel.Register([{ type: "range", label: "Move Speed", object: jon.trombone.Tract, property: "movementSpeed", min: 1, max: 30, step: 1 }, { type: "range", label: "Velum Target", object: jon.trombone.Tract, property: "velumTarget", min: 0.001, max: 2 }, { type: "range", label: "Target", object: jon.trombone.TractUI, property: "target", min: 0.001, max: 1 }, { type: "range", label: "Index", object: jon.trombone.TractUI, property: "index", min: 0, max: 43, step: 1 }, { type: "range", label: "Radius", object: jon.trombone.TractUI, property: "radius", min: 0, max: 5, step: 1 }], { folder: "Tract" });

            // MIDI folder
            this.panel.Register({ type: "folder", label: "MIDI" });
            this.panel.Register([{ type: "file", label: "MIDI File", fileReadFunc: "readAsBinaryString",
                onChange: function onChange(data) {
                    jon.midiController.LoadSongDirect(data);
                }
            }, { type: "title", label: "Controls" }, { type: "button", label: "Play", action: function action() {
                    return jon.midiController.PlaySong();
                } }, { type: "button", label: "Stop", action: function action() {
                    return jon.midiController.Stop();
                } }, { type: "button", label: "Restart", action: function action() {
                    return jon.midiController.Restart();
                } }, { type: "title", label: "Options" }, { type: "range", label: "Track", object: jon.midiController, property: "currentTrack", min: 1, max: 20, step: 1 }, { type: "range", label: "Base Frequency", object: jon.midiController, property: "baseFreq", min: 1, max: 2000, step: 1 }, { type: "checkbox", label: "Extreme Vibrato", object: jon, property: "flapWhileSinging" }, { type: "checkbox", label: "Legato", object: jon, property: "legato" }], { folder: "MIDI" });
        }
    }]);

    return GUI;
}();

var gui = exports.gui = new GUI();

},{"guify":15}],2:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.JonTrombone = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _modelLoader = require("./utils/model-loader.js");

var _pinkTrombone = require("./pink-trombone/pink-trombone.js");

var _midiController = require("./midi/midi-controller.js");

var _ttsController = require("./tts/tts-controller.js");

var _gui = require("./gui.js");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var JonTrombone = function () {
    function JonTrombone(container, finishedCallback) {
        var _this = this;

        _classCallCheck(this, JonTrombone);

        this.container = container;
        this.container.style.position = "relative";
        this.container.style.cursor = "default";

        // Set up renderer and embed in container
        this.renderer = new THREE.WebGLRenderer({ alpha: true });
        this.renderer.setPixelRatio(window.devicePixelRatio);
        this.renderer.setSize(this.container.offsetWidth, this.container.offsetHeight);
        this.renderer.setClearColor(0x000000, 0);
        this.container.appendChild(this.renderer.domElement);

        // Set up scene and view
        var aspect = this.container.offsetWidth / this.container.offsetHeight;
        this.camera = new THREE.PerspectiveCamera(45, aspect, 0.1, 100);
        this.scene = new THREE.Scene();

        // Export scene for three js inspector
        //window.scene = this.scene;

        // Set up clock for timing
        this.clock = new THREE.Clock();

        var startDelayMS = 1000;
        this.trombone = new _pinkTrombone.PinkTrombone(this);
        setTimeout(function () {
            _this.trombone.StartAudio();
            //this.trombone.SetMute(true);
            _this.moveJaw = true;
        }, startDelayMS);

        // Mute button for trombone
        // let button = document.createElement("button");
        // button.innerHTML = "Mute";
        // button.style.cssText = "position: absolute; display: block; top: 0; left: 0;";
        // this.container.appendChild(button);
        // button.addEventListener ("click", () => {
        //     this.trombone.ToggleMute();
        //     button.innerHTML = this.trombone.muted ? "Unmute" : "Mute";
        // });

        this.jawFlapSpeed = 20.0;
        this.jawOpenOffset = 0.19;
        this.moveJaw = false;
        this.legato = false;
        this.flapWhileSinging = false;

        this.midiController = new _midiController.MidiController(this);

        // let tts = new TTSController();
        // console.log(tts.GetGraphemes("Testing one two three 1 2 3"));

        this.SetUpThree();
        this.SetUpScene();

        // Start the update loop
        this.OnUpdate();

        _gui.gui.Init(this, this.container);
    }

    /**
     * Set up non-scene config for Three.js
     */


    _createClass(JonTrombone, [{
        key: "SetUpThree",
        value: function SetUpThree() {
            if (THREE.OrbitControls !== undefined) {
                // Add orbit controls
                this.controls = new THREE.OrbitControls(this.camera, this.renderer.domElement);
                this.controls.target.set(0, 0, 0);
                this.controls.update();
            } else {
                console.warn("No THREE.OrbitControls detected. Include to allow interaction with the model.");
            }
        }

        /**
         * Populates and configures objects within the scene.
         */

    }, {
        key: "SetUpScene",
        value: function SetUpScene() {
            var _this2 = this;

            // Set camera position
            this.camera.position.set(0, 0, 0.5);

            // Lights
            var light1 = new THREE.HemisphereLight(0xffffff, 0x444444, 1.0);
            light1.name = "Hemisphere Light";
            light1.position.set(0, 1, 0);
            this.scene.add(light1);

            var light2 = new THREE.DirectionalLight(0xffffff, 1.0);
            light2.name = "Directional Light";
            light2.position.set(0, 1, 0);
            this.scene.add(light2);

            // Load the Jon model and place it in the scene
            _modelLoader.ModelLoader.LoadJSON("../resources/jon/three/jon.json", function (object) {
                _this2.jon = object;
                _this2.scene.add(_this2.jon);
                _this2.jon.rotation.y = THREE.Math.degToRad(15);

                _this2.jaw = _this2.jon.skeleton.bones.find(function (obj) {
                    return obj.name == "Bone.006";
                });
                if (_this2.jaw) {
                    _this2.jawShutZ = _this2.jaw.position.z;
                }
            });
        }

        /**
         * Called every frame. Continues indefinitely after being called once.
         */

    }, {
        key: "OnUpdate",
        value: function OnUpdate() {
            var deltaTime = this.clock.getDelta();
            requestAnimationFrame(this.OnUpdate.bind(this));

            if (this.midiController.playing) {

                this.notes = this.midiController.GetPitches();
                if (this.notes != this.lastNotes) {
                    // Do the note
                    if (this.notes !== undefined && this.notes.length != 0) {
                        // Note on
                        // Play frequency
                        var note = this.notes[0];
                        if (this.notes.length > 1) {
                            //console.log ("chord");
                        }
                        var freq = this.midiController.MIDIToFrequency(note.midi);
                        //console.log(freq);
                        this.trombone.Glottis.UIFrequency = freq;
                        this.trombone.Glottis.loudness = note.velocity;
                        // Open jaw
                        this.jaw.position.z = this.jawShutZ + this.jawOpenOffset;
                        this.trombone.TractUI.SetLipsClosed(0);
                    } else {
                        // Note off
                        if (!this.legato) this.trombone.Glottis.loudness = 0;
                        // Close jaw
                        this.jaw.position.z = this.jawShutZ;
                        this.trombone.TractUI.SetLipsClosed(1);
                    }

                    this.lastNotes = this.notes;
                }
            }

            if (this.jaw && this.moveJaw && (!this.midiController.playing || this.flapWhileSinging)) {
                var time = this.clock.getElapsedTime(); // % 60;

                // Move the jaw
                var percent = (Math.sin(time * this.jawFlapSpeed) + 1.0) / 2.0;
                this.jaw.position.z = this.jawShutZ + percent * this.jawOpenOffset;

                // Make the audio match the jaw position
                this.trombone.TractUI.SetLipsClosed(1.0 - percent);
            }

            // Render
            this.renderer.render(this.scene, this.camera);
        }
    }]);

    return JonTrombone;
}();

exports.JonTrombone = JonTrombone;

},{"./gui.js":1,"./midi/midi-controller.js":4,"./pink-trombone/pink-trombone.js":11,"./tts/tts-controller.js":12,"./utils/model-loader.js":13}],3:[function(require,module,exports){
"use strict";

var _webglDetect = require("./utils/webgl-detect.js");

var _jonTrombone = require("./jon-trombone.js");

// Optionally bundle three.js as part of the project
//import THREELib from "three-js";
//var THREE = THREELib(); // return THREE JS

var container = document.getElementById("jon-trombone-container");

if (!_webglDetect.Detector.HasWebGL()) {
    //exit("WebGL is not supported on this browser.");
    console.log("WebGL is not supported on this browser.");
    container.innerHTML = _webglDetect.Detector.GetErrorHTML();
    container.classList.add("no-webgl");
} else {
    var jonTrombone = new _jonTrombone.JonTrombone(container);
}

},{"./jon-trombone.js":2,"./utils/webgl-detect.js":14}],4:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var MidiConvert = require('midiconvert');

/**
 * Simple class for MIDI playback.
 * The paradigm here's a bit weird; it's up to an external
 * source to actually produce audio. This class just manages
 * a timer, which GetPitch() reads to produce the "current"
 * note information. 
 * 
 * As an example of usage, jon-trombone calls PlaySong() to
 * begin, and then every frame uses GetPitch() to figure out
 * what the current frequency to produce is.
 */

var MidiController = function () {
    function MidiController(controller) {
        _classCallCheck(this, MidiController);

        this.controller = controller;

        this.midi = null;

        this.playing = false;
        this.currentTrack = 5;

        this.baseFreq = 440; //110 is A4

        this.clock = new THREE.Clock(false);
    }

    /**
     * Loads and parses a MIDI file.
     */


    _createClass(MidiController, [{
        key: "LoadSong",
        value: function LoadSong(path, callback) {
            var _this = this;

            this.Stop();
            this.midi = null;
            MidiConvert.load(path, function (midi) {
                console.log("MIDI loaded.");
                _this.midi = midi;
                console.log(_this.midi);
                if (callback) callback(midi);
            });
        }
    }, {
        key: "LoadSongDirect",
        value: function LoadSongDirect(file) {
            this.Stop();
            this.midi = MidiConvert.parse(file);
            console.log("MIDI loaded.");
            console.log(this.midi);
        }

        /**
         * Gets the pitch for the specified track at the current time in the song.
         */

    }, {
        key: "GetPitch",
        value: function GetPitch() {
            var trackIndex = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.currentTrack;

            var time = this.GetSongProgress();

            // Constrain track specified to valid range
            trackIndex = Math.min(trackIndex, this.midi.tracks.length - 1);
            trackIndex = Math.max(trackIndex, 0);

            return this.midi.tracks[trackIndex].notes.find(function (item) {
                return item.noteOn <= time && time <= item.noteOff;
            });
        }
    }, {
        key: "GetPitches",
        value: function GetPitches() {
            var trackIndex = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.currentTrack;

            var time = this.GetSongProgress();

            // Constrain track specified to valid range
            trackIndex = Math.min(trackIndex, this.midi.tracks.length - 1);
            trackIndex = Math.max(trackIndex, 0);

            return this.midi.tracks[trackIndex].notes.filter(function (item) {
                return item.noteOn <= time && time <= item.noteOff;
            });
        }
    }, {
        key: "PlaySong",
        value: function PlaySong() {
            var _this2 = this;

            var track = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 5;

            if (this.playing) {
                return;
            }

            // If no song is specified, load a song
            if (!this.midi) {
                console.log("No MIDI is loaded. Loading an example...");
                this.LoadSong('../resources/midi/un-owen-was-her.mid', function () {
                    _this2.PlaySong();
                });
                return;
            }

            // Turn off some stuff so the singing kind of sounds okay
            this.EnterSingMode();

            this.currentTrack = track;
            this.clock.start();
            this.playing = true;

            console.log("Playback started.");
        }
    }, {
        key: "GetSongProgress",
        value: function GetSongProgress() {
            return this.clock.getElapsedTime();
        }

        /**
         * Converts from a MIDI note code to its corresponding frequency.
         * @param {*} midiCode 
         */

    }, {
        key: "MIDIToFrequency",
        value: function MIDIToFrequency(midiCode) {
            return this.baseFreq * Math.pow(2, (midiCode - 69) / 12);
        }

        /**
         * Restarts the playback.
         */

    }, {
        key: "Restart",
        value: function Restart() {
            console.log("Playback moved to beginning.");
            this.clock = new THREE.Clock();
        }

        /**
         * Stops playback.
         */

    }, {
        key: "Stop",
        value: function Stop() {
            if (!this.playing) {
                return;
            }
            console.log("Playback stopped.");
            this.clock.stop();
            this.playing = false;
            this.ExitSingMode();
        }

        /**
         * Sets up the trombone for singing.
         */

    }, {
        key: "EnterSingMode",
        value: function EnterSingMode() {
            if (this.backup_settings) {
                return;
            }

            this.backup_settings = {};

            this.backup_settings["autoWobble"] = this.controller.trombone.autoWobble;
            this.controller.trombone.autoWobble = false;

            this.backup_settings["addPitchVariance"] = this.controller.trombone.Glottis.addPitchVariance;
            this.controller.trombone.Glottis.addPitchVariance = false;

            this.backup_settings["addTensenessVariance"] = this.controller.trombone.Glottis.addTensenessVariance;
            this.controller.trombone.Glottis.addTensenessVariance = false;

            this.backup_settings["vibratoFrequency"] = this.controller.trombone.Glottis.vibratoFrequency;
            this.controller.trombone.Glottis.vibratoFrequency = 0;

            this.backup_settings["frequency"] = this.controller.trombone.Glottis.UIFrequency;

            this.backup_settings["loudness"] = this.controller.trombone.Glottis.loudness;
        }

        /**
         * Restores the trombone to the state it was in before singing.
         */

    }, {
        key: "ExitSingMode",
        value: function ExitSingMode() {
            if (!this.backup_settings) {
                return;
            }

            this.controller.trombone.autoWobble = this.backup_settings["autoWobble"];
            this.controller.trombone.Glottis.addPitchVariance = this.backup_settings["addPitchVariance"];
            this.controller.trombone.Glottis.addTensenessVariance = this.backup_settings["addTensenessVariance"];
            this.controller.trombone.Glottis.vibratoFrequency = this.backup_settings["vibratoFrequency"];
            this.controller.trombone.Glottis.UIFrequency = this.backup_settings["frequency"];
            this.controller.trombone.Glottis.loudness = this.backup_settings["loudness"];

            this.backup_settings = null;
        }
    }]);

    return MidiController;
}();

exports.MidiController = MidiController;

},{"midiconvert":16}],5:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var AudioSystem = function () {
    function AudioSystem(trombone) {
        _classCallCheck(this, AudioSystem);

        this.trombone = trombone;

        this.blockLength = 512;
        this.blockTime = 1;
        this.soundOn = false;
    }

    _createClass(AudioSystem, [{
        key: "init",
        value: function init() {
            window.AudioContext = window.AudioContext || window.webkitAudioContext;
            this.audioContext = new window.AudioContext();
            this.trombone.sampleRate = this.audioContext.sampleRate;

            this.blockTime = this.blockLength / this.trombone.sampleRate;
        }
    }, {
        key: "startSound",
        value: function startSound() {
            //scriptProcessor may need a dummy input channel on iOS
            this.scriptProcessor = this.audioContext.createScriptProcessor(this.blockLength, 2, 1);
            this.scriptProcessor.connect(this.audioContext.destination);
            this.scriptProcessor.onaudioprocess = this.doScriptProcessor.bind(this);

            var whiteNoise = this.createWhiteNoiseNode(2 * this.trombone.sampleRate); // 2 seconds of noise

            var aspirateFilter = this.audioContext.createBiquadFilter();
            aspirateFilter.type = "bandpass";
            aspirateFilter.frequency.value = 500;
            aspirateFilter.Q.value = 0.5;
            whiteNoise.connect(aspirateFilter); // Use white noise as input for filter
            aspirateFilter.connect(this.scriptProcessor); // Use this as input 0 for script processor

            var fricativeFilter = this.audioContext.createBiquadFilter();
            fricativeFilter.type = "bandpass";
            fricativeFilter.frequency.value = 1000;
            fricativeFilter.Q.value = 0.5;
            whiteNoise.connect(fricativeFilter); // Use white noise as input
            fricativeFilter.connect(this.scriptProcessor); // Use this as input 1 for script processor

            whiteNoise.start(0);

            // Generate just white noise (test)
            // var wn = this.createWhiteNoiseNode(2*this.trombone.sampleRate);
            // wn.connect(this.audioContext.destination);
            // wn.start(0);
        }
    }, {
        key: "createWhiteNoiseNode",
        value: function createWhiteNoiseNode(frameCount) {
            var myArrayBuffer = this.audioContext.createBuffer(1, frameCount, this.trombone.sampleRate);

            var nowBuffering = myArrayBuffer.getChannelData(0);
            for (var i = 0; i < frameCount; i++) {
                nowBuffering[i] = Math.random(); // gaussian();
            }

            var source = this.audioContext.createBufferSource();
            source.buffer = myArrayBuffer;
            source.loop = true;

            return source;
        }

        // createNode() {
        //     let buffer = this.audioContext.createBuffer(1, frameCount, this.trombone.sampleRate);


        //     var source = this.audioContext.createBufferSource();
        //     source.buffer = buffer;
        //     source.loop = true;

        //     return source;
        // }


    }, {
        key: "doScriptProcessor",
        value: function doScriptProcessor(event) {
            var inputArray1 = event.inputBuffer.getChannelData(0); // Glottis input
            var inputArray2 = event.inputBuffer.getChannelData(1); // Tract input
            var outArray = event.outputBuffer.getChannelData(0); // Output (mono)
            for (var j = 0, N = outArray.length; j < N; j++) {
                var lambda1 = j / N;
                var lambda2 = (j + 0.5) / N;
                var glottalOutput = this.trombone.Glottis.runStep(lambda1, inputArray1[j]);

                var vocalOutput = 0;
                //Tract runs at twice the sample rate 
                this.trombone.Tract.runStep(glottalOutput, inputArray2[j], lambda1);
                vocalOutput += this.trombone.Tract.lipOutput + this.trombone.Tract.noseOutput;
                this.trombone.Tract.runStep(glottalOutput, inputArray2[j], lambda2);
                vocalOutput += this.trombone.Tract.lipOutput + this.trombone.Tract.noseOutput;
                outArray[j] = vocalOutput * 0.125;
            }
            // if(this.trombone.controller.notes !== undefined){
            //     for (var noteIndex = 1; noteIndex < this.trombone.controller.notes.length; noteIndex++){
            //         if(noteIndex > this.numVoices - 1) return;
            //         let note = this.trombone.controller.notes[noteIndex];
            //         //console.log(note);

            //     }
            // }
            this.trombone.Glottis.finishBlock();
            this.trombone.Tract.finishBlock();
        }
    }, {
        key: "mute",
        value: function mute() {
            this.scriptProcessor.disconnect();
        }
    }, {
        key: "unmute",
        value: function unmute() {
            this.scriptProcessor.connect(this.audioContext.destination);
        }
    }]);

    return AudioSystem;
}();

exports.AudioSystem = AudioSystem;

},{}],6:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Glottis = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _noise = require("../noise.js");

var _noise2 = _interopRequireDefault(_noise);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Glottis = function () {
    function Glottis(trombone) {
        _classCallCheck(this, Glottis);

        this.trombone = trombone;

        this.timeInWaveform = 0;
        this.oldFrequency = 140;
        this.newFrequency = 140;
        this.UIFrequency = 140;
        this.smoothFrequency = 140;
        this.oldTenseness = 0.6;
        this.newTenseness = 0.6;
        this.UITenseness = 0.6;
        this.totalTime = 0;
        this.vibratoAmount = 0.005;
        this.vibratoFrequency = 6;
        this.intensity = 0;
        this.loudness = 1;
        this.isTouched = false;
        this.touch = 0;
        this.x = 240;
        this.y = 530;

        this.keyboardTop = 500;
        this.keyboardLeft = 0;
        this.keyboardWidth = 600;
        this.keyboardHeight = 100;
        this.semitones = 20;
        this.marks = [0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0];
        this.baseNote = 87.3071; //F

        this.output;

        /// Allow pitch to wobble over time
        this.addPitchVariance = true;
        /// Allow tenseness to wobble over time
        this.addTensenessVariance = true;
    }

    _createClass(Glottis, [{
        key: "init",
        value: function init() {
            this.setupWaveform(0);
        }
    }, {
        key: "handleTouches",
        value: function handleTouches() {
            if (this.touch != 0 && !this.touch.alive) this.touch = 0;

            if (this.touch == 0) {
                for (var j = 0; j < UI.touchesWithMouse.length; j++) {
                    var touch = UI.touchesWithMouse[j];
                    if (!touch.alive) continue;
                    if (touch.y < this.keyboardTop) continue;
                    this.touch = touch;
                }
            }

            if (this.touch != 0) {
                var local_y = this.touch.y - this.keyboardTop - 10;
                var local_x = this.touch.x - this.keyboardLeft;
                local_y = Math.clamp(local_y, 0, this.keyboardHeight - 26);
                var semitone = this.semitones * local_x / this.keyboardWidth + 0.5;
                Glottis.UIFrequency = this.baseNote * Math.pow(2, semitone / 12);
                if (Glottis.intensity == 0) Glottis.smoothFrequency = Glottis.UIFrequency;
                //Glottis.UIRd = 3*local_y / (this.keyboardHeight-20);
                var t = Math.clamp(1 - local_y / (this.keyboardHeight - 28), 0, 1);
                Glottis.UITenseness = 1 - Math.cos(t * Math.PI * 0.5);
                Glottis.loudness = Math.pow(Glottis.UITenseness, 0.25);
                this.x = this.touch.x;
                this.y = local_y + this.keyboardTop + 10;
            }
            Glottis.isTouched = this.touch != 0;
        }
    }, {
        key: "runStep",
        value: function runStep(lambda, noiseSource) {
            var timeStep = 1.0 / this.trombone.sampleRate;
            this.timeInWaveform += timeStep;
            this.totalTime += timeStep;
            if (this.timeInWaveform > this.waveformLength) {
                this.timeInWaveform -= this.waveformLength;
                this.setupWaveform(lambda);
            }
            var out = this.normalizedLFWaveform(this.timeInWaveform / this.waveformLength);
            var aspiration = this.intensity * (1.0 - Math.sqrt(this.UITenseness)) * this.getNoiseModulator() * noiseSource;
            aspiration *= 0.2 + 0.02 * _noise2.default.simplex1(this.totalTime * 1.99);
            out += aspiration;
            return out;
        }
    }, {
        key: "getNoiseModulator",
        value: function getNoiseModulator() {
            var voiced = 0.1 + 0.2 * Math.max(0, Math.sin(Math.PI * 2 * this.timeInWaveform / this.waveformLength));
            //return 0.3;
            return this.UITenseness * this.intensity * voiced + (1 - this.UITenseness * this.intensity) * 0.3;
        }
    }, {
        key: "finishBlock",
        value: function finishBlock() {
            var vibrato = 0;
            if (this.addPitchVariance) {
                // Add small imperfections to the vocal output
                vibrato += this.vibratoAmount * Math.sin(2 * Math.PI * this.totalTime * this.vibratoFrequency);
                vibrato += 0.02 * _noise2.default.simplex1(this.totalTime * 4.07);
                vibrato += 0.04 * _noise2.default.simplex1(this.totalTime * 2.15);
            }

            if (this.trombone.autoWobble) {
                vibrato += 0.2 * _noise2.default.simplex1(this.totalTime * 0.98);
                vibrato += 0.4 * _noise2.default.simplex1(this.totalTime * 0.5);
            }

            if (this.UIFrequency > this.smoothFrequency) this.smoothFrequency = Math.min(this.smoothFrequency * 1.1, this.UIFrequency);
            if (this.UIFrequency < this.smoothFrequency) this.smoothFrequency = Math.max(this.smoothFrequency / 1.1, this.UIFrequency);
            this.oldFrequency = this.newFrequency;
            this.newFrequency = this.smoothFrequency * (1 + vibrato);
            this.oldTenseness = this.newTenseness;

            if (this.addTensenessVariance) this.newTenseness = this.UITenseness + 0.1 * _noise2.default.simplex1(this.totalTime * 0.46) + 0.05 * _noise2.default.simplex1(this.totalTime * 0.36);else this.newTenseness = this.UITenseness;

            if (!this.isTouched && this.trombone.alwaysVoice) this.newTenseness += (3 - this.UITenseness) * (1 - this.intensity);

            if (this.isTouched || this.trombone.alwaysVoice) this.intensity += 0.13;
            this.intensity = Math.clamp(this.intensity, 0, 1);
        }
    }, {
        key: "setupWaveform",
        value: function setupWaveform(lambda) {
            this.frequency = this.oldFrequency * (1 - lambda) + this.newFrequency * lambda;
            var tenseness = this.oldTenseness * (1 - lambda) + this.newTenseness * lambda;
            this.Rd = 3 * (1 - tenseness);
            this.waveformLength = 1.0 / this.frequency;

            var Rd = this.Rd;
            if (Rd < 0.5) Rd = 0.5;
            if (Rd > 2.7) Rd = 2.7;
            // normalized to time = 1, Ee = 1
            var Ra = -0.01 + 0.048 * Rd;
            var Rk = 0.224 + 0.118 * Rd;
            var Rg = Rk / 4 * (0.5 + 1.2 * Rk) / (0.11 * Rd - Ra * (0.5 + 1.2 * Rk));

            var Ta = Ra;
            var Tp = 1 / (2 * Rg);
            var Te = Tp + Tp * Rk; //

            var epsilon = 1 / Ta;
            var shift = Math.exp(-epsilon * (1 - Te));
            var Delta = 1 - shift; //divide by this to scale RHS

            var RHSIntegral = 1 / epsilon * (shift - 1) + (1 - Te) * shift;
            RHSIntegral = RHSIntegral / Delta;

            var totalLowerIntegral = -(Te - Tp) / 2 + RHSIntegral;
            var totalUpperIntegral = -totalLowerIntegral;

            var omega = Math.PI / Tp;
            var s = Math.sin(omega * Te);
            var y = -Math.PI * s * totalUpperIntegral / (Tp * 2);
            var z = Math.log(y);
            var alpha = z / (Tp / 2 - Te);
            var E0 = -1 / (s * Math.exp(alpha * Te));
            this.alpha = alpha;
            this.E0 = E0;
            this.epsilon = epsilon;
            this.shift = shift;
            this.Delta = Delta;
            this.Te = Te;
            this.omega = omega;
        }
    }, {
        key: "normalizedLFWaveform",
        value: function normalizedLFWaveform(t) {
            if (t > this.Te) this.output = (-Math.exp(-this.epsilon * (t - this.Te)) + this.shift) / this.Delta;else this.output = this.E0 * Math.exp(this.alpha * t) * Math.sin(this.omega * t);

            return this.output * this.intensity * this.loudness;
        }
    }]);

    return Glottis;
}();

exports.Glottis = Glottis;

},{"../noise.js":10}],7:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var TractUI = function () {
    function TractUI(trombone) {
        _classCallCheck(this, TractUI);

        this.trombone = trombone;

        this.originX = 340;
        this.originY = 449;
        this.radius = 298;
        this.scale = 60;
        this.tongueIndex = 12.9;
        this.tongueDiameter = 2.43;
        this.innerTongueControlRadius = 2.05;
        this.outerTongueControlRadius = 3.5;
        this.tongueTouch = 0;
        this.angleScale = 0.64;
        this.angleOffset = -0.24;
        this.noseOffset = 0.8;
        this.gridOffset = 1.7;

        /// Final openness of the mouth (closer to 0 is more closed)
        this.target = 0.1;
        /// Index in the throat array to move to target
        this.index = 42;
        /// Number of throat segments to close around the index
        this.radius = 0;
    }

    _createClass(TractUI, [{
        key: "init",
        value: function init() {
            var Tract = this.trombone.Tract;

            this.setRestDiameter();
            for (var i = 0; i < Tract.n; i++) {
                Tract.diameter[i] = Tract.targetDiameter[i] = Tract.restDiameter[i];
            }

            this.tongueLowerIndexBound = Tract.bladeStart + 2;
            this.tongueUpperIndexBound = Tract.tipStart - 3;
            this.tongueIndexCentre = 0.5 * (this.tongueLowerIndexBound + this.tongueUpperIndexBound);
        }
    }, {
        key: "getIndex",
        value: function getIndex(x, y) {
            var Tract = this.trombone.Tract;

            var xx = x - this.originX;var yy = y - this.originY;
            var angle = Math.atan2(yy, xx);
            while (angle > 0) {
                angle -= 2 * Math.PI;
            }return (Math.PI + angle - this.angleOffset) * (Tract.lipStart - 1) / (this.angleScale * Math.PI);
        }
    }, {
        key: "getDiameter",
        value: function getDiameter(x, y) {
            var xx = x - this.originX;var yy = y - this.originY;
            return (this.radius - Math.sqrt(xx * xx + yy * yy)) / this.scale;
        }
    }, {
        key: "setRestDiameter",
        value: function setRestDiameter() {
            var Tract = this.trombone.Tract;

            for (var i = Tract.bladeStart; i < Tract.lipStart; i++) {
                var t = 1.1 * Math.PI * (this.tongueIndex - i) / (Tract.tipStart - Tract.bladeStart);
                var fixedTongueDiameter = 2 + (this.tongueDiameter - 2) / 1.5;
                var curve = (1.5 - fixedTongueDiameter + this.gridOffset) * Math.cos(t);
                if (i == Tract.bladeStart - 2 || i == Tract.lipStart - 1) curve *= 0.8;
                if (i == Tract.bladeStart || i == Tract.lipStart - 2) curve *= 0.94;
                Tract.restDiameter[i] = 1.5 - curve;
            }
        }

        /**
         * Sets the lips of the modeled tract to be closed by the specified amount.
         * @param {number} progress Percentage closed (number between 0 and 1)
         */

    }, {
        key: "SetLipsClosed",
        value: function SetLipsClosed(progress) {

            var Tract = this.trombone.Tract;

            this.setRestDiameter();
            for (var i = 0; i < Tract.n; i++) {
                Tract.targetDiameter[i] = Tract.restDiameter[i];
            } // Disable this behavior if the mouth is closed a certain amount
            //if (progress > 0.8 || progress < 0.1) return;

            for (var _i = this.index - this.radius; _i <= this.index + this.radius; _i++) {
                if (_i > Tract.targetDiameter.length || _i < 0) continue;
                var interp = Math.lerp(Tract.restDiameter[_i], this.target, progress);
                Tract.targetDiameter[_i] = interp;
            }
        }
    }]);

    return TractUI;
}();

exports.TractUI = TractUI;

},{}],8:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Tract = function () {
    function Tract(trombone) {
        _classCallCheck(this, Tract);

        this.trombone = trombone;

        this.n = 44;
        this.bladeStart = 10;
        this.tipStart = 32;
        this.lipStart = 39;
        this.R = []; //component going right
        this.L = []; //component going left
        this.reflection = [];
        this.junctionOutputR = [];
        this.junctionOutputL = [];
        this.maxAmplitude = [];
        this.diameter = [];
        this.restDiameter = [];
        this.targetDiameter = [];
        this.newDiameter = [];
        this.A = [];
        this.glottalReflection = 0.75;
        this.lipReflection = -0.85;
        this.lastObstruction = -1;
        this.fade = 1.0; //0.9999,
        this.movementSpeed = 15; //cm per second
        this.transients = [];
        this.lipOutput = 0;
        this.noseOutput = 0;
        this.velumTarget = 0.01;
    }

    _createClass(Tract, [{
        key: "init",
        value: function init() {
            this.bladeStart = Math.floor(this.bladeStart * this.n / 44);
            this.tipStart = Math.floor(this.tipStart * this.n / 44);
            this.lipStart = Math.floor(this.lipStart * this.n / 44);
            this.diameter = new Float64Array(this.n);
            this.restDiameter = new Float64Array(this.n);
            this.targetDiameter = new Float64Array(this.n);
            this.newDiameter = new Float64Array(this.n);
            for (var i = 0; i < this.n; i++) {
                var diameter = 0;
                if (i < 7 * this.n / 44 - 0.5) diameter = 0.6;else if (i < 12 * this.n / 44) diameter = 1.1;else diameter = 1.5;
                this.diameter[i] = this.restDiameter[i] = this.targetDiameter[i] = this.newDiameter[i] = diameter;
            }
            this.R = new Float64Array(this.n);
            this.L = new Float64Array(this.n);
            this.reflection = new Float64Array(this.n + 1);
            this.newReflection = new Float64Array(this.n + 1);
            this.junctionOutputR = new Float64Array(this.n + 1);
            this.junctionOutputL = new Float64Array(this.n + 1);
            this.A = new Float64Array(this.n);
            this.maxAmplitude = new Float64Array(this.n);

            this.noseLength = Math.floor(28 * this.n / 44);
            this.noseStart = this.n - this.noseLength + 1;
            this.noseR = new Float64Array(this.noseLength);
            this.noseL = new Float64Array(this.noseLength);
            this.noseJunctionOutputR = new Float64Array(this.noseLength + 1);
            this.noseJunctionOutputL = new Float64Array(this.noseLength + 1);
            this.noseReflection = new Float64Array(this.noseLength + 1);
            this.noseDiameter = new Float64Array(this.noseLength);
            this.noseA = new Float64Array(this.noseLength);
            this.noseMaxAmplitude = new Float64Array(this.noseLength);
            for (var i = 0; i < this.noseLength; i++) {
                var diameter;
                var d = 2 * (i / this.noseLength);
                if (d < 1) diameter = 0.4 + 1.6 * d;else diameter = 0.5 + 1.5 * (2 - d);
                diameter = Math.min(diameter, 1.9);
                this.noseDiameter[i] = diameter;
            }
            this.newReflectionLeft = this.newReflectionRight = this.newReflectionNose = 0;
            this.calculateReflections();
            this.calculateNoseReflections();
            this.noseDiameter[0] = this.velumTarget;
        }
    }, {
        key: "reshapeTract",
        value: function reshapeTract(deltaTime) {
            var amount = deltaTime * this.movementSpeed;;
            var newLastObstruction = -1;
            for (var i = 0; i < this.n; i++) {
                var diameter = this.diameter[i];
                var targetDiameter = this.targetDiameter[i];
                if (diameter <= 0) newLastObstruction = i;
                var slowReturn;
                if (i < this.noseStart) slowReturn = 0.6;else if (i >= this.tipStart) slowReturn = 1.0;else slowReturn = 0.6 + 0.4 * (i - this.noseStart) / (this.tipStart - this.noseStart);
                this.diameter[i] = Math.moveTowards(diameter, targetDiameter, slowReturn * amount, 2 * amount);
            }
            if (this.lastObstruction > -1 && newLastObstruction == -1 && this.noseA[0] < 0.05) {
                this.addTransient(this.lastObstruction);
            }
            this.lastObstruction = newLastObstruction;

            amount = deltaTime * this.movementSpeed;
            this.noseDiameter[0] = Math.moveTowards(this.noseDiameter[0], this.velumTarget, amount * 0.25, amount * 0.1);
            this.noseA[0] = this.noseDiameter[0] * this.noseDiameter[0];
        }
    }, {
        key: "calculateReflections",
        value: function calculateReflections() {
            for (var i = 0; i < this.n; i++) {
                this.A[i] = this.diameter[i] * this.diameter[i]; //ignoring PI etc.
            }
            for (var i = 1; i < this.n; i++) {
                this.reflection[i] = this.newReflection[i];
                if (this.A[i] == 0) this.newReflection[i] = 0.999; //to prevent some bad behaviour if 0
                else this.newReflection[i] = (this.A[i - 1] - this.A[i]) / (this.A[i - 1] + this.A[i]);
            }

            //now at junction with nose

            this.reflectionLeft = this.newReflectionLeft;
            this.reflectionRight = this.newReflectionRight;
            this.reflectionNose = this.newReflectionNose;
            var sum = this.A[this.noseStart] + this.A[this.noseStart + 1] + this.noseA[0];
            this.newReflectionLeft = (2 * this.A[this.noseStart] - sum) / sum;
            this.newReflectionRight = (2 * this.A[this.noseStart + 1] - sum) / sum;
            this.newReflectionNose = (2 * this.noseA[0] - sum) / sum;
        }
    }, {
        key: "calculateNoseReflections",
        value: function calculateNoseReflections() {
            for (var i = 0; i < this.noseLength; i++) {
                this.noseA[i] = this.noseDiameter[i] * this.noseDiameter[i];
            }
            for (var i = 1; i < this.noseLength; i++) {
                this.noseReflection[i] = (this.noseA[i - 1] - this.noseA[i]) / (this.noseA[i - 1] + this.noseA[i]);
            }
        }
    }, {
        key: "runStep",
        value: function runStep(glottalOutput, turbulenceNoise, lambda) {
            var updateAmplitudes = Math.random() < 0.1;

            //mouth
            this.processTransients();
            this.addTurbulenceNoise(turbulenceNoise);

            //this.glottalReflection = -0.8 + 1.6 * Glottis.newTenseness;
            this.junctionOutputR[0] = this.L[0] * this.glottalReflection + glottalOutput;
            this.junctionOutputL[this.n] = this.R[this.n - 1] * this.lipReflection;

            for (var i = 1; i < this.n; i++) {
                var r = this.reflection[i] * (1 - lambda) + this.newReflection[i] * lambda;
                var w = r * (this.R[i - 1] + this.L[i]);
                this.junctionOutputR[i] = this.R[i - 1] - w;
                this.junctionOutputL[i] = this.L[i] + w;
            }

            //now at junction with nose
            var i = this.noseStart;
            var r = this.newReflectionLeft * (1 - lambda) + this.reflectionLeft * lambda;
            this.junctionOutputL[i] = r * this.R[i - 1] + (1 + r) * (this.noseL[0] + this.L[i]);
            r = this.newReflectionRight * (1 - lambda) + this.reflectionRight * lambda;
            this.junctionOutputR[i] = r * this.L[i] + (1 + r) * (this.R[i - 1] + this.noseL[0]);
            r = this.newReflectionNose * (1 - lambda) + this.reflectionNose * lambda;
            this.noseJunctionOutputR[0] = r * this.noseL[0] + (1 + r) * (this.L[i] + this.R[i - 1]);

            for (var i = 0; i < this.n; i++) {
                this.R[i] = this.junctionOutputR[i] * 0.999;
                this.L[i] = this.junctionOutputL[i + 1] * 0.999;

                //this.R[i] = Math.clamp(this.junctionOutputR[i] * this.fade, -1, 1);
                //this.L[i] = Math.clamp(this.junctionOutputL[i+1] * this.fade, -1, 1);    

                if (updateAmplitudes) {
                    var amplitude = Math.abs(this.R[i] + this.L[i]);
                    if (amplitude > this.maxAmplitude[i]) this.maxAmplitude[i] = amplitude;else this.maxAmplitude[i] *= 0.999;
                }
            }

            this.lipOutput = this.R[this.n - 1];

            //nose     
            this.noseJunctionOutputL[this.noseLength] = this.noseR[this.noseLength - 1] * this.lipReflection;

            for (var i = 1; i < this.noseLength; i++) {
                var w = this.noseReflection[i] * (this.noseR[i - 1] + this.noseL[i]);
                this.noseJunctionOutputR[i] = this.noseR[i - 1] - w;
                this.noseJunctionOutputL[i] = this.noseL[i] + w;
            }

            for (var i = 0; i < this.noseLength; i++) {
                this.noseR[i] = this.noseJunctionOutputR[i] * this.fade;
                this.noseL[i] = this.noseJunctionOutputL[i + 1] * this.fade;

                //this.noseR[i] = Math.clamp(this.noseJunctionOutputR[i] * this.fade, -1, 1);
                //this.noseL[i] = Math.clamp(this.noseJunctionOutputL[i+1] * this.fade, -1, 1);    

                if (updateAmplitudes) {
                    var amplitude = Math.abs(this.noseR[i] + this.noseL[i]);
                    if (amplitude > this.noseMaxAmplitude[i]) this.noseMaxAmplitude[i] = amplitude;else this.noseMaxAmplitude[i] *= 0.999;
                }
            }

            this.noseOutput = this.noseR[this.noseLength - 1];
        }
    }, {
        key: "finishBlock",
        value: function finishBlock() {
            this.reshapeTract(this.trombone.AudioSystem.blockTime);
            this.calculateReflections();
        }
    }, {
        key: "addTransient",
        value: function addTransient(position) {
            var trans = {};
            trans.position = position;
            trans.timeAlive = 0;
            trans.lifeTime = 0.2;
            trans.strength = 0.3;
            trans.exponent = 200;
            this.transients.push(trans);
        }
    }, {
        key: "processTransients",
        value: function processTransients() {
            for (var i = 0; i < this.transients.length; i++) {
                var trans = this.transients[i];
                var amplitude = trans.strength * Math.pow(2, -trans.exponent * trans.timeAlive);
                this.R[trans.position] += amplitude / 2;
                this.L[trans.position] += amplitude / 2;
                trans.timeAlive += 1.0 / (this.trombone.sampleRate * 2);
            }
            for (var i = this.transients.length - 1; i >= 0; i--) {
                var trans = this.transients[i];
                if (trans.timeAlive > trans.lifeTime) {
                    this.transients.splice(i, 1);
                }
            }
        }
    }, {
        key: "addTurbulenceNoise",
        value: function addTurbulenceNoise(turbulenceNoise) {
            // for (var j=0; j<UI.touchesWithMouse.length; j++)
            // {
            //     var touch = UI.touchesWithMouse[j];
            //     if (touch.index<2 || touch.index>Tract.n) continue;
            //     if (touch.diameter<=0) continue;            
            //     var intensity = touch.fricative_intensity;
            //     if (intensity == 0) continue;
            //     this.addTurbulenceNoiseAtIndex(0.66*turbulenceNoise*intensity, touch.index, touch.diameter);
            // }
        }
    }, {
        key: "addTurbulenceNoiseAtIndex",
        value: function addTurbulenceNoiseAtIndex(turbulenceNoise, index, diameter) {
            var i = Math.floor(index);
            var delta = index - i;
            turbulenceNoise *= this.trombone.Glottis.getNoiseModulator();
            var thinness0 = Math.clamp(8 * (0.7 - diameter), 0, 1);
            var openness = Math.clamp(30 * (diameter - 0.3), 0, 1);
            var noise0 = turbulenceNoise * (1 - delta) * thinness0 * openness;
            var noise1 = turbulenceNoise * delta * thinness0 * openness;
            this.R[i + 1] += noise0 / 2;
            this.L[i + 1] += noise0 / 2;
            this.R[i + 2] += noise1 / 2;
            this.L[i + 2] += noise1 / 2;
        }
    }]);

    return Tract;
}();

;

exports.Tract = Tract;

},{}],9:[function(require,module,exports){
"use strict";

Math.clamp = function (number, min, max) {
    if (number < min) return min;else if (number > max) return max;else return number;
};

Math.moveTowards = function (current, target, amount) {
    if (current < target) return Math.min(current + amount, target);else return Math.max(current - amount, target);
};

Math.moveTowards = function (current, target, amountUp, amountDown) {
    if (current < target) return Math.min(current + amountUp, target);else return Math.max(current - amountDown, target);
};

Math.gaussian = function () {
    var s = 0;
    for (var c = 0; c < 16; c++) {
        s += Math.random();
    }return (s - 8) / 4;
};

Math.lerp = function (a, b, t) {
    return a + (b - a) * t;
};

},{}],10:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/*
 * A speed-improved perlin and simplex noise algorithms for 2D.
 *
 * Based on example code by Stefan Gustavson (stegu@itn.liu.se).
 * Optimisations by Peter Eastman (peastman@drizzle.stanford.edu).
 * Better rank ordering method by Stefan Gustavson in 2012.
 * Converted to Javascript by Joseph Gentle.
 *
 * Version 2012-03-09
 *
 * This code was placed in the public domain by its original author,
 * Stefan Gustavson. You may use it as you see fit, but
 * attribution is appreciated.
 *
 */

var Grad = function () {
    function Grad(x, y, z) {
        _classCallCheck(this, Grad);

        this.x = x;
        this.y = y;
        this.z = z;
    }

    _createClass(Grad, [{
        key: "dot2",
        value: function dot2(x, y) {
            return this.x * x + this.y * y;
        }
    }, {
        key: "dot3",
        value: function dot3(x, y, z) {
            return this.x * x + this.y * y + this.z * z;
        }
    }]);

    return Grad;
}();

var Noise = function () {
    function Noise() {
        _classCallCheck(this, Noise);

        this.grad3 = [new Grad(1, 1, 0), new Grad(-1, 1, 0), new Grad(1, -1, 0), new Grad(-1, -1, 0), new Grad(1, 0, 1), new Grad(-1, 0, 1), new Grad(1, 0, -1), new Grad(-1, 0, -1), new Grad(0, 1, 1), new Grad(0, -1, 1), new Grad(0, 1, -1), new Grad(0, -1, -1)];
        this.p = [151, 160, 137, 91, 90, 15, 131, 13, 201, 95, 96, 53, 194, 233, 7, 225, 140, 36, 103, 30, 69, 142, 8, 99, 37, 240, 21, 10, 23, 190, 6, 148, 247, 120, 234, 75, 0, 26, 197, 62, 94, 252, 219, 203, 117, 35, 11, 32, 57, 177, 33, 88, 237, 149, 56, 87, 174, 20, 125, 136, 171, 168, 68, 175, 74, 165, 71, 134, 139, 48, 27, 166, 77, 146, 158, 231, 83, 111, 229, 122, 60, 211, 133, 230, 220, 105, 92, 41, 55, 46, 245, 40, 244, 102, 143, 54, 65, 25, 63, 161, 1, 216, 80, 73, 209, 76, 132, 187, 208, 89, 18, 169, 200, 196, 135, 130, 116, 188, 159, 86, 164, 100, 109, 198, 173, 186, 3, 64, 52, 217, 226, 250, 124, 123, 5, 202, 38, 147, 118, 126, 255, 82, 85, 212, 207, 206, 59, 227, 47, 16, 58, 17, 182, 189, 28, 42, 223, 183, 170, 213, 119, 248, 152, 2, 44, 154, 163, 70, 221, 153, 101, 155, 167, 43, 172, 9, 129, 22, 39, 253, 19, 98, 108, 110, 79, 113, 224, 232, 178, 185, 112, 104, 218, 246, 97, 228, 251, 34, 242, 193, 238, 210, 144, 12, 191, 179, 162, 241, 81, 51, 145, 235, 249, 14, 239, 107, 49, 192, 214, 31, 181, 199, 106, 157, 184, 84, 204, 176, 115, 121, 50, 45, 127, 4, 150, 254, 138, 236, 205, 93, 222, 114, 67, 29, 24, 72, 243, 141, 128, 195, 78, 66, 215, 61, 156, 180];

        // To remove the need for index wrapping, double the permutation table length
        this.perm = new Array(512);
        this.gradP = new Array(512);

        this.seed(Date.now());
    }

    _createClass(Noise, [{
        key: "seed",
        value: function seed(_seed) {
            if (_seed > 0 && _seed < 1) {
                // Scale the seed out
                _seed *= 65536;
            }

            _seed = Math.floor(_seed);
            if (_seed < 256) {
                _seed |= _seed << 8;
            }

            for (var i = 0; i < 256; i++) {
                var v;
                if (i & 1) {
                    v = this.p[i] ^ _seed & 255;
                } else {
                    v = this.p[i] ^ _seed >> 8 & 255;
                }

                this.perm[i] = this.perm[i + 256] = v;
                this.gradP[i] = this.gradP[i + 256] = this.grad3[v % 12];
            }
        }
    }, {
        key: "simplex2",


        // 2D simplex noise
        value: function simplex2(xin, yin) {
            // Skewing and unskewing factors for 2, 3, and 4 dimensions
            var F2 = 0.5 * (Math.sqrt(3) - 1);
            var G2 = (3 - Math.sqrt(3)) / 6;

            var F3 = 1 / 3;
            var G3 = 1 / 6;

            var n0, n1, n2; // Noise contributions from the three corners
            // Skew the input space to determine which simplex cell we're in
            var s = (xin + yin) * F2; // Hairy factor for 2D
            var i = Math.floor(xin + s);
            var j = Math.floor(yin + s);
            var t = (i + j) * G2;
            var x0 = xin - i + t; // The x,y distances from the cell origin, unskewed.
            var y0 = yin - j + t;
            // For the 2D case, the simplex shape is an equilateral triangle.
            // Determine which simplex we are in.
            var i1, j1; // Offsets for second (middle) corner of simplex in (i,j) coords
            if (x0 > y0) {
                // lower triangle, XY order: (0,0)->(1,0)->(1,1)
                i1 = 1;j1 = 0;
            } else {
                // upper triangle, YX order: (0,0)->(0,1)->(1,1)
                i1 = 0;j1 = 1;
            }
            // A step of (1,0) in (i,j) means a step of (1-c,-c) in (x,y), and
            // a step of (0,1) in (i,j) means a step of (-c,1-c) in (x,y), where
            // c = (3-sqrt(3))/6
            var x1 = x0 - i1 + G2; // Offsets for middle corner in (x,y) unskewed coords
            var y1 = y0 - j1 + G2;
            var x2 = x0 - 1 + 2 * G2; // Offsets for last corner in (x,y) unskewed coords
            var y2 = y0 - 1 + 2 * G2;
            // Work out the hashed gradient indices of the three simplex corners
            i &= 255;
            j &= 255;
            var gi0 = this.gradP[i + this.perm[j]];
            var gi1 = this.gradP[i + i1 + this.perm[j + j1]];
            var gi2 = this.gradP[i + 1 + this.perm[j + 1]];
            // Calculate the contribution from the three corners
            var t0 = 0.5 - x0 * x0 - y0 * y0;
            if (t0 < 0) {
                n0 = 0;
            } else {
                t0 *= t0;
                n0 = t0 * t0 * gi0.dot2(x0, y0); // (x,y) of grad3 used for 2D gradient
            }
            var t1 = 0.5 - x1 * x1 - y1 * y1;
            if (t1 < 0) {
                n1 = 0;
            } else {
                t1 *= t1;
                n1 = t1 * t1 * gi1.dot2(x1, y1);
            }
            var t2 = 0.5 - x2 * x2 - y2 * y2;
            if (t2 < 0) {
                n2 = 0;
            } else {
                t2 *= t2;
                n2 = t2 * t2 * gi2.dot2(x2, y2);
            }
            // Add contributions from each corner to get the final noise value.
            // The result is scaled to return values in the interval [-1,1].
            return 70 * (n0 + n1 + n2);
        }
    }, {
        key: "simplex1",
        value: function simplex1(x) {
            return this.simplex2(x * 1.2, -x * 0.7);
        }
    }]);

    return Noise;
}();

var singleton = new Noise();
Object.freeze(singleton);

exports.default = singleton;

},{}],11:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.PinkTrombone = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

require("./math-extensions.js");

var _audioSystem = require("./components/audio-system.js");

var _glottis = require("./components/glottis.js");

var _tract = require("./components/tract.js");

var _tractUi = require("./components/tract-ui.js");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var PinkTrombone = function () {
    function PinkTrombone(controller) {
        _classCallCheck(this, PinkTrombone);

        this.controller = controller;

        this.sampleRate = 0;
        this.time = 0;
        this.alwaysVoice = true;
        this.autoWobble = true;
        this.noiseFreq = 500;
        this.noiseQ = 0.7;

        this.AudioSystem = new _audioSystem.AudioSystem(this);
        this.AudioSystem.init();

        this.Glottis = new _glottis.Glottis(this);
        this.Glottis.init();

        this.Tract = new _tract.Tract(this);
        this.Tract.init();

        this.TractUI = new _tractUi.TractUI(this);
        this.TractUI.init();

        //this.StartAudio();
        //this.SetMute(true);

        this.muted = false;
    }

    _createClass(PinkTrombone, [{
        key: "StartAudio",
        value: function StartAudio() {
            this.muted = false;
            this.AudioSystem.startSound();
        }
    }, {
        key: "SetMute",
        value: function SetMute(doMute) {
            doMute ? this.AudioSystem.mute() : this.AudioSystem.unmute();
            this.muted = doMute;
        }
    }, {
        key: "ToggleMute",
        value: function ToggleMute() {
            this.SetMute(!this.muted);
        }
    }]);

    return PinkTrombone;
}();

exports.PinkTrombone = PinkTrombone;

},{"./components/audio-system.js":5,"./components/glottis.js":6,"./components/tract-ui.js":7,"./components/tract.js":8,"./math-extensions.js":9}],12:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

// const words = require('cmu-pronouncing-dictionary');

var TTSController = exports.TTSController = function TTSController() {
    _classCallCheck(this, TTSController);
}

// GetGraphemes(str){
//     let zeroPunctuation = str.replace(/[.,\/#!$%\^&\*;:{}=\-_`~()]/g,"");
//     let wordBank = []
//     for(let word of zeroPunctuation.split(' ')){
//         wordBank.push(this.GetPronunciationForWord(word));
//     }
//     return wordBank;
// }

// GetPronunciationForWord(rawWord){
//     let word = rawWord.toLowerCase();
//     if (words[word]){
//         return words[word];
//     } else {
//         // If the word isn't in the dict, ignore it for now
//         return "None";
//     }
// }


;

},{}],13:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var ModelLoader = function () {
    function ModelLoader() {
        _classCallCheck(this, ModelLoader);
    }

    _createClass(ModelLoader, null, [{
        key: 'LoadOBJ',


        /**
         * Loads a model asynchronously. Expects an object containing
         * the path to the object, the relative path of the OBJ file,
         * and the relative path of the MTL file.
         * 
         * An example:
         * let modelInfo = {
         *      path: "../resources/obj/",
         *      objFile: "test.obj",
         *      mtlFile: "test.mtl"
         * }
         */
        value: function LoadOBJ(modelInfo, loadedCallback) {

            var onProgress = function onProgress(xhr) {
                if (xhr.lengthComputable) {
                    var percentComplete = xhr.loaded / xhr.total * 100;
                    console.log(Math.round(percentComplete, 2) + '% downloaded');
                }
            };
            var onError = function onError(xhr) {};

            var mtlLoader = new THREE.MTLLoader();
            mtlLoader.setPath(modelInfo.path);

            mtlLoader.load(modelInfo.mtlFile, function (materials) {
                materials.preload();
                var objLoader = new THREE.OBJLoader();
                objLoader.setMaterials(materials);
                objLoader.setPath(modelInfo.path);
                objLoader.load(modelInfo.objFile, function (object) {
                    loadedCallback(object);
                }, onProgress, onError);
            });
        }
    }, {
        key: 'LoadJSON',
        value: function LoadJSON(path, loadedCallback) {

            var onProgress = function onProgress(xhr) {
                if (xhr.lengthComputable) {
                    var percentComplete = xhr.loaded / xhr.total * 100;
                    console.log(Math.round(percentComplete, 2) + '% downloaded');
                }
            };
            var onError = function onError(xhr) {};

            var loader = new THREE.JSONLoader();
            loader.load(path, function (geometry, materials) {
                // Apply skinning to each material so the verts are affected by bone movement
                var _iteratorNormalCompletion = true;
                var _didIteratorError = false;
                var _iteratorError = undefined;

                try {
                    for (var _iterator = materials[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                        var mat = _step.value;

                        mat.skinning = true;
                    }
                } catch (err) {
                    _didIteratorError = true;
                    _iteratorError = err;
                } finally {
                    try {
                        if (!_iteratorNormalCompletion && _iterator.return) {
                            _iterator.return();
                        }
                    } finally {
                        if (_didIteratorError) {
                            throw _iteratorError;
                        }
                    }
                }

                var mesh = new THREE.SkinnedMesh(geometry, new THREE.MultiMaterial(materials));
                mesh.name = "Jon";
                loadedCallback(mesh);
            }, onProgress, onError);
        }
    }, {
        key: 'LoadFBX',
        value: function LoadFBX(path, loadedCallback) {
            var manager = new THREE.LoadingManager();
            manager.onProgress = function (item, loaded, total) {
                console.log(item, loaded, total);
            };

            var onProgress = function onProgress(xhr) {
                if (xhr.lengthComputable) {
                    var percentComplete = xhr.loaded / xhr.total * 100;
                    console.log(Math.round(percentComplete, 2) + '% downloaded');
                }
            };
            var onError = function onError(xhr) {};

            var loader = new THREE.FBXLoader(manager);
            loader.load(path, function (object) {
                loadedCallback(object);
            }, onProgress, onError);
        }
    }]);

    return ModelLoader;
}();

exports.ModelLoader = ModelLoader;

},{}],14:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Detector = function () {
    function Detector() {
        _classCallCheck(this, Detector);
    }

    _createClass(Detector, null, [{
        key: "HasWebGL",


        //http://stackoverflow.com/questions/11871077/proper-way-to-detect-webgl-support
        value: function HasWebGL() {
            if (!!window.WebGLRenderingContext) {
                var canvas = document.createElement("canvas"),
                    names = ["webgl", "experimental-webgl", "moz-webgl", "webkit-3d"],
                    context = false;

                for (var i = 0; i < 4; i++) {
                    try {
                        context = canvas.getContext(names[i]);
                        if (context && typeof context.getParameter == "function") {
                            // WebGL is enabled
                            return true;
                        }
                    } catch (e) {}
                }

                // WebGL is supported, but disabled
                return false;
            }
            // WebGL not supported
            return false;
        }
    }, {
        key: "GetErrorHTML",
        value: function GetErrorHTML() {
            var message = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;

            if (message == null) {
                message = "Your graphics card does not seem to support \n                        <a href=\"http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation\">WebGL</a>. <br>\n                        Find out how to get it <a href=\"http://get.webgl.org/\">here</a>.";
            }
            return "\n        <div class=\"no-webgl-support\">\n        <p style=\"text-align: center;\">" + message + "</p>\n        </div>\n        ";
        }
    }]);

    return Detector;
}();

exports.Detector = Detector;

},{}],15:[function(require,module,exports){
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("guify",[],t):"object"==typeof exports?exports.guify=t():e.guify=t()}(this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=16)}([function(e,t,n){function o(e,t,n){var o=l[t];if(void 0===o&&(o=i(t)),o){if(void 0===n)return e.style[o];e.style[o]=c(o,n)}}function r(e,t){for(var n in t)t.hasOwnProperty(n)&&o(e,n,t[n])}function i(e){var t=u(e),n=s(t);return l[t]=l[e]=l[n]=n,n}function a(){2===arguments.length?"string"==typeof arguments[1]?arguments[0].style.cssText=arguments[1]:r(arguments[0],arguments[1]):o(arguments[0],arguments[1],arguments[2])}var s=n(18),u=n(19),l={float:"cssFloat"},c=n(22);e.exports=a,e.exports.set=a,e.exports.get=function(e,t){return Array.isArray(t)?t.reduce(function(t,n){return t[n]=o(e,n||""),t},{}):o(e,t||"")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=function(e){return e&&e.__esModule?e:{default:e}}(o),i=function(e,t,n){var o=e.appendChild(document.createElement("div"));return o.classList.add("guify-component-container"),(0,r.default)(o,{position:"relative","min-height":n.sizing.componentHeight,"margin-bottom":n.sizing.componentSpacing}),o};t.default=i,e.exports=t.default},function(e,t,n){"use strict";var o=n(6),r={theme:o.theme,sizing:{labelsWidthPercent:62}};e.exports=r},function(e,t,n){"use strict";var o=n(32);e.exports=o,e.exports.csjs=o,e.exports.getCss=n(45)},function(e,t,n){var o;!function(t){"use strict";function r(){}function i(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function a(e){return function(){return this[e].apply(this,arguments)}}function s(e){return"function"==typeof e||e instanceof RegExp||!(!e||"object"!=typeof e)&&s(e.listener)}var u=r.prototype,l=t.EventEmitter;u.getListeners=function(e){var t,n,o=this._getEvents();if(e instanceof RegExp){t={};for(n in o)o.hasOwnProperty(n)&&e.test(n)&&(t[n]=o[n])}else t=o[e]||(o[e]=[]);return t},u.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},u.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},u.addListener=function(e,t){if(!s(t))throw new TypeError("listener must be a function");var n,o=this.getListenersAsObject(e),r="object"==typeof t;for(n in o)o.hasOwnProperty(n)&&-1===i(o[n],t)&&o[n].push(r?t:{listener:t,once:!1});return this},u.on=a("addListener"),u.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},u.once=a("addOnceListener"),u.defineEvent=function(e){return this.getListeners(e),this},u.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},u.removeListener=function(e,t){var n,o,r=this.getListenersAsObject(e);for(o in r)r.hasOwnProperty(o)&&-1!==(n=i(r[o],t))&&r[o].splice(n,1);return this},u.off=a("removeListener"),u.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},u.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},u.manipulateListeners=function(e,t,n){var o,r,i=e?this.removeListener:this.addListener,a=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(o=n.length;o--;)i.call(this,t,n[o]);else for(o in t)t.hasOwnProperty(o)&&(r=t[o])&&("function"==typeof r?i.call(this,o,r):a.call(this,o,r));return this},u.removeEvent=function(e){var t,n=typeof e,o=this._getEvents();if("string"===n)delete o[e];else if(e instanceof RegExp)for(t in o)o.hasOwnProperty(t)&&e.test(t)&&delete o[t];else delete this._events;return this},u.removeAllListeners=a("removeEvent"),u.emitEvent=function(e,t){var n,o,r,i,a=this.getListenersAsObject(e);for(i in a)if(a.hasOwnProperty(i))for(n=a[i].slice(0),r=0;r<n.length;r++)o=n[r],!0===o.once&&this.removeListener(e,o.listener),o.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,o.listener);return this},u.trigger=a("emitEvent"),u.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},u.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},u._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},u._getEvents=function(){return this._events||(this._events={})},r.noConflict=function(){return t.EventEmitter=l,r},void 0!==(o=function(){return r}.call(t,n,t,e))&&(e.exports=o)}(this||{})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=function(e,t,n){var o=e.appendChild(document.createElement("div"));(0,r.default)(o,{left:0,width:"calc("+n.sizing.labelWidth+" - 2%)",display:"inline-block","min-height":n.sizing.componentHeight,paddingRight:"2%",verticalAlign:"top"});var i=o.appendChild(document.createElement("div"));return i.innerHTML=t,(0,r.default)(i,{color:n.colors.text1,display:"inline-block",verticalAlign:"sub","line-height":n.sizing.componentHeight}),i},e.exports=t.default},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.theme=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(9),a=(function(e){e&&e.__esModule}(i),function(){function e(){o(this,e)}return r(e,[{key:"Set",value:function(e){this.name=e.name,this.colors=e.colors,this.sizing=e.sizing,this.font=e.font}}]),e}());t.theme=new a},function(e,t,n){"use strict";function o(e,t,n){var o=e.join(" ");return Object.create(a.prototype,{classNames:{value:Object.freeze(e),configurable:!1,writable:!1,enumerable:!0},unscoped:{value:Object.freeze(t),configurable:!1,writable:!1,enumerable:!0},className:{value:o,configurable:!1,writable:!1,enumerable:!0},selector:{value:e.map(function(e){return n?e:"."+e}).join(", "),configurable:!1,writable:!1,enumerable:!0},toString:{value:function(){return o},configurable:!1,writeable:!1,enumerable:!1}})}function r(e){return e instanceof a}function i(e){return e.reduce(function(e,t){return r(t)&&t.classNames.forEach(function(n,o){e[n]=t.unscoped[o]}),e},{})}function a(){}e.exports={makeComposition:o,isComposition:r,ignoreComposition:i}},function(e,t,n){"use strict";var o=/(\.)(?!\d)([^\s\.,{\[>+~#:)]*)(?![^{]*})/.source,r=/(@\S*keyframes\s*)([^{\s]*)/.source,i=/(?!(?:[^*\/]|\*[^\/]|\/[^*])*\*+\/)/.source,a=new RegExp(o+i,"g"),s=new RegExp(r+i,"g");e.exports={classRegex:a,keyframesRegex:s,ignoreComments:i}},function(e,t,n){"use strict";e.exports={light:{name:"Light",colors:{background1:"rgb(227, 227, 227)",background2:"rgb(204, 204, 204)",background2hover:"rgb(190, 190, 190)",foreground1:"rgb(105, 105, 105)",text1:"rgb(36, 36, 36)",text2:"rgb(87, 87, 87)"},sizing:{menuBarHeight:"36px",menuBarContentHeight:"20px",componentHeight:"20px",componentSpacing:"5px",labelWidth:"42%"}},dark:{name:"Dark",colors:{background1:"rgb(35, 35, 35)",background2:"rgb(54, 54, 54)",background2hover:"rgb(76, 76, 76)",foreground1:"rgb(112, 112, 112)",text1:"rgb(235, 235, 235)",text2:"rgb(161, 161, 161)"},sizing:{menuBarHeight:"36px",menuBarContentHeight:"20px",componentHeight:"20px",componentSpacing:"5px",labelWidth:"42%"}}}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";e.exports=" css "},function(e,t,n){"use strict";e.exports=n(44)},function(e,t){function n(e,t){if(t=t||{},void 0===e)throw new Error(a);var n=!0===t.prepend?"prepend":"append",s=void 0!==t.container?t.container:document.querySelector("head"),u=r.indexOf(s);-1===u&&(u=r.push(s)-1,i[u]={});var l;return void 0!==i[u]&&void 0!==i[u][n]?l=i[u][n]:(l=i[u][n]=o(),"prepend"===n?s.insertBefore(l,s.childNodes[0]):s.appendChild(l)),65279===e.charCodeAt(0)&&(e=e.substr(1,e.length)),l.styleSheet?l.styleSheet.cssText+=e:l.textContent+=e,l}function o(){var e=document.createElement("style");return e.setAttribute("type","text/css"),e}var r=[],i=[],a="insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).";e.exports=n,e.exports.insertCss=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=function(e,t,n,o,i){var a=e.appendChild(document.createElement("div")),s=a.appendChild(document.createElement("span"));s.innerHTML=t;var u={position:"absolute",backgroundColor:n.colors.background2,paddingLeft:"1.5%",height:"20px",width:o,display:"inline-block",overflow:"hidden"};return i||(u.right=0),(0,r.default)(a,u),(0,r.default)(s,{"font-family":"'Hack', monospace",color:n.colors.text2,display:"inline-block",userSelect:"text",cursor:"text",overflow:"hidden",lineHeight:"20px",wordBreak:"break-all",height:20}),s},e.exports=t.default},function(e,t,n){var o;!function(r){function i(e,t){if(e=e||"",t=t||{},e instanceof i)return e;if(!(this instanceof i))return new i(e,t);var n=a(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=D(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=D(this._r)),this._g<1&&(this._g=D(this._g)),this._b<1&&(this._b=D(this._b)),this._ok=n.ok,this._tc_id=I++}function a(e){var t={r:0,g:0,b:0},n=1,o=null,r=null,i=null,a=!1,u=!1;return"string"==typeof e&&(e=$(e)),"object"==typeof e&&(F(e.r)&&F(e.g)&&F(e.b)?(t=s(e.r,e.g,e.b),a=!0,u="%"===String(e.r).substr(-1)?"prgb":"rgb"):F(e.h)&&F(e.s)&&F(e.v)?(o=T(e.s),r=T(e.v),t=f(e.h,o,r),a=!0,u="hsv"):F(e.h)&&F(e.s)&&F(e.l)&&(o=T(e.s),i=T(e.l),t=l(e.h,o,i),a=!0,u="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=C(n),{ok:a,format:e.format||u,r:W(255,G(t.r,0)),g:W(255,G(t.g,0)),b:W(255,G(t.b,0)),a:n}}function s(e,t,n){return{r:255*E(e,255),g:255*E(t,255),b:255*E(n,255)}}function u(e,t,n){e=E(e,255),t=E(t,255),n=E(n,255);var o,r,i=G(e,t,n),a=W(e,t,n),s=(i+a)/2;if(i==a)o=r=0;else{var u=i-a;switch(r=s>.5?u/(2-i-a):u/(i+a),i){case e:o=(t-n)/u+(t<n?6:0);break;case t:o=(n-e)/u+2;break;case n:o=(e-t)/u+4}o/=6}return{h:o,s:r,l:s}}function l(e,t,n){function o(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var r,i,a;if(e=E(e,360),t=E(t,100),n=E(n,100),0===t)r=i=a=n;else{var s=n<.5?n*(1+t):n+t-n*t,u=2*n-s;r=o(u,s,e+1/3),i=o(u,s,e),a=o(u,s,e-1/3)}return{r:255*r,g:255*i,b:255*a}}function c(e,t,n){e=E(e,255),t=E(t,255),n=E(n,255);var o,r,i=G(e,t,n),a=W(e,t,n),s=i,u=i-a;if(r=0===i?0:u/i,i==a)o=0;else{switch(i){case e:o=(t-n)/u+(t<n?6:0);break;case t:o=(n-e)/u+2;break;case n:o=(e-t)/u+4}o/=6}return{h:o,s:r,v:s}}function f(e,t,n){e=6*E(e,360),t=E(t,100),n=E(n,100);var o=r.floor(e),i=e-o,a=n*(1-t),s=n*(1-i*t),u=n*(1-(1-i)*t),l=o%6;return{r:255*[n,s,a,a,u,n][l],g:255*[u,n,n,s,a,a][l],b:255*[a,a,u,n,n,s][l]}}function p(e,t,n,o){var r=[P(D(e).toString(16)),P(D(t).toString(16)),P(D(n).toString(16))];return o&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function d(e,t,n,o,r){var i=[P(D(e).toString(16)),P(D(t).toString(16)),P(D(n).toString(16)),P(R(o))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)&&i[3].charAt(0)==i[3].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0):i.join("")}function h(e,t,n,o){return[P(R(o)),P(D(e).toString(16)),P(D(t).toString(16)),P(D(n).toString(16))].join("")}function g(e,t){t=0===t?0:t||10;var n=i(e).toHsl();return n.s-=t/100,n.s=z(n.s),i(n)}function b(e,t){t=0===t?0:t||10;var n=i(e).toHsl();return n.s+=t/100,n.s=z(n.s),i(n)}function m(e){return i(e).desaturate(100)}function y(e,t){t=0===t?0:t||10;var n=i(e).toHsl();return n.l+=t/100,n.l=z(n.l),i(n)}function v(e,t){t=0===t?0:t||10;var n=i(e).toRgb();return n.r=G(0,W(255,n.r-D(-t/100*255))),n.g=G(0,W(255,n.g-D(-t/100*255))),n.b=G(0,W(255,n.b-D(-t/100*255))),i(n)}function x(e,t){t=0===t?0:t||10;var n=i(e).toHsl();return n.l-=t/100,n.l=z(n.l),i(n)}function k(e,t){var n=i(e).toHsl(),o=(n.h+t)%360;return n.h=o<0?360+o:o,i(n)}function w(e){var t=i(e).toHsl();return t.h=(t.h+180)%360,i(t)}function _(e){var t=i(e).toHsl(),n=t.h;return[i(e),i({h:(n+120)%360,s:t.s,l:t.l}),i({h:(n+240)%360,s:t.s,l:t.l})]}function j(e){var t=i(e).toHsl(),n=t.h;return[i(e),i({h:(n+90)%360,s:t.s,l:t.l}),i({h:(n+180)%360,s:t.s,l:t.l}),i({h:(n+270)%360,s:t.s,l:t.l})]}function S(e){var t=i(e).toHsl(),n=t.h;return[i(e),i({h:(n+72)%360,s:t.s,l:t.l}),i({h:(n+216)%360,s:t.s,l:t.l})]}function O(e,t,n){t=t||6,n=n||30;var o=i(e).toHsl(),r=360/n,a=[i(e)];for(o.h=(o.h-(r*t>>1)+720)%360;--t;)o.h=(o.h+r)%360,a.push(i(o));return a}function M(e,t){t=t||6;for(var n=i(e).toHsv(),o=n.h,r=n.s,a=n.v,s=[],u=1/t;t--;)s.push(i({h:o,s:r,v:a})),a=(a+u)%1;return s}function C(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function E(e,t){H(e)&&(e="100%");var n=A(e);return e=W(t,G(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),r.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function z(e){return W(1,G(0,e))}function L(e){return parseInt(e,16)}function H(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)}function A(e){return"string"==typeof e&&-1!=e.indexOf("%")}function P(e){return 1==e.length?"0"+e:""+e}function T(e){return e<=1&&(e=100*e+"%"),e}function R(e){return r.round(255*parseFloat(e)).toString(16)}function U(e){return L(e)/255}function F(e){return!!Y.CSS_UNIT.exec(e)}function $(e){e=e.replace(V,"").replace(B,"").toLowerCase();var t=!1;if(Z[e])e=Z[e],t=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=Y.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=Y.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Y.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=Y.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Y.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=Y.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Y.hex8.exec(e))?{r:L(n[1]),g:L(n[2]),b:L(n[3]),a:U(n[4]),format:t?"name":"hex8"}:(n=Y.hex6.exec(e))?{r:L(n[1]),g:L(n[2]),b:L(n[3]),format:t?"name":"hex"}:(n=Y.hex4.exec(e))?{r:L(n[1]+""+n[1]),g:L(n[2]+""+n[2]),b:L(n[3]+""+n[3]),a:U(n[4]+""+n[4]),format:t?"name":"hex8"}:!!(n=Y.hex3.exec(e))&&{r:L(n[1]+""+n[1]),g:L(n[2]+""+n[2]),b:L(n[3]+""+n[3]),format:t?"name":"hex"}}function N(e){var t,n;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA"),"small"!==n&&"large"!==n&&(n="small"),{level:t,size:n}}var V=/^\s+/,B=/\s+$/,I=0,D=r.round,W=r.min,G=r.max,q=r.random;i.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,o,i,a,s=this.toRgb();return e=s.r/255,t=s.g/255,n=s.b/255,o=e<=.03928?e/12.92:r.pow((e+.055)/1.055,2.4),i=t<=.03928?t/12.92:r.pow((t+.055)/1.055,2.4),a=n<=.03928?n/12.92:r.pow((n+.055)/1.055,2.4),.2126*o+.7152*i+.0722*a},setAlpha:function(e){return this._a=C(e),this._roundA=D(100*this._a)/100,this},toHsv:function(){var e=c(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=c(this._r,this._g,this._b),t=D(360*e.h),n=D(100*e.s),o=D(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+o+"%)":"hsva("+t+", "+n+"%, "+o+"%, "+this._roundA+")"},toHsl:function(){var e=u(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=u(this._r,this._g,this._b),t=D(360*e.h),n=D(100*e.s),o=D(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+o+"%)":"hsla("+t+", "+n+"%, "+o+"%, "+this._roundA+")"},toHex:function(e){return p(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return d(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:D(this._r),g:D(this._g),b:D(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+D(this._r)+", "+D(this._g)+", "+D(this._b)+")":"rgba("+D(this._r)+", "+D(this._g)+", "+D(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:D(100*E(this._r,255))+"%",g:D(100*E(this._g,255))+"%",b:D(100*E(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+D(100*E(this._r,255))+"%, "+D(100*E(this._g,255))+"%, "+D(100*E(this._b,255))+"%)":"rgba("+D(100*E(this._r,255))+"%, "+D(100*E(this._g,255))+"%, "+D(100*E(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(X[p(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+h(this._r,this._g,this._b,this._a),n=t,o=this._gradientType?"GradientType = 1, ":"";if(e){var r=i(e);n="#"+h(r._r,r._g,r._b,r._a)}return"progid:DXImageTransform.Microsoft.gradient("+o+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,o=this._a<1&&this._a>=0;return t||!o||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return i(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(y,arguments)},brighten:function(){return this._applyModification(v,arguments)},darken:function(){return this._applyModification(x,arguments)},desaturate:function(){return this._applyModification(g,arguments)},saturate:function(){return this._applyModification(b,arguments)},greyscale:function(){return this._applyModification(m,arguments)},spin:function(){return this._applyModification(k,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(O,arguments)},complement:function(){return this._applyCombination(w,arguments)},monochromatic:function(){return this._applyCombination(M,arguments)},splitcomplement:function(){return this._applyCombination(S,arguments)},triad:function(){return this._applyCombination(_,arguments)},tetrad:function(){return this._applyCombination(j,arguments)}},i.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var o in e)e.hasOwnProperty(o)&&(n[o]="a"===o?e[o]:T(e[o]));e=n}return i(e,t)},i.equals=function(e,t){return!(!e||!t)&&i(e).toRgbString()==i(t).toRgbString()},i.random=function(){return i.fromRatio({r:q(),g:q(),b:q()})},i.mix=function(e,t,n){n=0===n?0:n||50;var o=i(e).toRgb(),r=i(t).toRgb(),a=n/100;return i({r:(r.r-o.r)*a+o.r,g:(r.g-o.g)*a+o.g,b:(r.b-o.b)*a+o.b,a:(r.a-o.a)*a+o.a})},i.readability=function(e,t){var n=i(e),o=i(t);return(r.max(n.getLuminance(),o.getLuminance())+.05)/(r.min(n.getLuminance(),o.getLuminance())+.05)},i.isReadable=function(e,t,n){var o,r,a=i.readability(e,t);switch(r=!1,o=N(n),o.level+o.size){case"AAsmall":case"AAAlarge":r=a>=4.5;break;case"AAlarge":r=a>=3;break;case"AAAsmall":r=a>=7}return r},i.mostReadable=function(e,t,n){var o,r,a,s,u=null,l=0;n=n||{},r=n.includeFallbackColors,a=n.level,s=n.size;for(var c=0;c<t.length;c++)(o=i.readability(e,t[c]))>l&&(l=o,u=i(t[c]));return i.isReadable(e,u,{level:a,size:s})||!r?u:(n.includeFallbackColors=!1,i.mostReadable(e,["#fff","#000"],n))};var Z=i.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},X=i.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(Z),Y=function(){var e="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",t="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",n="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?";return{CSS_UNIT:new RegExp(e),rgb:new RegExp("rgb"+t),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+t),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+t),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();void 0!==e&&e.exports?e.exports=i:void 0!==(o=function(){return i}.call(t,n,t,e))&&(e.exports=o)}(Math)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GUI=void 0;var o=n(17),r=function(e){return e&&e.__esModule?e:{default:e}}(o);t.GUI=r.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(0),s=o(a),u=n(23),l=o(u),c=n(9),f=o(c),p=n(6),d=n(24),h=n(70),g=n(72),b=n(75),m=n(77),y=function(){function e(t){r(this,e),this.opts=t,this.hasRoot=void 0!==t.root;var n=function(e,t){void 0===e&&(e=t)};n(t,{}),n(t.width,300),t.theme=(0,l.default)(t.theme)?f.default[t.theme]:f.default.dark,n(t.root,document.body),n(t.align,"right"),n(t.opacity,1),n(t.barMode,"offset"),n(t.pollRateMS,100),p.theme.Set(t.theme),this._ConstructElements(),this._LoadStyles(),this.componentManager=new d.ComponentManager,this.loadedComponents=[],this._UpdateComponents()}return i(e,[{key:"_LoadStyles",value:function(){var e=function(e){var t=document.createElement("style");t.setAttribute("type","text/css"),t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),document.getElementsByTagName("head")[0].appendChild(t)};e("//cdn.jsdelivr.net/font-hack/2.019/css/hack.min.css"),this.opts.theme.font?(e(this.opts.theme.font.fontURL),(0,s.default)(this.container,{"font-family":this.opts.theme.font.fontFamily})):(0,s.default)(this.container,{"font-family":"'Hack', monospace"})}},{key:"_ConstructElements",value:function(){var e=this;this.container=document.createElement("div"),this.container.classList.add(m["guify-container"]),(0,s.default)(this.container,{top:"above"==this.opts.barMode&&this.hasRoot?"-"+this.opts.theme.sizing.menuBarHeight:"0"}),this.opts.root.appendChild(this.container),"none"!==this.opts.barMode&&(this.bar=new h.MenuBar(this.container,this.opts),this.bar.addListener("ontogglepanel",function(){e.panel.ToggleVisible()})),this.panel=new g.Panel(this.container,this.opts),"none"!==this.opts.barMode?this.panel.SetVisible(!1):this.panel.SetVisible(!0),this.toaster=new b.ToastArea(this.container,this.opts)}},{key:"_UpdateComponents",value:function(){var e=this;this.loadedComponents.forEach(function(e){e.binding&&e.binding.object[e.binding.property]!=e.oldValue&&(e.SetValue(e.binding.object[e.binding.property]),e.oldValue=e.binding.object[e.binding.property])}),setTimeout(function(){window.requestAnimationFrame(function(){e._UpdateComponents()})},this.opts.pollRateMS)}},{key:"Register",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Array.isArray(e))e.forEach(function(e){var o=Object.assign(e,n);t._Register(o)});else{var o=Object.assign(e,n);this._Register(o)}}},{key:"_Register",value:function(e){if(e.object&&e.property&&void 0===e.object[e.property])throw new Error("Object "+e.object+" has no property '"+e.property+"'");e.object&&e.property&&(e.initial=e.object[e.property]);var t=this.panel.element;if(e.folder){var n=this.loadedComponents.find(function(t){return"folder"===t.opts.type&&t.opts.label===e.folder});if(!n)throw new Error("No folder exists with the name "+e.folder);t=n.folderContainer}var o=this.componentManager.Create(e.type,t,e);e.object&&e.property&&(o.binding={object:e.object,property:e.property}),o.on&&(o.on("initialized",function(t){e.onInitialize&&e.onInitialize(t)}),o.on("input",function(t){e.object&&e.property&&(e.object[e.property]=t),e.onChange&&e.onChange(t)})),this.loadedComponents.push(o)}},{key:"Toast",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;this.toaster.CreateToast(e,t,n)}}]),e}();t.default=y,e.exports=t.default},function(e,t){var n=null,o=["Webkit","Moz","O","ms"];e.exports=function(e){n||(n=document.createElement("div"));var t=n.style;if(e in t)return e;for(var r=e.charAt(0).toUpperCase()+e.slice(1),i=o.length;i>=0;i--){var a=o[i]+r;if(a in t)return a}return!1}},function(e,t,n){function o(e){return r(e).replace(/\s(\w)/g,function(e,t){return t.toUpperCase()})}var r=n(20);e.exports=o},function(e,t,n){function o(e){return r(e).replace(/[\W_]+(.|$)/g,function(e,t){return t?" "+t:""}).trim()}var r=n(21);e.exports=o},function(e,t){function n(e){return i.test(e)?e.toLowerCase():a.test(e)?(o(e)||e).toLowerCase():s.test(e)?r(e).toLowerCase():e.toLowerCase()}function o(e){return e.replace(u,function(e,t){return t?" "+t:""})}function r(e){return e.replace(l,function(e,t,n){return t+" "+n.toLowerCase().split("").join(" ")})}e.exports=n;var i=/\s/,a=/(_|-|\.|:)/,s=/([a-z][A-Z]|[A-Z][a-z])/,u=/[\W_]+(.|$)/g,l=/(.)([A-Z]+)/g},function(e,t){var n={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0};e.exports=function(e,t){return"number"!=typeof t||n[e]?t:t+"px"}},function(e,t,n){"use strict";var o=String.prototype.valueOf,r=function(e){try{return o.call(e),!0}catch(e){return!1}},i=Object.prototype.toString,a="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){return"string"==typeof e||"object"==typeof e&&(a?r(e):"[object String]"===i.call(e))}},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.ComponentManager=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(25),a=function(e){return e&&e.__esModule?e:{default:e}}(i),s=n(6);t.ComponentManager=function(){function e(){o(this,e),this.uuid=(0,a.default)(),this.components={title:n(28),range:n(29),button:n(46),checkbox:n(48),select:n(50),text:n(52),color:n(53),folder:n(65),file:n(67),display:n(69)}}return r(e,[{key:"Create",value:function(e,t,n){if(void 0===this.components[e])throw new Error("No component type named '"+e+"' exists.");return new this.components[e](t,n,s.theme,this.uuid)}}]),e}()},function(e,t,n){function o(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null),e=e||{};var a=e.random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}var r=n(26),i=n(27);e.exports=o},function(e,t,n){(function(t){var n,o=t.crypto||t.msCrypto;if(o&&o.getRandomValues){var r=new Uint8Array(16);n=function(){return o.getRandomValues(r),r}}if(!n){var i=new Array(16);n=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}e.exports=n}).call(t,n(10))},function(e,t){function n(e,t){var n=t||0,r=o;return r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]}for(var o=[],r=0;r<256;++r)o[r]=(r+256).toString(16).substr(1);e.exports=n},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(e){return e&&e.__esModule?e:{default:e}}(r),a=function e(t,r,a){o(this,e),this.opts=r;var s=n(1)(t,r.label,a);(0,i.default)(s,{});var u=s.appendChild(document.createElement("div"));(0,i.default)(u,{"box-sizing":"border-box",width:"100%",display:"inline-block",height:"20px",verticalAlign:"top"});var l=u.appendChild(document.createElement("div"));l.innerHTML="&#9632; "+r.label+" &#9632;",(0,i.default)(l,{display:"inline-block",verticalAlign:"sub",height:"20px","line-height":"20px","padding-left":"5px","padding-right":"5px","background-color":a.colors.text2,color:a.colors.background1})};t.default=a,e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(4),l=o(u),c=n(0),f=o(c),p=n(30),d=o(p),h=n(31),g=function(e){function t(e,o,a,s){r(this,t);var u=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));u.opts=o;var l=n(1)(e,o.label,a);if(n(5)(l,o.label,a),o.step&&o.steps)throw new Error("Cannot specify both step and steps. Got step = "+o.step+", steps = ",o.steps);if(u.input=l.appendChild(document.createElement("input")),u.input.type="range",u.input.className=h["guify-range"],o.label&&u.input.setAttribute("aria-label",o.label),"log"===o.scale){if(o.max=(0,d.default)(o.max)?o.max:100,o.min=(0,d.default)(o.min)?o.min:.1,o.min*o.max<=0)throw new Error("Log range min/max must have the same sign and not equal zero. Got min = "+o.min+", max = "+o.max);if(u.logmin=o.min,u.logmax=o.max,u.logsign=o.min>0?1:-1,u.logmin=Math.abs(u.logmin),u.logmax=Math.abs(u.logmax),o.min=0,o.max=100,(0,d.default)(o.step))throw new Error("Log may only use steps (integer number of steps), not a step value. Got step ="+o.step);if(o.step=1,o.initial=u.InverseScaleValue((0,d.default)(o.initial)?o.initial:scaleValue(.5*(o.min+o.max))),o.initial*u.InverseScaleValue(o.max)<=0)throw new Error("Log range initial value must have the same sign as min/max and must not equal zero. Got initial value = "+o.initial)}else o.max=(0,d.default)(o.max)?o.max:100,o.min=(0,d.default)(o.min)?o.min:0,o.step=(0,d.default)(o.step)?o.step:(o.max-o.min)/100,o.initial=(0,d.default)(o.initial)?o.initial:.5*(o.min+o.max);(0,d.default)(o.steps)&&(o.step=(0,d.default)(o.steps)?(o.max-o.min)/o.steps:o.step);var c=Math.round((o.initial-o.min)/o.step);return o.initial=o.min+o.step*c,u.input.min=o.min,u.input.max=o.max,u.input.step=o.step,u.input.value=o.initial,(0,f.default)(u.input,{width:"calc(100% - "+a.sizing.labelWidth+" - 11% - 0.75em)"}),u.valueComponent=n(14)(l,u.ScaleValue(o.initial),a,"11%"),setTimeout(function(){u.emit("initialized",parseFloat(u.input.value))}),u.userIsModifying=!1,u.input.addEventListener("focus",function(){u.focused=!0}),u.input.addEventListener("blur",function(){u.focused=!1}),u.input.addEventListener("mouseup",function(){u.input.blur()}),u.input.oninput=function(e){var t=u.ScaleValue(parseFloat(e.target.value));u.valueComponent.innerHTML=t,u.emit("input",t)},u}return a(t,e),s(t,[{key:"ScaleValue",value:function(e){return"log"===this.opts.scale?this.logsign*Math.exp(Math.log(this.logmin)+(Math.log(this.logmax)-Math.log(this.logmin))*e/100):e}},{key:"InverseScaleValue",value:function(e){return"log"===this.opts.scale?100*(Math.log(e*this.logsign)-Math.log(this.logmin))/(Math.log(this.logmax)-Math.log(this.logmin)):e}},{key:"SetValue",value:function(e){!0!==this.focused&&(this.valueComponent.innerHTML=e.toString(),this.input.value=this.InverseScaleValue(e))}},{key:"GetValue",value:function(){return this.input.value}}]),t}(l.default);t.default=g,e.exports=t.default},function(e,t,n){!function(n){"use strict";function o(e){return"number"==typeof e&&!isNaN(e)||!!(e=(e||"").toString().trim())&&!isNaN(e)}void 0!==e&&e.exports&&(t=e.exports=o),t.isNumeric=o}()},function(e,t,n){"use strict";var o=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n\ninput[type=range].guify-range {\n    -webkit-appearance: none;\n    width: 100%;\n    margin: 0px 0;\n    display: inline-block;\n}\n\n/* Remove outlines since we'll be adding our own */\ninput[type=range].guify-range:focus {\n    outline: none;\n}\ninput[type=range].guify-range::-moz-focus-outer {\n    border: 0;\n}\n\n/* Webkit */\ninput[type=range].guify-range::-webkit-slider-runnable-track {\n    width: 100%;\n    height: 20px;\n    cursor: ew-resize;\n    background: ",";\n}\ninput[type=range].guify-range::-webkit-slider-thumb {\n    height: 20px;\n    width: 10px;\n    background: ",";\n    cursor: ew-resize;\n    -webkit-appearance: none;\n    margin-top: 0px;\n}\ninput[type=range].guify-range:focus::-webkit-slider-runnable-track {\n    background: ",";\n    outline: none;\n}\n\n/* Gecko */\ninput[type=range].guify-range::-moz-range-track {\n    width: 100%;\n    height: 20px;\n    cursor: ew-resize;\n    background: ",";\n}\ninput[type=range].guify-range:focus::-moz-range-track {\n    background: ",";\n}\ninput[type=range].guify-range::-moz-range-thumb {\n    height: 20px;\n    width: 10px;\n    background: ",";\n    cursor: ew-resize;\n}\n\n/* IE */\ninput[type=range].guify-range::-ms-track {\n    width: 100%;\n    height: 20px;\n    cursor: ew-resize;\n    background: transparent;\n    border-color: transparent;\n    color: transparent;\n}\ninput[type=range].guify-range::-ms-fill-lower {\n    background: ",";\n}\ninput[type=range].guify-range::-ms-fill-upper {\n    background: ",";\n}\ninput[type=range].guify-range:focus::-ms-fill-lower {\n    background: ",";\n}\ninput[type=range].guify-range:focus::-ms-fill-upper {\n    background: ",";\n}\ninput[type=range].guify-range::-ms-thumb {\n    width: 10px;\n    border-radius: 0px;\n    background: ",";\n    cursor: ew-resize;\n    height: 20px;\n}\ninput[type=range].guify-range:focus::-ms-fill-lower {\n    background: ",";\n    outline: none;\n}\ninput[type=range].guify-range:focus::-ms-fill-upper {\n    background: ",";\n    outline: none;\n}\n\n"],["\n\ninput[type=range].guify-range {\n    -webkit-appearance: none;\n    width: 100%;\n    margin: 0px 0;\n    display: inline-block;\n}\n\n/* Remove outlines since we'll be adding our own */\ninput[type=range].guify-range:focus {\n    outline: none;\n}\ninput[type=range].guify-range::-moz-focus-outer {\n    border: 0;\n}\n\n/* Webkit */\ninput[type=range].guify-range::-webkit-slider-runnable-track {\n    width: 100%;\n    height: 20px;\n    cursor: ew-resize;\n    background: ",";\n}\ninput[type=range].guify-range::-webkit-slider-thumb {\n    height: 20px;\n    width: 10px;\n    background: ",";\n    cursor: ew-resize;\n    -webkit-appearance: none;\n    margin-top: 0px;\n}\ninput[type=range].guify-range:focus::-webkit-slider-runnable-track {\n    background: ",";\n    outline: none;\n}\n\n/* Gecko */\ninput[type=range].guify-range::-moz-range-track {\n    width: 100%;\n    height: 20px;\n    cursor: ew-resize;\n    background: ",";\n}\ninput[type=range].guify-range:focus::-moz-range-track {\n    background: ",";\n}\ninput[type=range].guify-range::-moz-range-thumb {\n    height: 20px;\n    width: 10px;\n    background: ",";\n    cursor: ew-resize;\n}\n\n/* IE */\ninput[type=range].guify-range::-ms-track {\n    width: 100%;\n    height: 20px;\n    cursor: ew-resize;\n    background: transparent;\n    border-color: transparent;\n    color: transparent;\n}\ninput[type=range].guify-range::-ms-fill-lower {\n    background: ",";\n}\ninput[type=range].guify-range::-ms-fill-upper {\n    background: ",";\n}\ninput[type=range].guify-range:focus::-ms-fill-lower {\n    background: ",";\n}\ninput[type=range].guify-range:focus::-ms-fill-upper {\n    background: ",";\n}\ninput[type=range].guify-range::-ms-thumb {\n    width: 10px;\n    border-radius: 0px;\n    background: ",";\n    cursor: ew-resize;\n    height: 20px;\n}\ninput[type=range].guify-range:focus::-ms-fill-lower {\n    background: ",";\n    outline: none;\n}\ninput[type=range].guify-range:focus::-ms-fill-upper {\n    background: ",";\n    outline: none;\n}\n\n"]),r=n(2),i=function(e){return e&&e.__esModule?e:{default:e}}(r),a=n(3),s=i.default.theme.colors.background2,u=i.default.theme.colors.foreground1,l=i.default.theme.colors.background2hover;e.exports=a(o,s,u,l,s,i.default.theme.colors.background2hover,u,s,s,i.default.theme.colors.background2hover,i.default.theme.colors.background2hover,u,l,l)},function(e,t,n){"use strict";(function(t){function o(){var e=Array.prototype.slice.call(arguments),n=r.apply(null,e);return t.document&&i(r.getCss(n)),n}var r=n(33),i=n(13);e.exports=o}).call(t,n(10))},function(e,t,n){"use strict";var o=n(34);e.exports=o(),e.exports.csjs=o,e.exports.noScope=o({noscope:!0}),e.exports.getCss=n(12)},function(e,t,n){"use strict";e.exports=n(35)},function(e,t,n){"use strict";function o(e){return u(e)?e.selector:e}function r(e,t){return e.map(function(e,n){return n!==t.length?e+t[n]:e}).join("")}function i(e,t){return Object.keys(e).reduce(function(n,o){return t[o]||(n[o]=e[o]),n},{})}var a=n(36),s=n(7),u=s.isComposition,l=s.ignoreComposition,c=n(37),f=n(38),p=n(11),d=n(43);e.exports=function(e){e=void 0===e?{}:e;var t=void 0!==e.noscope&&e.noscope;return function(e,n){for(var n=Array(arguments.length-1),s=1;s<arguments.length;s++)n[s-1]=arguments[s];var u=r(e,n.map(o)),h=l(n),g=t?d(u):f(u,h),b=a(g.css),m=i(g.classes,h),y=i(g.keyframes,h),v=b.compositions,x=c(m,y,v);return Object.defineProperty(x,p,{enumerable:!1,configurable:!1,writeable:!1,value:b.css})}}},function(e,t,n){"use strict";function o(e){return e.split(",").map(r)}function r(e){var t=e.trim();return"."===t[0]?t.substr(1):t}var i=(n(7).makeComposition,/\.([^\s]+)(\s+)(extends\s+)(\.[^{]+)/g);e.exports=function(e){function t(e,t){var n=r(t[1]),i=t[3],a=t[4],s=t.index+t[1].length+t[2].length,u=i.length+a.length;return e.css=e.css.slice(0,s)+" "+e.css.slice(s+u+1),o(a).forEach(function(t){e.compositions[n]||(e.compositions[n]={}),e.compositions[t]||(e.compositions[t]={}),e.compositions[n][t]=e.compositions[t]}),e}for(var n,a=[];n=i.exec(e);)a.unshift(n);return a.reduce(t,{css:e,compositions:{}})}},function(e,t,n){"use strict";function o(e){function t(e){return Object.keys(e).forEach(function(r){n[r]||(n[r]=!0,o.push(r),t(e[r]))})}var n={},o=[];return t(e),o}var r=n(7).makeComposition;e.exports=function(e,t,n){var i=Object.keys(t).reduce(function(e,n){var o=t[n];return e[o]=r([n],[o],!0),e},{});return Object.keys(e).reduce(function(t,i){var a=e[i],s=n[i],u=s?o(s):[],l=[i].concat(u),c=l.map(function(t){return e[t]?e[t]:t});return t[a]=r(l,c),t},i)}},function(e,t,n){"use strict";function o(e,t){function n(e,n){function r(r,i,a){var s=t[a]?a:o(a);return e[n][s]=a,i+s}var i=a[n];return{css:e.css.replace(i,r),keyframes:e.keyframes,classes:e.classes}}var o=r(e),a={classes:s,keyframes:u},l=Object.keys(a).reduce(n,{css:e,keyframes:{},classes:{}});return i(l)}var r=n(39),i=n(42),a=n(8),s=a.classRegex,u=a.keyframesRegex;e.exports=o},function(e,t,n){"use strict";var o=n(40),r=n(41);e.exports=function(e){var t=o(r(e));return function(e){return e+"_"+t}}},function(e,t,n){"use strict";e.exports=function(e){if(0===e)return"0";for(var t="";e>0;)t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[e%62]+t,e=Math.floor(e/62);return t}},function(e,t,n){"use strict";e.exports=function(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return t>>>0}},function(e,t,n){function o(e){var t=Object.keys(e.keyframes).reduce(function(t,n){return t[e.keyframes[n]]=n,t},{}),n=Object.keys(t);if(n.length){var o="((?:animation|animation-name)\\s*:[^};]*)("+n.join("|")+")([;\\s])"+r,i=new RegExp(o,"g");return{css:e.css.replace(i,function(e,n,o,r){return n+t[o]+r}),keyframes:e.keyframes,classes:e.classes}}return e}var r=n(8).ignoreComments;e.exports=o},function(e,t,n){"use strict";function o(e){return{css:e,keyframes:r(e,s),classes:r(e,a)}}function r(e,t){for(var n,o={};null!==(n=t.exec(e));){var r=n[2];o[r]=r}return o}var i=n(8),a=i.classRegex,s=i.keyframesRegex;e.exports=o},function(e,t,n){"use strict";var o=n(11);e.exports=function(e){return e[o]}},function(e,t,n){"use strict";e.exports=n(12)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(4),u=o(s),l=n(0),c=(o(l),n(47)),f=function(e){function t(e,o,a,s){r(this,t);var u=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));u.opts=o;var l=n(1)(e,o.label,a);n(5)(l,"",a);var f=l.appendChild(document.createElement("button"));return f.className=c["guify-button"],f.textContent=o.label,f.addEventListener("click",o.action),f.addEventListener("mouseup",function(){f.blur()}),u}return a(t,e),t}(u.default);t.default=f,e.exports=t.default},function(e,t,n){"use strict";var o=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n\n.guify-button {\n    box-sizing: border-box !important;\n    color: ",";\n    background-color: ",";\n\n    position: absolue;\n    text-align: center;\n    height: 20px;\n    width: calc(100% - ",");\n    border: none;\n    cursor: pointer;\n    right: 0;\n    font-family: inherit;\n}\n\n\n.guify-button:focus {\n    outline:none;\n}\n.guify-button::-moz-focus-inner {\n    border:0;\n}\n\n.guify-button:hover,\n.guify-button:focus {\n    color: ",";\n    background-color: ",";\n}\n\n.guify-button:active {\n    color: "," !important;\n    background-color: "," !important;\n}\n\n"],["\n\n.guify-button {\n    box-sizing: border-box !important;\n    color: ",";\n    background-color: ",";\n\n    position: absolue;\n    text-align: center;\n    height: 20px;\n    width: calc(100% - ",");\n    border: none;\n    cursor: pointer;\n    right: 0;\n    font-family: inherit;\n}\n\n\n.guify-button:focus {\n    outline:none;\n}\n.guify-button::-moz-focus-inner {\n    border:0;\n}\n\n.guify-button:hover,\n.guify-button:focus {\n    color: ",";\n    background-color: ",";\n}\n\n.guify-button:active {\n    color: "," !important;\n    background-color: "," !important;\n}\n\n"]),r=n(2),i=function(e){return e&&e.__esModule?e:{default:e}}(r),a=n(3);e.exports=a(o,i.default.theme.colors.text2,i.default.theme.colors.background2,i.default.theme.sizing.labelWidth,i.default.theme.colors.text2,i.default.theme.colors.background2hover,i.default.theme.colors.background2,i.default.theme.colors.text2)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(4),l=o(u),c=n(0),f=(o(c),n(49)),p=function(e){function t(e,o,a,s){r(this,t);var u=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));u.opts=o;var l=n(1)(e,o.label,a);return n(5)(l,o.label,a),u.input=l.appendChild(document.createElement("input")),u.input.id="checkbox-"+o.label+s,u.input.type="checkbox",u.input.checked=o.initial,u.input.className=f["guify-checkbox"],o.label&&u.input.setAttribute("aria-label",o.label),l.appendChild(document.createElement("label")).htmlFor=u.input.id,setTimeout(function(){u.emit("initialized",u.input.checked)}),u.input.onchange=function(e){u.emit("input",e.target.checked)},u}return a(t,e),s(t,[{key:"SetValue",value:function(e){this.input.checked=e}},{key:"GetValue",value:function(){return this.input.checked}}]),t}(l.default);t.default=p,e.exports=t.default},function(e,t,n){"use strict";var o=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(['\n\ninput[type=checkbox].guify-checkbox {\n    appearance: none;\n    -moz-appearance: none;\n    -webkit-appearance: none;\n    margin: 0;\n    cursor: pointer;\n}\n\ninput[type=checkbox] + label {\n    margin: 0;\n}\n\ninput[type=checkbox].guify-checkbox + label:before {\n    content: "";\n    display: inline-block;\n    width: 18px;\n    height: 18px;\n    padding: 0px;\n    vertical-align: middle;\n    margin-right: 8px;\n    margin-top: 1px;\n    background-color: ',";\n    border-radius: 0px;\n    cursor: pointer;\n    box-sizing: content-box;\n    -moz-box-sizing: content-box;\n    -webkit-box-sizing: content-box;\n\n}\n\n/* Hover style */\ninput[type=checkbox].guify-checkbox:hover + label:before {\n    width: 10px;\n    height: 10px;\n    background-color: ",";\n    border: solid 4px ",";\n}\n\n/* Focus when checked */\ninput[type=checkbox]:checked.guify-checkbox:focus + label:before {\n    width: 10px;\n    height: 10px;\n    background-color: ",";\n    border: solid 4px ",";\n}\n\n/* Focus when unchecked */\ninput[type=checkbox].guify-checkbox:focus + label:before {\n    background-color: ",";\n}\n\n/* Checked style */\ninput[type=checkbox]:checked.guify-checkbox + label:before {\n    width: 10px;\n    height: 10px;\n    background-color: ",";\n    border: solid 4px ",";\n}\n\n"],['\n\ninput[type=checkbox].guify-checkbox {\n    appearance: none;\n    -moz-appearance: none;\n    -webkit-appearance: none;\n    margin: 0;\n    cursor: pointer;\n}\n\ninput[type=checkbox] + label {\n    margin: 0;\n}\n\ninput[type=checkbox].guify-checkbox + label:before {\n    content: "";\n    display: inline-block;\n    width: 18px;\n    height: 18px;\n    padding: 0px;\n    vertical-align: middle;\n    margin-right: 8px;\n    margin-top: 1px;\n    background-color: ',";\n    border-radius: 0px;\n    cursor: pointer;\n    box-sizing: content-box;\n    -moz-box-sizing: content-box;\n    -webkit-box-sizing: content-box;\n\n}\n\n/* Hover style */\ninput[type=checkbox].guify-checkbox:hover + label:before {\n    width: 10px;\n    height: 10px;\n    background-color: ",";\n    border: solid 4px ",";\n}\n\n/* Focus when checked */\ninput[type=checkbox]:checked.guify-checkbox:focus + label:before {\n    width: 10px;\n    height: 10px;\n    background-color: ",";\n    border: solid 4px ",";\n}\n\n/* Focus when unchecked */\ninput[type=checkbox].guify-checkbox:focus + label:before {\n    background-color: ",";\n}\n\n/* Checked style */\ninput[type=checkbox]:checked.guify-checkbox + label:before {\n    width: 10px;\n    height: 10px;\n    background-color: ",";\n    border: solid 4px ",";\n}\n\n"]),r=n(2),i=function(e){return e&&e.__esModule?e:{default:e}}(r),a=n(3);e.exports=a(o,i.default.theme.colors.background2,i.default.theme.colors.background2hover,i.default.theme.colors.background2,i.default.theme.colors.foreground1,i.default.theme.colors.background2hover,i.default.theme.colors.background2hover,i.default.theme.colors.foreground1,i.default.theme.colors.background2)},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(4),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l=n(51),c=function(e){function t(e,i,a,s){o(this,t);var u=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));u.opts=i;var c,f,p,d,h,g,b,m;if(f=n(1)(e,i.label,a),n(5)(f,i.label,a),u.input=document.createElement("select"),u.input.className=l["guify-select-dropdown"],i.label&&u.input.setAttribute("aria-label",i.label),p=document.createElement("span"),p.classList.add(l["guify-select-triangle"],l["guify-select-triangle--down"]),d=document.createElement("span"),d.classList.add(l["guify-select-triangle"],l["guify-select-triangle--up"]),f.appendChild(p),f.appendChild(d),Array.isArray(i.options))for(c=0;c<i.options.length;c++)g=i.options[c],b=document.createElement("option"),b.value=b.textContent=g,i.initial===g&&(b.selected="selected"),u.input.appendChild(b);else for(m=Object.keys(i.options),c=0;c<m.length;c++)h=m[c],b=document.createElement("option"),b.value=h,i.initial===h&&(b.selected="selected"),b.textContent=i.options[h],u.input.appendChild(b);return f.appendChild(u.input),u.input.onchange=function(e){u.emit("input",e.target.value)},u}return i(t,e),a(t,[{key:"SetValue",value:function(e){this.input.value=e}},{key:"GetValue",value:function(){return this.input.value}}]),t}(u.default);t.default=c,e.exports=t.default},function(e,t,n){"use strict";var o=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n\n.guify-select-dropdown {\n    display: inline-block;\n    position: absolute;\n    width: calc(100% - ",");\n    padding-left: 1.5%;\n    height: 20px;\n    border: none;\n    border-radius: 0;\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    -o-appearance:none;\n    appearance: none;\n    font-family: inherit;\n    background-color: ",";\n    color: ",";\n    box-sizing: border-box !important;\n    -moz-box-sizing: border-box !important;\n    -webkit-box-sizing: border-box !important;\n\n    &:focus {\n        outline: none;\n    }\n    &::-moz-focus-inner {\n        border: 0;\n    }\n}\n.guify-select-dropdown:focus,\n.guify-select-dropdown:hover {\n    background-color: ",";\n}\n.guify-select-dropdown::-ms-expand {\n    display:none;\n}\n.guify-select-triangle {\n    content: ' ';\n    border-right: 3px solid transparent;\n    border-left: 3px solid transparent;\n    line-height: 20px;\n    position: absolute;\n    right: 2.5%;\n    z-index: 1;\n}\n.guify-select-triangle--down {\n    top: 11px;\n    border-top: 5px solid ",";\n    border-bottom: 0px transparent;\n}\n.guify-select-triangle--up {\n    top: 4px;\n    border-bottom: 5px solid ",";\n    border-top: 0px transparent;\n}\n\n"],["\n\n.guify-select-dropdown {\n    display: inline-block;\n    position: absolute;\n    width: calc(100% - ",");\n    padding-left: 1.5%;\n    height: 20px;\n    border: none;\n    border-radius: 0;\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    -o-appearance:none;\n    appearance: none;\n    font-family: inherit;\n    background-color: ",";\n    color: ",";\n    box-sizing: border-box !important;\n    -moz-box-sizing: border-box !important;\n    -webkit-box-sizing: border-box !important;\n\n    &:focus {\n        outline: none;\n    }\n    &::-moz-focus-inner {\n        border: 0;\n    }\n}\n.guify-select-dropdown:focus,\n.guify-select-dropdown:hover {\n    background-color: ",";\n}\n.guify-select-dropdown::-ms-expand {\n    display:none;\n}\n.guify-select-triangle {\n    content: ' ';\n    border-right: 3px solid transparent;\n    border-left: 3px solid transparent;\n    line-height: 20px;\n    position: absolute;\n    right: 2.5%;\n    z-index: 1;\n}\n.guify-select-triangle--down {\n    top: 11px;\n    border-top: 5px solid ",";\n    border-bottom: 0px transparent;\n}\n.guify-select-triangle--up {\n    top: 4px;\n    border-bottom: 5px solid ",";\n    border-top: 0px transparent;\n}\n\n"]),r=n(2),i=function(e){return e&&e.__esModule?e:{default:e}}(r),a=n(3);e.exports=a(o,i.default.theme.sizing.labelWidth,i.default.theme.colors.background2,i.default.theme.colors.text2,i.default.theme.colors.background2hover,i.default.theme.colors.text2,i.default.theme.colors.text2)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(4),l=o(u),c=n(0),f=o(c),p=function(e){function t(e,o,a,s){r(this,t);var u=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));u.opts=o;var l=n(1)(e,o.label,a);return n(5)(l,o.label,a),u.input=l.appendChild(document.createElement("input")),u.input.type="text",u.input.className="guify-text",o.initial&&(u.input.value=o.initial),o.label&&u.input.setAttribute("aria-label",o.label),(0,f.default)(u.input,{position:"absolute",paddingLeft:"6px",height:"20px",width:"calc(100% - "+a.sizing.labelWidth+")",border:"none",background:a.colors.background2,color:a.colors.text2,fontFamily:"inherit","box-sizing":"border-box","-moz-box-sizing":"border-box","-webkit-box-sizing":"border-box",resize:"vertical"}),setTimeout(function(){u.emit("initialized",u.input.value)}),u.input.oninput=function(e){u.emit("input",e.target.value)},u.input.addEventListener("focus",function(){(0,f.default)(u.input,{outline:"none"}),u.focused=!0}),u.input.addEventListener("blur",function(){u.focused=!1}),u}return a(t,e),s(t,[{key:"SetValue",value:function(e){!0!==this.focused&&(this.input.value=e)}},{key:"GetValue",value:function(){return this.input.value}}]),t}(l.default);t.default=p,e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(4),l=o(u),c=n(54),f=o(c),p=n(0),d=o(p),h=n(15),g=o(h),b=n(13),m=o(b),y=function(e){function t(e,o,a,s){r(this,t);var u=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));u.opts=o,o.format=o.format||"rgb",o.initial=o.initial||"#123456";var l=n(1)(e,o.label,a);n(5)(l,o.label,a);var c=l.appendChild(document.createElement("span"));c.className="guify-color-"+s;var p=n(14)(l,"",a,"calc(100% - "+a.sizing.labelWidth+" - 12.5% - 0.75em)");c.onmouseover=function(){u.picker.$el.style.display=""};var h=o.initial;switch(o.format){case"rgb":case"hex":h=(0,g.default)(h).toHexString();break;case"array":h=g.default.fromRatio({r:h[0],g:h[1],b:h[2]}).toHexString()}return u.picker=new f.default({el:c,color:h,background:a.colors.background1,width:125,height:100}),(0,d.default)(u.picker.$el,{marginTop:"20px",display:"none",position:"absolute"}),(0,d.default)(c,{position:"relative",display:"inline-block",width:"12.5%",height:"20px",backgroundColor:u.picker.getHexString()}),u.InjectStyles(),c.onmouseout=function(e){u.picker.$el.style.display="none"},setTimeout(function(){u.emit("initialized",h)}),u.picker.onChange(function(e){p.innerHTML=u.Format(e),(0,d.default)(c,{backgroundColor:e}),u.emit("input",u.Format(e))}),u}return a(t,e),s(t,[{key:"Format",value:function(e){switch(this.opts.format){case"rgb":return(0,g.default)(e).toRgbString();case"hex":return(0,g.default)(e).toHexString();case"array":var t=(0,g.default)(e).toRgb();return[t.r/255,t.g/255,t.b/255].map(function(e){return e.toFixed(2)});default:return e}}},{key:"SetValue",value:function(e){this.picker.setColor(e)}},{key:"GetValue",value:function(){return this.Format(this.picker.getColor())}},{key:"InjectStyles",value:function(){(0,m.default)("\n\n        .Scp {\n            width: 125px;\n            height: 100px;\n            -webkit-user-select: none;\n            -moz-user-select: none;\n                -ms-user-select: none;\n                    user-select: none;\n            position: relative;\n            z-index: 1000;\n            cursor: pointer;\n        }\n        .Scp-saturation {\n            position: relative;\n            width: calc(100% - 25px);\n            height: 100%;\n            background: linear-gradient(to right, #fff 0%, #f00 100%);\n            float: left;\n            margin-right: 5px;\n        }\n        .Scp-brightness {\n            width: 100%;\n            height: 100%;\n            background: linear-gradient(to top, #000 0%, rgba(255,255,255,0) 100%);\n        }\n        .Scp-sbSelector {\n            border: 1px solid;\n            position: absolute;\n            width: 14px;\n            height: 14px;\n            background: #fff;\n            border-radius: 10px;\n            top: -7px;\n            left: -7px;\n            box-sizing: border-box;\n            z-index: 10;\n        }\n        .Scp-hue {\n            width: 20px;\n            height: 100%;\n            position: relative;\n            float: left;\n            background: linear-gradient(to bottom, #f00 0%, #f0f 17%, #00f 34%, #0ff 50%, #0f0 67%, #ff0 84%, #f00 100%);\n        }\n        .Scp-hSelector {\n            position: absolute;\n            background: #fff;\n            border-bottom: 1px solid #000;\n            right: -3px;\n            width: 10px;\n            height: 2px;\n        }\n\n        ")}}]),t}(l.default);t.default=y,e.exports=t.default},function(e,t,n){"use strict";!function(){function t(e){return e=e||{},this.color=null,this.width=0,this.widthUnits="px",this.height=0,this.heightUnits="px",this.hue=0,this.position={x:0,y:0},this.huePosition=0,this.saturationWidth=0,this.hueHeight=0,this.maxHue=0,this.inputIsNumber=!1,this._onSaturationMouseDown=this._onSaturationMouseDown.bind(this),this._onSaturationMouseMove=this._onSaturationMouseMove.bind(this),this._onSaturationMouseUp=this._onSaturationMouseUp.bind(this),this._onHueMouseDown=this._onHueMouseDown.bind(this),this._onHueMouseMove=this._onHueMouseMove.bind(this),this._onHueMouseUp=this._onHueMouseUp.bind(this),this.$el=document.createElement("div"),this.$el.className="Scp",this.$el.innerHTML=['<div class="Scp-saturation">','<div class="Scp-brightness"></div>','<div class="Scp-sbSelector"></div>',"</div>",'<div class="Scp-hue">','<div class="Scp-hSelector"></div>',"</div>"].join(""),this.$saturation=this.$el.querySelector(".Scp-saturation"),this.$hue=this.$el.querySelector(".Scp-hue"),this.$sbSelector=this.$el.querySelector(".Scp-sbSelector"),this.$hSelector=this.$el.querySelector(".Scp-hSelector"),this.$saturation.addEventListener("mousedown",this._onSaturationMouseDown),this.$saturation.addEventListener("touchstart",this._onSaturationMouseDown),this.$hue.addEventListener("mousedown",this._onHueMouseDown),this.$hue.addEventListener("touchstart",this._onHueMouseDown),e.el&&this.appendTo(e.el),e.background&&this.setBackgroundColor(e.background),e.widthUnits&&(this.widthUnits=e.widthUnits),e.heightUnits&&(this.heightUnits=e.heightUnits),this.setSize(e.width||175,e.height||150),this.setColor(e.color),this}function o(e,t,n){return Math.min(Math.max(e,t),n)}function r(e){return e=0===e.type.indexOf("touch")?e.touches[0]:e,{x:e.clientX,y:e.clientY}}function i(e){return e="#"+("00000"+(0|e).toString(16)).substr(-6)}var a=n(55),s=n(56),u=n(15),l=n(59);a(t.prototype),t.prototype.appendTo=function(e){return e.appendChild(this.$el),this},t.prototype.remove=function(){this._onSaturationMouseUp(),this._onHueMouseUp(),this.$saturation.removeEventListener("mousedown",this._onSaturationMouseDown),this.$saturation.removeEventListener("touchstart",this._onSaturationMouseDown),this.$hue.removeEventListener("mousedown",this._onHueMouseDown),this.$hue.removeEventListener("touchstart",this._onHueMouseDown),this.off(),this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el)},t.prototype.setColor=function(e){s(e)?(this.inputIsNumber=!0,e=i(e)):this.inputIsNumber=!1,this.color=u(e);var t=this.color.toHsv();return isNaN(t.h)||(this.hue=t.h),this._moveSelectorTo(this.saturationWidth*t.s,(1-t.v)*this.hueHeight),this._moveHueTo((1-this.hue/360)*this.hueHeight),this._updateHue(),this},t.prototype.setSize=function(e,t){return this.width=e,this.height=t,this.$el.style.width=this.width+this.widthUnits,this.$el.style.height=this.height+this.heightUnits,this.saturationWidth=this.width-25,this.$saturation.style.width=this.saturationWidth+"px",this.hueHeight=this.height,this.maxHue=this.hueHeight-2,this},t.prototype.setBackgroundColor=function(e){return s(e)&&(e=i(e)),this.$el.style.padding="5px",this.$el.style.background=u(e).toHexString(),this},t.prototype.setNoBackground=function(){this.$el.style.padding="0px",this.$el.style.background="none"},t.prototype.onChange=function(e){return this.on("update",e),this.emit("update",this.getHexString()),this},t.prototype.getColor=function(){return this.inputIsNumber?this.getHexNumber():this.color.toString()},t.prototype.getHexString=function(){return this.color.toHexString().toUpperCase()},t.prototype.getHexNumber=function(){return parseInt(this.color.toHex(),16)},t.prototype.getRGB=function(){return this.color.toRgb()},t.prototype.getHSV=function(){return this.color.toHsv()},t.prototype.isDark=function(){return this.color.isDark()},t.prototype.isLight=function(){return this.color.isLight()},t.prototype._moveSelectorTo=function(e,t){this.position.x=o(e,0,this.saturationWidth),this.position.y=o(t,0,this.hueHeight),l(this.$sbSelector,{x:this.position.x,y:this.position.y})},t.prototype._updateColorFromPosition=function(){this.color=u({h:this.hue,s:this.position.x/this.saturationWidth,v:1-this.position.y/this.hueHeight}),this._updateColor()},t.prototype._moveHueTo=function(e){this.huePosition=o(e,0,this.maxHue),l(this.$hSelector,{y:this.huePosition})},t.prototype._updateHueFromPosition=function(){var e=this.color.toHsv();this.hue=360*(1-this.huePosition/this.maxHue),this.color=u({h:this.hue,s:e.s,v:e.v}),this._updateHue()},t.prototype._updateHue=function(){var e=u({h:this.hue,s:1,v:1});this.$saturation.style.background="linear-gradient(to right, #fff, "+e.toHexString()+")",this._updateColor()},t.prototype._updateColor=function(){this.$sbSelector.style.background=this.color.toHexString(),this.$sbSelector.style.borderColor=this.color.isDark()?"#fff":"#000",this.emit("update",this.color.toHexString())},t.prototype._onSaturationMouseDown=function(e){var t=this.$saturation.getBoundingClientRect(),n=r(e).x,o=r(e).y;this._moveSelectorTo(n-t.left,o-t.top),this._updateColorFromPosition(),window.addEventListener("mouseup",this._onSaturationMouseUp),window.addEventListener("touchend",this._onSaturationMouseUp),window.addEventListener("mousemove",this._onSaturationMouseMove),window.addEventListener("touchmove",this._onSaturationMouseMove),e.preventDefault()},t.prototype._onSaturationMouseMove=function(e){var t=this.$saturation.getBoundingClientRect(),n=r(e).x,o=r(e).y;this._moveSelectorTo(n-t.left,o-t.top),this._updateColorFromPosition()},t.prototype._onSaturationMouseUp=function(){window.removeEventListener("mouseup",this._onSaturationMouseUp),window.removeEventListener("touchend",this._onSaturationMouseUp),window.removeEventListener("mousemove",this._onSaturationMouseMove),window.removeEventListener("touchmove",this._onSaturationMouseMove)},t.prototype._onHueMouseDown=function(e){var t=this.$hue.getBoundingClientRect(),n=r(e).y;this._moveHueTo(n-t.top),this._updateHueFromPosition(),window.addEventListener("mouseup",this._onHueMouseUp),window.addEventListener("touchend",this._onHueMouseUp),window.addEventListener("mousemove",this._onHueMouseMove),window.addEventListener("touchmove",this._onHueMouseMove),e.preventDefault()},t.prototype._onHueMouseMove=function(e){var t=this.$hue.getBoundingClientRect(),n=r(e).y;this._moveHueTo(n-t.top),this._updateHueFromPosition()},t.prototype._onHueMouseUp=function(){window.removeEventListener("mouseup",this._onHueMouseUp),window.removeEventListener("touchend",this._onHueMouseUp),window.removeEventListener("mousemove",this._onHueMouseMove),window.removeEventListener("touchmove",this._onHueMouseMove)},void 0!==e&&e.exports&&(e.exports=t)}()},function(e,t,n){function o(e){if(e)return r(e)}function r(e){for(var t in o.prototype)e[t]=o.prototype[t];return e}e.exports=o,o.prototype.on=o.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},o.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},o.prototype.off=o.prototype.removeListener=o.prototype.removeAllListeners=o.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var o,r=0;r<n.length;r++)if((o=n[r])===t||o.fn===t){n.splice(r,1);break}return this},o.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n){n=n.slice(0);for(var o=0,r=n.length;o<r;++o)n[o].apply(this,t)}return this},o.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},o.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){"use strict";/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */
var o=n(57);e.exports=function(e){var t=o(e);if("number"!==t&&"string"!==t)return!1;var n=+e;return n-n+1>=0&&""!==e}},function(e,t,n){var o=n(58),r=Object.prototype.toString;e.exports=function(e){if(void 0===e)return"undefined";if(null===e)return"null";if(!0===e||!1===e||e instanceof Boolean)return"boolean";if("string"==typeof e||e instanceof String)return"string";if("number"==typeof e||e instanceof Number)return"number";if("function"==typeof e||e instanceof Function)return"function";if(void 0!==Array.isArray&&Array.isArray(e))return"array";if(e instanceof RegExp)return"regexp";if(e instanceof Date)return"date";var t=r.call(e);return"[object RegExp]"===t?"regexp":"[object Date]"===t?"date":"[object Arguments]"===t?"arguments":"[object Error]"===t?"error":o(e)?"buffer":"[object Set]"===t?"set":"[object WeakSet]"===t?"weakset":"[object Map]"===t?"map":"[object WeakMap]"===t?"weakmap":"[object Symbol]"===t?"symbol":"[object Int8Array]"===t?"int8array":"[object Uint8Array]"===t?"uint8array":"[object Uint8ClampedArray]"===t?"uint8clampedarray":"[object Int16Array]"===t?"int16array":"[object Uint16Array]"===t?"uint16array":"[object Int32Array]"===t?"int32array":"[object Uint32Array]"===t?"uint32array":"[object Float32Array]"===t?"float32array":"[object Float64Array]"===t?"float64array":"object"}},function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function o(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(n(e)||o(e)||!!e._isBuffer)}},function(e,t,n){"use strict";function o(e,t){var n,o,r,i=[];s(t);for(n in t)d.call(t,n)&&(o=t[n],d.call(f.transform,n)?(r=f.transform[n],c(o)&&(o=o.join(r.separator)),i.push(n+"("+p(o,r.defaultUnit,r.separator)+")")):d.call(f,n)?(r=f[n],c(o)&&(o=o.join(r.separator)),e.style[l(n)]=p(o,r.defaultUnit,r.separator)):console.warn("dom-transform: this property (`"+n+"`) is not supported."));e.style[h]=i.join(" ")}function r(e,t){var n=e.style;if("string"==typeof t)return d.call(f.transform,t)?n[h]:n[l(t)];t||(t=u());var o={};return t.forEach(function(e){o[e]=n[l(e)]}),o}function i(e,t){var n=e.style;if("string"==typeof t)return void(n[l(t)]=null);t||(t=u()),t.forEach(function(e){n[l(e)]=null})}function a(){return h.length>0}function s(e){var t;for(t in e)d.call(g,t)&&(e[g[t]]=e[t],delete e[t])}function u(){return Object.keys(f).map(function(e){return e})}var l=n(60),c=n(61),f=n(62),p=n(63),d=Object.prototype.hasOwnProperty,h=l("transform"),g={x:"translateX",y:"translateY",z:"translateZ",origin:"transformOrigin"};t=e.exports=o,t.get=r,t.reset=i,t.isSupported=a},function(e,t){function n(e){if(e=e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()}),void 0!==i[e])return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=a.length;n--;){var o=a[n]+t;if(void 0!==i[o])return o}return e}function o(e){return e in u?u[e]:u[e]=n(e)}function r(e){return e=n(e),s.test(e)&&(e="-"+e.replace(s,"-$1"),s.lastIndex=0),e.toLowerCase()}var i="undefined"!=typeof document?document.createElement("p").style:{},a=["O","ms","Moz","Webkit"],s=/([A-Z])/g,u={};e.exports=o,e.exports.dash=r},function(e,t){var n=Array.isArray,o=Object.prototype.toString;e.exports=n||function(e){return!!e&&"[object Array]"==o.call(e)}},function(e,t,n){"use strict";e.exports={transform:{translate:{defaultUnit:"px"},translate3d:{defaultUnit:"px"},translateX:{defaultUnit:"px"},translateY:{defaultUnit:"px"},translateZ:{defaultUnit:"px"},scale:{defaultUnit:""},scale3d:{defaultUnit:""},scaleX:{defaultUnit:""},scaleY:{defaultUnit:""},scaleZ:{defaultUnit:""},rotate:{defaultUnit:"deg"},rotate3d:{defaultUnit:""},rotateX:{defaultUnit:"deg"},rotateY:{defaultUnit:"deg"},rotateZ:{defaultUnit:"deg"},skew:{defaultUnit:"deg"},skewX:{defaultUnit:"deg"},skewY:{defaultUnit:"deg"},perspective:{defaultUnit:"px"},matrix:{defaultUnit:""},matrix3d:{defaultUnit:""}},transformOrigin:{defaultUnit:"px",separator:" "}}},function(e,t,n){"use strict";var o=n(64),r=/^-?\d+(\.\d+)?$/;e.exports=function(e,t,n){if(n=n||",","number"==typeof e)return""+e+t;var i=new RegExp(n,"g");return e.split(i.test(e)?n:" ").map(function(e){return e=o(e),r.test(e)&&(e+=t),e}).join(n)}},function(e,t){function n(e){return e.replace(/^\s*|\s*$/g,"")}t=e.exports=n,t.left=function(e){return e.replace(/^\s*/,"")},t.right=function(e){return e.replace(/\s*$/,"")}},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(i),s=n(66),u=function(){function e(t,r,i,u){var l=this;o(this,e),this.opts=r;var c=n(1)(t,r.label,i);c.classList.add(s["guify-folder"]),c.setAttribute("role","button"),c.setAttribute("tabIndex","0"),(0,a.default)(c,{color:i.colors.text1}),this.arrow=c.appendChild(document.createElement("div")),this.arrow.innerHTML="&#9662;",(0,a.default)(this.arrow,{width:"5%"}),this.label=c.appendChild(document.createElement("div")),this.label.innerHTML=r.label,c.onclick=function(){l.Toggle()},c.addEventListener("keydown",function(e){13!==e.which&&32!==e.which||l.Toggle()}),this.folderContainer=t.appendChild(document.createElement("div")),this.folderContainer.classList.add(s["guify-folder-contents"]),this.open=this.opts.open||!1,this.SetOpen(this.open)}return r(e,[{key:"Toggle",value:function(){this.open=!this.open,this.SetOpen(this.open)}},{key:"SetOpen",value:function(e){this.open=e,e?(this.folderContainer.classList.remove(s["guify-folder-closed"]),this.arrow.innerHTML="&#9662;"):(this.folderContainer.classList.add(s["guify-folder-closed"]),this.arrow.innerHTML="&#9656;")}}]),e}();t.default=u,e.exports=t.default},function(e,t,n){"use strict";var o=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n\n.guify-folder {\n    cursor: pointer;\n    padding-left: 2px;\n}\n\n.guify-folder div {\n    display: inline-block;\n    vertical-align: sub;\n    line-height: 25px;\n}\n\n.guify-folder:hover,\n.guify-folder:focus {\n    background-color: ",";\n    outline: none;\n}\n\n\n.guify-folder-contents {\n    display: block;\n    box-sizing: border-box;\n    padding-left: 14px;\n    margin-bottom: 5px;\n}\n\n.guify-folder-contents.guify-folder-closed {\n    height: 0;\n    display: none;\n}\n\n\n"],["\n\n.guify-folder {\n    cursor: pointer;\n    padding-left: 2px;\n}\n\n.guify-folder div {\n    display: inline-block;\n    vertical-align: sub;\n    line-height: 25px;\n}\n\n.guify-folder:hover,\n.guify-folder:focus {\n    background-color: ",";\n    outline: none;\n}\n\n\n.guify-folder-contents {\n    display: block;\n    box-sizing: border-box;\n    padding-left: 14px;\n    margin-bottom: 5px;\n}\n\n.guify-folder-contents.guify-folder-closed {\n    height: 0;\n    display: none;\n}\n\n\n"]),r=n(2),i=function(e){return e&&e.__esModule?e:{default:e}}(r),a=n(3);e.exports=a(o,i.default.theme.colors.background2hover)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(4),l=o(u),c=n(0),f=o(c),p=n(68),d=function(e){function t(e,o,a,s){r(this,t);var u=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));u.opts=o,u.opts.fileReadFunc=u.opts.fileReadFunc||"readAsDataURL",u.file=null,u.fileName=null;var l=n(1)(e,o.label,a);l.classList.add(p["guify-file-container"]),l.setAttribute("role","button"),l.setAttribute("tabIndex","0"),(0,f.default)(l,{width:"100%","box-sizing":"border-box","-moz-box-sizing":"border-box","-webkit-box-sizing":"border-box",height:"unset",padding:"8px",color:a.colors.text1});var c=l.appendChild(document.createElement("div"));c.innerHTML=o.label,(0,f.default)(c,{"padding-bottom":"5px"});var d=l.appendChild(document.createElement("input"));d.setAttribute("type","file"),d.setAttribute("multiple",!1),d.style.display="none",o.label&&d.setAttribute("aria-label",o.label),u.fileLabel=l.appendChild(document.createElement("div")),u.fileLabel.innerHTML="Choose a file...";var h=function(e){var t;e.dataTransfer?t=e.dataTransfer.files:e.target&&(t=e.target.files);var n=(t[0],new FileReader);n.onload=function(){u.file=n.result,u.fileLabel.innerHTML=t[0].name,u.emit("input",u.file)},n[u.opts.fileReadFunc](t[0])};return d.addEventListener("change",h),l.addEventListener("dragover",function(e){e.preventDefault(),e.stopPropagation(),l.classList.add(p["guify-dragover"])}),l.addEventListener("dragleave",function(e){e.preventDefault(),e.stopPropagation(),l.classList.remove(p["guify-dragover"])}),l.addEventListener("drop",function(e){e.preventDefault(),e.stopPropagation(),l.classList.remove(p["guify-dragover"]),h(e)}),l.onclick=function(){d.click()},l.addEventListener("keydown",function(e){13!==e.which&&32!==e.which||d.click()}),u}return a(t,e),s(t,[{key:"SetValue",value:function(e){}},{key:"GetValue",value:function(){return this.file}}]),t}(l.default);t.default=d,e.exports=t.default},function(e,t,n){"use strict";var o=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n\n.guify-file-container {\n    display: inline-block;\n    outline: none;\n    padding-top: 8px;\n    padding-bottom: 8px;\n    background-color: ",";\n}\n\n.guify-file-container:hover,\n.guify-file-container:focus {\n    color: ",";\n    background-color: ",";\n}\n\n.guify-file-container:active {\n    color: "," !important;\n    background-color: "," !important;\n}\n\n.guify-dragover {\n    background-color: ",";\n    box-shadow: inset 0 0 0 3px ",";\n}\n\n\n"],["\n\n.guify-file-container {\n    display: inline-block;\n    outline: none;\n    padding-top: 8px;\n    padding-bottom: 8px;\n    background-color: ",";\n}\n\n.guify-file-container:hover,\n.guify-file-container:focus {\n    color: ",";\n    background-color: ",";\n}\n\n.guify-file-container:active {\n    color: "," !important;\n    background-color: "," !important;\n}\n\n.guify-dragover {\n    background-color: ",";\n    box-shadow: inset 0 0 0 3px ",";\n}\n\n\n"]),r=n(2),i=function(e){return e&&e.__esModule?e:{default:e}}(r),a=n(3);e.exports=a(o,i.default.theme.colors.background2,i.default.theme.colors.text2,i.default.theme.colors.background2hover,i.default.theme.colors.background2,i.default.theme.colors.text2,i.default.theme.colors.background2,i.default.theme.colors.background2hover)},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(i),s=function(){function e(t,r,i,s){o(this,e),this.opts=r;var u=n(1)(t,r.label,i);n(5)(u,r.label,i),this.text=u.appendChild(document.createElement("div")),(0,a.default)(this.text,{display:"inline-block",height:"unset",width:"calc(100% - "+i.sizing.labelWidth+")",border:"none",color:i.colors.text2,fontFamily:"inherit","box-sizing":"border-box","-moz-box-sizing":"border-box","-webkit-box-sizing":"border-box",verticalAlign:"sub","line-height":"20px","user-select":"text"}),r.label&&this.text.setAttribute("aria-label",r.label)}return r(e,[{key:"SetValue",value:function(e){this.text.innerHTML=e.toString()}},{key:"GetValue",value:function(){return this.text.innerHTML.toString()}}]),e}();t.default=s,e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.MenuBar=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(0),l=o(u),c=n(4),f=o(c);t.MenuBar=function(e){function t(e,o){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),s=n(71);if(a.element=document.createElement("div"),a.element.className=s["guify-bar"],e.appendChild(a.element),o.title){var u=a.element.appendChild(document.createElement("div"));u.className=s["guify-bar-title"],u.innerHTML=o.title,(0,l.default)(u,{color:o.theme.colors.text1})}var c=a.element.appendChild(document.createElement("button"));if(c.className=s["guify-bar-button"],c.innerHTML="Controls",(0,l.default)(c,{left:"left"==o.align?"8px":"unset",right:"left"==o.align?"unset":"8px"}),c.onclick=function(){a.emit("ontogglepanel")},"offset"==o.barMode){o.root.style.height=o.root.offsetHeight+a.element.offsetHeight+"px";var f=document.createElement("div");f.style.width="100%",f.style.height=a.element.offsetHeight,o.root.insertBefore(f,o.root.childNodes[0])}return a}return a(t,e),s(t,[{key:"SetVisible",value:function(e){this.element.style.display=e?"block":"none"}}]),t}(f.default)},function(e,t,n){"use strict";var o=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n\n.guify-bar {\n    background-color: ",";\n    height: ",";\n    width: 100%;\n    opacity: 1.0;\n    position: relative;\n    left: 0;\n    top: 0;\n    cursor: default;\n}\n\n.guify-bar-title {\n    text-align: center;\n    width: 100%;\n    position: absolute;\n    top: calc(("," - ",") / 2);\n    line-height: ",";\n    color: ",";\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n}\n\n.guify-bar-button {\n    text-align: center;\n    border: none;\n    cursor: pointer;\n    font-family: inherit;\n    height: ",";\n    position: absolute;\n    top: calc(("," - ",") / 2);\n    color: ",";\n    background-color: ",";\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n\n}\n\n.guify-bar-button:hover,\n.guify-bar-button:focus {\n    background-color: ",";\n}\n\n.guify-bar-button:active {\n    color: "," !important;\n    background-color: "," !important;\n}\n\n\n"],["\n\n.guify-bar {\n    background-color: ",";\n    height: ",";\n    width: 100%;\n    opacity: 1.0;\n    position: relative;\n    left: 0;\n    top: 0;\n    cursor: default;\n}\n\n.guify-bar-title {\n    text-align: center;\n    width: 100%;\n    position: absolute;\n    top: calc(("," - ",") / 2);\n    line-height: ",";\n    color: ",";\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n}\n\n.guify-bar-button {\n    text-align: center;\n    border: none;\n    cursor: pointer;\n    font-family: inherit;\n    height: ",";\n    position: absolute;\n    top: calc(("," - ",") / 2);\n    color: ",";\n    background-color: ",";\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n\n}\n\n.guify-bar-button:hover,\n.guify-bar-button:focus {\n    background-color: ",";\n}\n\n.guify-bar-button:active {\n    color: "," !important;\n    background-color: "," !important;\n}\n\n\n"]),r=n(2),i=function(e){return e&&e.__esModule?e:{default:e}}(r),a=n(3);e.exports=a(o,i.default.theme.colors.background1,i.default.theme.sizing.menuBarHeight,i.default.theme.sizing.menuBarHeight,i.default.theme.sizing.menuBarContentHeight,i.default.theme.sizing.menuBarContentHeight,i.default.theme.colors.text1,i.default.theme.sizing.menuBarContentHeight,i.default.theme.sizing.menuBarHeight,i.default.theme.sizing.menuBarContentHeight,i.default.theme.colors.text1,i.default.theme.colors.background2,i.default.theme.colors.background2hover,i.default.theme.colors.background2,i.default.theme.colors.text2)},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Panel=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(i);t.Panel=function(){function e(t,r){o(this,e),this.styles=n(73),this.element=t.appendChild(document.createElement("div")),this.element.className=this.styles["guify-panel"],(0,a.default)(this.element,{background:r.theme.colors.background1,width:r.width,opacity:r.opacity||1,left:"left"==r.align?"0px":"unset",right:"left"==r.align?"unset":"0px",transition:"height 0.3s ease, margin 0.3s ease"}),r.title&&"none"===r.barMode&&n(74)(this.element,r.title,r.theme)}return r(e,[{key:"SetVisible",value:function(e){e?this.element.classList.remove(this.styles["guify-panel-hidden"]):this.element.classList.add(this.styles["guify-panel-hidden"])}},{key:"ToggleVisible",value:function(){this.element.classList.contains(this.styles["guify-panel-hidden"])?this.SetVisible(!0):this.SetVisible(!1)}}]),e}()},function(e,t,n){"use strict";var o=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n\n.guify-panel {\n    position: absolute;\n    padding: 14px;\n    /* Last component will have a margin, so reduce padding to account for this */\n    padding-bottom: calc(14px - ",");\n\n    /* all: initial;  */\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    cursor: default;\n    text-align: left;\n    box-sizing: border-box;\n}\n\n.guify-panel.guify-panel-hidden {\n    height: 0px;\n    display: none;\n    /* transition: height 0.3s ease, padding-top 0.3s ease, padding-bottom 0.3s ease; */\n}\n\n.guify-panel * {\n    box-sizing: initial;\n    -webkit-box-sizing: initial;\n    -moz-box-sizing: initial;\n}\n\n.guify-panel * input {\n    font-family: 'Hack';\n    font-size: 11px;\n    display: inline;\n}\n\n.guify-panel * a {\n    color: inherit;\n    text-decoration: none;\n}\n\n"],["\n\n.guify-panel {\n    position: absolute;\n    padding: 14px;\n    /* Last component will have a margin, so reduce padding to account for this */\n    padding-bottom: calc(14px - ",");\n\n    /* all: initial;  */\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    cursor: default;\n    text-align: left;\n    box-sizing: border-box;\n}\n\n.guify-panel.guify-panel-hidden {\n    height: 0px;\n    display: none;\n    /* transition: height 0.3s ease, padding-top 0.3s ease, padding-bottom 0.3s ease; */\n}\n\n.guify-panel * {\n    box-sizing: initial;\n    -webkit-box-sizing: initial;\n    -moz-box-sizing: initial;\n}\n\n.guify-panel * input {\n    font-family: 'Hack';\n    font-size: 11px;\n    display: inline;\n}\n\n.guify-panel * a {\n    color: inherit;\n    text-decoration: none;\n}\n\n"]),r=n(2),i=function(e){return e&&e.__esModule?e:{default:e}}(r),a=n(3);e.exports=a(o,i.default.theme.sizing.componentSpacing)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var o=e.appendChild(document.createElement("div"));return o.innerHTML=t,(0,r.default)(o,{width:"100%",textAlign:"center",color:n.colors.text2,height:"20px",marginBottom:"4px"}),o};var o=n(0),r=function(e){return e&&e.__esModule?e:{default:e}}(o);e.exports=t.default},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.ToastArea=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(i);t.ToastArea=function(){function e(t,r){o(this,e),this.opts=r,this.styles=n(76),this.element=t.appendChild(document.createElement("div")),this.element.classList.add(this.styles["guify-toast-area"]),(0,a.default)(this.element,{position:"absolute",width:"100%"})}return r(e,[{key:"CreateToast",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;console.log("[Toast] "+e);var o=this.element.appendChild(document.createElement("div"));o.classList.add(this.styles["guify-toast-notification"]),o.setAttribute("aria-live","polite"),(0,a.default)(o,{"box-sizing":"border-box",color:this.opts.theme.colors.text1,position:"relative",width:"100%",padding:"8px","padding-left":"20px","padding-right":"20px","text-align":"center","font-family":"Hack', monospace","font-size":"11px"}),o.innerHTML=e;var r=o.appendChild(document.createElement("button"));r.innerHTML="&#10006;",(0,a.default)(r,{background:"rgba(0, 0, 0, 0)",color:this.opts.theme.colors.text1,position:"absolute",textAlign:"center","margin-top":"auto","margin-bottom":"auto",border:"none",cursor:"pointer",fontFamily:"inherit",top:"0",bottom:"0",right:"8px"});var i=void 0,s=function(){(0,a.default)(o,{"-webkit-transition":"-webkit-opacity "+n+"ms linear",transition:"opacity "+n+"ms linear",opacity:"0"}),clearTimeout(i),i=setTimeout(function(){o&&o.parentNode.removeChild(o)},n)};i=setTimeout(s,t),r.onclick=s}}]),e}()},function(e,t,n){"use strict";var o=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n\n.guify-toast-area .guify-toast-notification:nth-child(odd) {\n    background-color: ",";\n}\n\n.guify-toast-area .guify-toast-notification:nth-child(even) {\n    background-color: ",";\n}\n\n"],["\n\n.guify-toast-area .guify-toast-notification:nth-child(odd) {\n    background-color: ",";\n}\n\n.guify-toast-area .guify-toast-notification:nth-child(even) {\n    background-color: ",";\n}\n\n"]),r=n(2),i=function(e){return e&&e.__esModule?e:{default:e}}(r),a=n(3);e.exports=a(o,i.default.theme.colors.background2,i.default.theme.colors.background1)},function(e,t,n){"use strict";var o=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n\n.guify-container {\n    position: absolute;\n    left: 0;\n    width: 100%;\n    font-size: 11px;\n}\n\n"],["\n\n.guify-container {\n    position: absolute;\n    left: 0;\n    width: 100%;\n    font-size: 11px;\n}\n\n"]),r=n(2),i=(function(e){e&&e.__esModule}(r),n(3));e.exports=i(o)}])});
},{}],16:[function(require,module,exports){
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.MidiConvert=e():t.MidiConvert=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(7),i=n(2),a={instrumentByPatchID:i.instrumentByPatchID,instrumentFamilyByID:i.instrumentFamilyByID,parse:function(t){return(new r.Midi).decode(t)},load:function(t,e){var n=(new r.Midi).load(t);return e&&n.then(e),n},create:function(){return new r.Midi}};e["default"]=a,t.exports=a},function(t,e){"use strict";function n(t){return t.replace(/\u0000/g,"")}function r(t,e){return 60/e.bpm*(t/e.PPQ)}function i(t){return"number"==typeof t}function a(t){return"string"==typeof t}function o(t){var e=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],n=Math.floor(t/12)-1,r=t%12;return e[r]+n}var s=function(){var t=/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i;return function(e){return a(e)&&t.test(e)}}(),u=function(){var t=/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,e={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13};return function(n){var r=t.exec(n),i=r[1],a=r[2],o=e[i.toLowerCase()];return o+12*(parseInt(a)+1)}}();t.exports={cleanName:n,ticksToSeconds:r,isString:a,isNumber:i,isPitch:s,midiToPitch:o,pitchToMidi:u}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.instrumentByPatchID=["acoustic grand piano","bright acoustic piano","electric grand piano","honky-tonk piano","electric piano 1","electric piano 2","harpsichord","clavi","celesta","glockenspiel","music box","vibraphone","marimba","xylophone","tubular bells","dulcimer","drawbar organ","percussive organ","rock organ","church organ","reed organ","accordion","harmonica","tango accordion","acoustic guitar (nylon)","acoustic guitar (steel)","electric guitar (jazz)","electric guitar (clean)","electric guitar (muted)","overdriven guitar","distortion guitar","guitar harmonics","acoustic bass","electric bass (finger)","electric bass (pick)","fretless bass","slap bass 1","slap bass 2","synth bass 1","synth bass 2","violin","viola","cello","contrabass","tremolo strings","pizzicato strings","orchestral harp","timpani","string ensemble 1","string ensemble 2","synthstrings 1","synthstrings 2","choir aahs","voice oohs","synth voice","orchestra hit","trumpet","trombone","tuba","muted trumpet","french horn","brass section","synthbrass 1","synthbrass 2","soprano sax","alto sax","tenor sax","baritone sax","oboe","english horn","bassoon","clarinet","piccolo","flute","recorder","pan flute","blown bottle","shakuhachi","whistle","ocarina","lead 1 (square)","lead 2 (sawtooth)","lead 3 (calliope)","lead 4 (chiff)","lead 5 (charang)","lead 6 (voice)","lead 7 (fifths)","lead 8 (bass + lead)","pad 1 (new age)","pad 2 (warm)","pad 3 (polysynth)","pad 4 (choir)","pad 5 (bowed)","pad 6 (metallic)","pad 7 (halo)","pad 8 (sweep)","fx 1 (rain)","fx 2 (soundtrack)","fx 3 (crystal)","fx 4 (atmosphere)","fx 5 (brightness)","fx 6 (goblins)","fx 7 (echoes)","fx 8 (sci-fi)","sitar","banjo","shamisen","koto","kalimba","bag pipe","fiddle","shanai","tinkle bell","agogo","steel drums","woodblock","taiko drum","melodic tom","synth drum","reverse cymbal","guitar fret noise","breath noise","seashore","bird tweet","telephone ring","helicopter","applause","gunshot"],e.instrumentFamilyByID=["piano","chromatic percussion","organ","guitar","bass","strings","ensemble","brass","reed","pipe","synth lead","synth pad","synth effects","ethnic","percussive","sound effects"]},function(t,e){"use strict";function n(t,e){var n=0,r=t.length,i=r;if(r>0&&t[r-1].time<=e)return r-1;for(;i>n;){var a=Math.floor(n+(i-n)/2),o=t[a],s=t[a+1];if(o.time===e){for(var u=a;u<t.length;u++){var c=t[u];c.time===e&&(a=u)}return a}if(o.time<e&&s.time>e)return a;o.time>e?i=a:o.time<e&&(n=a+1)}return-1}function r(t,e){if(t.length){var r=n(t,e.time);t.splice(r+1,0,e)}else t.push(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.BinaryInsert=r},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i={1:"modulationWheel",2:"breath",4:"footController",5:"portamentoTime",7:"volume",8:"balance",10:"pan",64:"sustain",65:"portamentoTime",66:"sostenuto",67:"softPedal",68:"legatoFootswitch",84:"portamentoContro"},a=function(){function t(e,r,i){n(this,t),this.number=e,this.time=r,this.value=i}return r(t,[{key:"name",get:function(){return i.hasOwnProperty(this.number)?i[this.number]:void 0}}]),t}();e.Control=a},function(t,e){"use strict";function n(t){for(var e={PPQ:t.header.ticksPerBeat},n=0;n<t.tracks.length;n++)for(var r=t.tracks[n],i=0;i<r.length;i++){var a=r[i];"meta"===a.type&&("timeSignature"===a.subtype?e.timeSignature=[a.numerator,a.denominator]:"setTempo"===a.subtype&&(e.bpm||(e.bpm=6e7/a.microsecondsPerBeat)))}return e.bpm=e.bpm||120,e}Object.defineProperty(e,"__esModule",{value:!0}),e.parseHeader=n},function(t,e){"use strict";function n(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=e[n];if(r.length>i)return!0}return!1}function r(t,e,n){for(var r=0,i=1/0,a=0;a<t.length;a++){var o=t[a],s=e[a];o[s]&&o[s].time<i&&(r=a,i=o[s].time)}n[r](t[r][e[r]]),e[r]+=1}function i(){for(var t=arguments.length,e=Array(t),i=0;t>i;i++)e[i]=arguments[i];for(var a=e.filter(function(t,e){return e%2===0}),o=new Uint32Array(a.length),s=e.filter(function(t,e){return e%2===1});n(a,o);)r(a,o,s)}Object.defineProperty(e,"__esModule",{value:!0}),e.Merge=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Midi=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(11),s=r(o),u=n(10),c=r(u),h=n(1),f=r(h),d=n(9),l=n(5),p=function(){function t(){i(this,t),this.header={bpm:120,timeSignature:[4,4],PPQ:480},this.tracks=[]}return a(t,[{key:"load",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET";return new Promise(function(i,a){var o=new XMLHttpRequest;o.open(r,t),o.responseType="arraybuffer",o.addEventListener("load",function(){4===o.readyState&&200===o.status?i(e.decode(o.response)):a(o.status)}),o.addEventListener("error",a),o.send(n)})}},{key:"decode",value:function(t){var e=this;if(t instanceof ArrayBuffer){var n=new Uint8Array(t);t=String.fromCharCode.apply(null,n)}var r=(0,s["default"])(t);return this.header=(0,l.parseHeader)(r),this.tracks=[],r.tracks.forEach(function(t){var n=new d.Track;e.tracks.push(n);var r=0;t.forEach(function(t){r+=f["default"].ticksToSeconds(t.deltaTime,e.header),"meta"===t.type&&"trackName"===t.subtype?n.name=f["default"].cleanName(t.text):"noteOn"===t.subtype?n.noteOn(t.noteNumber,r,t.velocity/127):"noteOff"===t.subtype?n.noteOff(t.noteNumber,r):"controller"===t.subtype&&t.controllerType?n.cc(t.controllerType,r,t.value/127):"meta"===t.type&&"instrumentName"===t.subtype?n.instrument=t.text:"channel"===t.type&&"programChange"===t.subtype&&n.patch(t.programNumber)})}),this}},{key:"encode",value:function(){var t=this,e=new c["default"].File({ticks:this.header.PPQ});return this.tracks.forEach(function(n,r){var i=e.addTrack();i.setTempo(t.bpm),n.encode(i,t.header)}),e.toBytes()}},{key:"toArray",value:function(){for(var t=this.encode(),e=new Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}},{key:"track",value:function e(t){var e=new d.Track(t);return this.tracks.push(e),e}},{key:"get",value:function(t){return f["default"].isNumber(t)?this.tracks[t]:this.tracks.find(function(e){return e.name===t})}},{key:"slice",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.duration,r=new t;return r.header=this.header,r.tracks=this.tracks.map(function(t){return t.slice(e,n)}),r}},{key:"startTime",get:function(){var t=this.tracks.map(function(t){return t.startTime});return Math.min.apply(Math,t)}},{key:"bpm",get:function(){return this.header.bpm},set:function(t){var e=this.header.bpm;this.header.bpm=t;var n=e/t;this.tracks.forEach(function(t){return t.scale(n)})}},{key:"timeSignature",get:function(){return this.header.timeSignature},set:function(t){this.header.timeSignature=timeSignature}},{key:"duration",get:function(){var t=this.tracks.map(function(t){return t.duration});return Math.max.apply(Math,t)}}]),t}();e.Midi=p},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Note=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(1),s=r(o),u=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(i(this,t),this.midi,s["default"].isNumber(e))this.midi=e;else{if(!s["default"].isPitch(e))throw new Error("the midi value must either be in Pitch Notation (e.g. C#4) or a midi value");this.name=e}this.time=n,this.duration=r,this.velocity=a}return a(t,[{key:"match",value:function(t){return s["default"].isNumber(t)?this.midi===t:s["default"].isPitch(t)?this.name.toLowerCase()===t.toLowerCase():void 0}},{key:"toJSON",value:function(){return{name:this.name,midi:this.midi,time:this.time,velocity:this.velocity,duration:this.duration}}},{key:"name",get:function(){return s["default"].midiToPitch(this.midi)},set:function(t){this.midi=s["default"].pitchToMidi(t)}},{key:"noteOn",get:function(){return this.time},set:function(t){this.time=t}},{key:"noteOff",get:function(){return this.time+this.duration},set:function(t){this.duration=t-this.time}}]),t}();e.Note=u},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Track=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(3),o=n(4),s=n(6),u=n(8),c=n(2),h=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;r(this,t),this.name=e,this.notes=[],this.controlChanges={},this.instrumentNumber=n}return i(t,[{key:"note",value:function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,e=new u.Note(t,n,r,i);return(0,a.BinaryInsert)(this.notes,e),this}},{key:"noteOn",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=new u.Note(t,e,0,n);return(0,a.BinaryInsert)(this.notes,r),this}},{key:"noteOff",value:function(t,e){for(var n=0;n<this.notes.length;n++){var r=this.notes[n];if(r.match(t)&&0===r.duration){r.noteOff=e;break}}return this}},{key:"cc",value:function n(t,e,r){this.controlChanges.hasOwnProperty(t)||(this.controlChanges[t]=[]);var n=new o.Control(t,e,r);return(0,a.BinaryInsert)(this.controlChanges[t],n),this}},{key:"patch",value:function(t){return this.instrumentNumber=t,this}},{key:"scale",value:function(t){return this.notes.forEach(function(e){e.time*=t,e.duration*=t}),this}},{key:"slice",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.duration,r=Math.max(this.notes.findIndex(function(t){return t.time>=e}),0),i=this.notes.findIndex(function(t){return t.noteOff>=n})+1,a=new t(this.name);return a.notes=this.notes.slice(r,i),a.notes.forEach(function(t){return t.time=t.time-e}),a}},{key:"encode",value:function(t,e){function n(t){var e=Math.floor(r*t),n=Math.max(e-i,0);return i=e,n}var r=e.PPQ/(60/e.bpm),i=0,a=0;-1!==this.instrumentNumber&&t.instrument(a,this.instrumentNumber),(0,s.Merge)(this.noteOns,function(e){t.addNoteOn(a,e.name,n(e.time),Math.floor(127*e.velocity))},this.noteOffs,function(e){t.addNoteOff(a,e.name,n(e.time))})}},{key:"noteOns",get:function(){var t=[];return this.notes.forEach(function(e){t.push({time:e.noteOn,midi:e.midi,name:e.name,velocity:e.velocity})}),t}},{key:"noteOffs",get:function(){var t=[];return this.notes.forEach(function(e){t.push({time:e.noteOff,midi:e.midi,name:e.name})}),t}},{key:"length",get:function(){return this.notes.length}},{key:"startTime",get:function(){if(this.notes.length){var t=this.notes[0];return t.noteOn}return 0}},{key:"duration",get:function(){if(this.notes.length){var t=this.notes[this.notes.length-1];return t.noteOff}return 0}},{key:"instrument",get:function(){return c.instrumentByPatchID[this.instrumentNumber]},set:function(t){var e=c.instrumentByPatchID.indexOf(t);-1!==e&&(this.instrumentNumber=e)}},{key:"instrumentFamily",get:function(){return c.instrumentFamilyByID[Math.floor(this.instrumentNumber/8)]}}]),t}();e.Track=h},function(t,e,n){(function(t){var n={};!function(t){var e=t.DEFAULT_VOLUME=90,n=(t.DEFAULT_DURATION=128,t.DEFAULT_CHANNEL=0,{midi_letter_pitches:{a:21,b:23,c:12,d:14,e:16,f:17,g:19},midiPitchFromNote:function(t){var e=/([a-g])(#+|b+)?([0-9]+)$/i.exec(t),r=e[1].toLowerCase(),i=e[2]||"",a=parseInt(e[3],10);return 12*a+n.midi_letter_pitches[r]+("#"==i.substr(0,1)?1:-1)*i.length},ensureMidiPitch:function(t){return"number"!=typeof t&&/[^0-9]/.test(t)?n.midiPitchFromNote(t):parseInt(t,10)},midi_pitches_letter:{12:"c",13:"c#",14:"d",15:"d#",16:"e",17:"f",18:"f#",19:"g",20:"g#",21:"a",22:"a#",23:"b"},midi_flattened_notes:{"a#":"bb","c#":"db","d#":"eb","f#":"gb","g#":"ab"},noteFromMidiPitch:function(t,e){var r,i=0,a=t,e=e||!1;return t>23&&(i=Math.floor(t/12)-1,a=t-12*i),r=n.midi_pitches_letter[a],e&&r.indexOf("#")>0&&(r=n.midi_flattened_notes[r]),r+i},mpqnFromBpm:function(t){var e=Math.floor(6e7/t),n=[];do n.unshift(255&e),e>>=8;while(e);for(;n.length<3;)n.push(0);return n},bpmFromMpqn:function(t){var e=t;if("undefined"!=typeof t[0]){e=0;for(var n=0,r=t.length-1;r>=0;++n,--r)e|=t[n]<<r}return Math.floor(6e7/t)},codes2Str:function(t){return String.fromCharCode.apply(null,t)},str2Bytes:function(t,e){if(e)for(;t.length/2<e;)t="0"+t;for(var n=[],r=t.length-1;r>=0;r-=2){var i=0===r?t[r]:t[r-1]+t[r];n.unshift(parseInt(i,16))}return n},translateTickTime:function(t){for(var e=127&t;t>>=7;)e<<=8,e|=127&t|128;for(var n=[];;){if(n.push(255&e),!(128&e))break;e>>=8}return n}}),r=function(t){return this?void(!t||null===t.type&&void 0===t.type||null===t.channel&&void 0===t.channel||null===t.param1&&void 0===t.param1||(this.setTime(t.time),this.setType(t.type),this.setChannel(t.channel),this.setParam1(t.param1),this.setParam2(t.param2))):new r(t)};r.NOTE_OFF=128,r.NOTE_ON=144,r.AFTER_TOUCH=160,r.CONTROLLER=176,r.PROGRAM_CHANGE=192,r.CHANNEL_AFTERTOUCH=208,r.PITCH_BEND=224,r.prototype.setTime=function(t){this.time=n.translateTickTime(t||0)},r.prototype.setType=function(t){if(t<r.NOTE_OFF||t>r.PITCH_BEND)throw new Error("Trying to set an unknown event: "+t);this.type=t},r.prototype.setChannel=function(t){if(0>t||t>15)throw new Error("Channel is out of bounds.");this.channel=t},r.prototype.setParam1=function(t){this.param1=t},r.prototype.setParam2=function(t){this.param2=t},r.prototype.toBytes=function(){var t=[],e=this.type|15&this.channel;return t.push.apply(t,this.time),t.push(e),t.push(this.param1),void 0!==this.param2&&null!==this.param2&&t.push(this.param2),t};var i=function(t){if(!this)return new i(t);this.setTime(t.time),this.setType(t.type),this.setData(t.data)};i.SEQUENCE=0,i.TEXT=1,i.COPYRIGHT=2,i.TRACK_NAME=3,i.INSTRUMENT=4,i.LYRIC=5,i.MARKER=6,i.CUE_POINT=7,i.CHANNEL_PREFIX=32,i.END_OF_TRACK=47,i.TEMPO=81,i.SMPTE=84,i.TIME_SIG=88,i.KEY_SIG=89,i.SEQ_EVENT=127,i.prototype.setTime=function(t){this.time=n.translateTickTime(t||0)},i.prototype.setType=function(t){this.type=t},i.prototype.setData=function(t){this.data=t},i.prototype.toBytes=function(){if(!this.type)throw new Error("Type for meta-event not specified.");var t=[];if(t.push.apply(t,this.time),t.push(255,this.type),Array.isArray(this.data))t.push(this.data.length),t.push.apply(t,this.data);else if("number"==typeof this.data)t.push(1,this.data);else if(null!==this.data&&void 0!==this.data){t.push(this.data.length);var e=this.data.split("").map(function(t){return t.charCodeAt(0)});t.push.apply(t,e)}else t.push(0);return t};var a=function(t){if(!this)return new a(t);var e=t||{};this.events=e.events||[]};a.START_BYTES=[77,84,114,107],a.END_BYTES=[0,255,47,0],a.prototype.addEvent=function(t){return this.events.push(t),this},a.prototype.addNoteOn=a.prototype.noteOn=function(t,i,a,o){return this.events.push(new r({type:r.NOTE_ON,channel:t,param1:n.ensureMidiPitch(i),param2:o||e,time:a||0})),this},a.prototype.addNoteOff=a.prototype.noteOff=function(t,i,a,o){return this.events.push(new r({type:r.NOTE_OFF,channel:t,param1:n.ensureMidiPitch(i),param2:o||e,time:a||0})),this},a.prototype.addNote=a.prototype.note=function(t,e,n,r,i){return this.noteOn(t,e,r,i),n&&this.noteOff(t,e,n,i),this},a.prototype.addChord=a.prototype.chord=function(t,e,n,r){if(!Array.isArray(e)&&!e.length)throw new Error("Chord must be an array of pitches");return e.forEach(function(e){this.noteOn(t,e,0,r)},this),e.forEach(function(e,r){0===r?this.noteOff(t,e,n):this.noteOff(t,e)},this),this},a.prototype.setInstrument=a.prototype.instrument=function(t,e,n){return this.events.push(new r({type:r.PROGRAM_CHANGE,channel:t,param1:e,time:n||0})),this},a.prototype.setTempo=a.prototype.tempo=function(t,e){return this.events.push(new i({type:i.TEMPO,data:n.mpqnFromBpm(t),time:e||0})),this},a.prototype.toBytes=function(){var t=0,e=[],r=a.START_BYTES,i=a.END_BYTES,o=function(n){var r=n.toBytes();t+=r.length,e.push.apply(e,r)};this.events.forEach(o),t+=i.length;var s=n.str2Bytes(t.toString(16),4);return r.concat(s,e,i)};var o=function(t){if(!this)return new o(t);var e=t||{};if(e.ticks){if("number"!=typeof e.ticks)throw new Error("Ticks per beat must be a number!");if(e.ticks<=0||e.ticks>=32768||e.ticks%1!==0)throw new Error("Ticks per beat must be an integer between 1 and 32767!")}this.ticks=e.ticks||128,this.tracks=e.tracks||[]};o.HDR_CHUNKID="MThd",o.HDR_CHUNK_SIZE="\x00\x00\x00",o.HDR_TYPE0="\x00\x00",o.HDR_TYPE1="\x00",o.prototype.addTrack=function(t){return t?(this.tracks.push(t),this):(t=new a,this.tracks.push(t),t)},o.prototype.toBytes=function(){var t=this.tracks.length.toString(16),e=o.HDR_CHUNKID+o.HDR_CHUNK_SIZE;return e+=parseInt(t,16)>1?o.HDR_TYPE1:o.HDR_TYPE0,e+=n.codes2Str(n.str2Bytes(t,2)),e+=String.fromCharCode(this.ticks/256,this.ticks%256),this.tracks.forEach(function(t){e+=n.codes2Str(t.toBytes())}),e},t.Util=n,t.File=o,t.Track=a,t.Event=r,t.MetaEvent=i}(n),"undefined"!=typeof t&&null!==t?t.exports=n:"undefined"!=typeof e&&null!==e?e=n:this.Midi=n}).call(e,n(12)(t))},function(t,e){function n(t){function e(t){var e=t.read(4),n=t.readInt32();return{id:e,length:n,data:t.read(n)}}function n(t){var e={};e.deltaTime=t.readVarInt();var n=t.readInt8();if(240==(240&n)){if(255==n){e.type="meta";var r=t.readInt8(),a=t.readVarInt();switch(r){case 0:if(e.subtype="sequenceNumber",2!=a)throw"Expected length for sequenceNumber event is 2, got "+a;return e.number=t.readInt16(),e;case 1:return e.subtype="text",e.text=t.read(a),e;case 2:return e.subtype="copyrightNotice",e.text=t.read(a),e;case 3:return e.subtype="trackName",e.text=t.read(a),e;case 4:return e.subtype="instrumentName",e.text=t.read(a),e;case 5:return e.subtype="lyrics",e.text=t.read(a),e;case 6:return e.subtype="marker",e.text=t.read(a),e;case 7:return e.subtype="cuePoint",e.text=t.read(a),e;case 32:if(e.subtype="midiChannelPrefix",1!=a)throw"Expected length for midiChannelPrefix event is 1, got "+a;return e.channel=t.readInt8(),e;case 47:if(e.subtype="endOfTrack",0!=a)throw"Expected length for endOfTrack event is 0, got "+a;return e;case 81:if(e.subtype="setTempo",3!=a)throw"Expected length for setTempo event is 3, got "+a;return e.microsecondsPerBeat=(t.readInt8()<<16)+(t.readInt8()<<8)+t.readInt8(),e;case 84:if(e.subtype="smpteOffset",5!=a)throw"Expected length for smpteOffset event is 5, got "+a;var o=t.readInt8();return e.frameRate={0:24,32:25,64:29,96:30}[96&o],e.hour=31&o,e.min=t.readInt8(),e.sec=t.readInt8(),e.frame=t.readInt8(),e.subframe=t.readInt8(),e;case 88:if(e.subtype="timeSignature",4!=a)throw"Expected length for timeSignature event is 4, got "+a;return e.numerator=t.readInt8(),e.denominator=Math.pow(2,t.readInt8()),e.metronome=t.readInt8(),e.thirtyseconds=t.readInt8(),e;case 89:if(e.subtype="keySignature",2!=a)throw"Expected length for keySignature event is 2, got "+a;return e.key=t.readInt8(!0),e.scale=t.readInt8(),e;case 127:return e.subtype="sequencerSpecific",e.data=t.read(a),e;default:return e.subtype="unknown",e.data=t.read(a),e}return e.data=t.read(a),e}if(240==n){e.type="sysEx";var a=t.readVarInt();return e.data=t.read(a),e}if(247==n){e.type="dividedSysEx";var a=t.readVarInt();return e.data=t.read(a),e}throw"Unrecognised MIDI event type byte: "+n}var s;0==(128&n)?(s=n,n=i):(s=t.readInt8(),i=n);var u=n>>4;switch(e.channel=15&n,e.type="channel",u){case 8:return e.subtype="noteOff",e.noteNumber=s,e.velocity=t.readInt8(),e;case 9:return e.noteNumber=s,e.velocity=t.readInt8(),0==e.velocity?e.subtype="noteOff":e.subtype="noteOn",e;case 10:return e.subtype="noteAftertouch",e.noteNumber=s,e.amount=t.readInt8(),e;case 11:return e.subtype="controller",e.controllerType=s,e.value=t.readInt8(),e;case 12:return e.subtype="programChange",e.programNumber=s,e;case 13:return e.subtype="channelAftertouch",e.amount=s,e;case 14:return e.subtype="pitchBend",e.value=s+(t.readInt8()<<7),e;default:throw"Unrecognised MIDI event type: "+u}}var i;stream=r(t);var a=e(stream);if("MThd"!=a.id||6!=a.length)throw"Bad .mid file - header not found";var o=r(a.data),s=o.readInt16(),u=o.readInt16(),c=o.readInt16();if(32768&c)throw"Expressing time division in SMTPE frames is not supported yet";ticksPerBeat=c;for(var h={formatType:s,trackCount:u,ticksPerBeat:ticksPerBeat},f=[],d=0;d<h.trackCount;d++){f[d]=[];var l=e(stream);if("MTrk"!=l.id)throw"Unexpected chunk - expected MTrk, got "+l.id;for(var p=r(l.data);!p.eof();){var m=n(p);f[d].push(m)}}return{header:h,tracks:f}}function r(t){function e(e){var n=t.substr(s,e);return s+=e,n}function n(){var e=(t.charCodeAt(s)<<24)+(t.charCodeAt(s+1)<<16)+(t.charCodeAt(s+2)<<8)+t.charCodeAt(s+3);return s+=4,e}function r(){var e=(t.charCodeAt(s)<<8)+t.charCodeAt(s+1);return s+=2,e}function i(e){var n=t.charCodeAt(s);return e&&n>127&&(n-=256),s+=1,n}function a(){return s>=t.length}function o(){for(var t=0;;){var e=i();if(!(128&e))return t+e;t+=127&e,t<<=7}}var s=0;return{eof:a,read:e,readInt32:n,readInt16:r,readInt8:i,readVarInt:o}}t.exports=function(t){return n(t)}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}}])});

},{}]},{},[3])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJqcy9ndWkuanMiLCJqcy9qb24tdHJvbWJvbmUuanMiLCJqcy9tYWluLmpzIiwianMvbWlkaS9taWRpLWNvbnRyb2xsZXIuanMiLCJqcy9waW5rLXRyb21ib25lL2NvbXBvbmVudHMvYXVkaW8tc3lzdGVtLmpzIiwianMvcGluay10cm9tYm9uZS9jb21wb25lbnRzL2dsb3R0aXMuanMiLCJqcy9waW5rLXRyb21ib25lL2NvbXBvbmVudHMvdHJhY3QtdWkuanMiLCJqcy9waW5rLXRyb21ib25lL2NvbXBvbmVudHMvdHJhY3QuanMiLCJqcy9waW5rLXRyb21ib25lL21hdGgtZXh0ZW5zaW9ucy5qcyIsImpzL3BpbmstdHJvbWJvbmUvbm9pc2UuanMiLCJqcy9waW5rLXRyb21ib25lL3BpbmstdHJvbWJvbmUuanMiLCJqcy90dHMvdHRzLWNvbnRyb2xsZXIuanMiLCJqcy91dGlscy9tb2RlbC1sb2FkZXIuanMiLCJqcy91dGlscy93ZWJnbC1kZXRlY3QuanMiLCJub2RlX21vZHVsZXMvZ3VpZnkvbGliL2d1aWZ5Lm1pbi5qcyIsIm5vZGVfbW9kdWxlcy9taWRpY29udmVydC9idWlsZC9NaWRpQ29udmVydC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7QUNBQSxJQUFJLFFBQVEsUUFBUSxPQUFSLENBQVo7O0lBRU0sRzs7Ozs7Ozs2QkFFRyxHLEVBQUssUyxFQUFVOztBQUVoQixpQkFBSyxLQUFMLEdBQWEsSUFBSSxNQUFNLEdBQVYsQ0FBYztBQUN2Qix1QkFBTyxjQURnQjtBQUV2Qix1QkFBTyxNQUZnQjtBQUd2QixzQkFBTSxTQUhpQjtBQUl2Qix1QkFBTyxLQUpnQjtBQUt2Qix5QkFBUyxPQUxjO0FBTXZCLHVCQUFPLE9BTmdCO0FBT3ZCLHlCQUFTO0FBUGMsYUFBZCxDQUFiOztBQVVBLGlCQUFLLEtBQUwsQ0FBVyxRQUFYLENBQW9CO0FBQ2hCLHNCQUFN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LE9BQWUsdUVBQUwsSUFBSzs7QUFDL0IsZ0JBQUcsV0FBVyxJQUFkLEVBQW1CO0FBQ2Y7QUFHSDtBQUNELDZHQUVpQyxPQUZqQztBQUtIOzs7Ozs7UUFJSSxRLEdBQUEsUTs7O0FDekNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1pBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwibGV0IGd1aWZ5ID0gcmVxdWlyZShcImd1aWZ5XCIpO1xuXG5jbGFzcyBHVUkge1xuXG4gICAgSW5pdChqb24sIGNvbnRhaW5lcil7XG5cbiAgICAgICAgdGhpcy5wYW5lbCA9IG5ldyBndWlmeS5HVUkoe1xuICAgICAgICAgICAgdGl0bGU6IFwiSm9uLVRyb21ib25lXCIsIFxuICAgICAgICAgICAgdGhlbWU6IFwiZGFya1wiLCBcbiAgICAgICAgICAgIHJvb3Q6IGNvbnRhaW5lcixcbiAgICAgICAgICAgIHdpZHRoOiBcIjgwJVwiLFxuICAgICAgICAgICAgYmFyTW9kZTogXCJhYm92ZVwiLFxuICAgICAgICAgICAgYWxpZ246IFwicmlnaHRcIixcbiAgICAgICAgICAgIG9wYWNpdHk6IFwiMC45NVwiXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMucGFuZWwuUmVnaXN0ZXIoeyBcbiAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIiwgbGFiZWw6IFwiTXV0ZVwiLCBcbiAgICAgICAgICAgIG9iamVjdDogam9uLnRyb21ib25lLCBwcm9wZXJ0eTogXCJtdXRlZFwiLCBcbiAgICAgICAgICAgIG9uQ2hhbmdlOiAoZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgIGpvbi50cm9tYm9uZS5TZXRNdXRlKGRhdGEpO1xuICAgICAgICAgICAgfSBcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gSm9uIGZvbGRlclxuICAgICAgICB0aGlzLnBhbmVsLlJlZ2lzdGVyKHsgdHlwZTogXCJmb2xkZXJcIiwgbGFiZWw6IFwiSm9uXCIgfSk7XG4gICAgICAgIHRoaXMucGFuZWwuUmVnaXN0ZXIoW1xuICAgICAgICAgICAgeyB0eXBlOiBcImNoZWNrYm94XCIsIGxhYmVsOiBcIk1vdmUgSmF3XCIsIG9iamVjdDogam9uLCBwcm9wZXJ0eTogXCJtb3ZlSmF3XCIgfSxcbiAgICAgICAgICAgIHsgdHlwZTogXCJyYW5nZVwiLCBsYWJlbDogXCJKYXcgU3BlZWRcIiwgb2JqZWN0OiBqb24sIHByb3BlcnR5OiBcImphd0ZsYXBTcGVlZFwiLCBtaW46IDAsIG1heDogMTAwIH0sXG4gICAgICAgICAgICB7IHR5cGU6IFwicmFuZ2VcIiwgbGFiZWw6IFwiSmF3IFJhbmdlXCIsIG9iamVjdDogam9uLCBwcm9wZXJ0eTogXCJqYXdPcGVuT2Zmc2V0XCIsIG1pbjogMCwgbWF4OiAxIH0sXG4gICAgICAgIF0sIHsgZm9sZGVyOiBcIkpvblwiIH0pO1xuXG4gICAgICAgIC8vIFZvaWNlIGZvbGRlclxuICAgICAgICB0aGlzLnBhbmVsLlJlZ2lzdGVyKHsgdHlwZTogXCJmb2xkZXJcIiwgbGFiZWw6IFwiVm9pY2VcIiB9KTtcbiAgICAgICAgdGhpcy5wYW5lbC5SZWdpc3RlcihbXG4gICAgICAgICAgICB7IHR5cGU6IFwiY2hlY2tib3hcIiwgbGFiZWw6IFwiV29iYmxlXCIsIG9iamVjdDogam9uLnRyb21ib25lLCBwcm9wZXJ0eTogXCJhdXRvV29iYmxlXCIgfSxcbiAgICAgICAgICAgIHsgdHlwZTogXCJjaGVja2JveFwiLCBsYWJlbDogXCJQaXRjaCBWYXJpYW5jZVwiLCBvYmplY3Q6IGpvbi50cm9tYm9uZS5HbG90dGlzLCBwcm9wZXJ0eTogXCJhZGRQaXRjaFZhcmlhbmNlXCIgfSxcbiAgICAgICAgICAgIHsgdHlwZTogXCJjaGVja2JveFwiLCBsYWJlbDogXCJUZW5zZW5lc3MgVmFyaWFuY2VcIiwgb2JqZWN0OiBqb24udHJvbWJvbmUuR2xvdHRpcywgcHJvcGVydHk6IFwiYWRkVGVuc2VuZXNzVmFyaWFuY2VcIiB9LFxuICAgICAgICAgICAgeyB0eXBlOiBcInJhbmdlXCIsIGxhYmVsOiBcIlRlbnNlbmVzc1wiLCBvYmplY3Q6IGpvbi50cm9tYm9uZS5HbG90dGlzLCBwcm9wZXJ0eTogXCJVSVRlbnNlbmVzc1wiLCBtaW46IDAsIG1heDogMSB9LFxuICAgICAgICAgICAgeyB0eXBlOiBcInJhbmdlXCIsIGxhYmVsOiBcIlZpYnJhdG9cIiwgb2JqZWN0OiBqb24udHJvbWJvbmUuR2xvdHRpcywgcHJvcGVydHk6IFwidmlicmF0b0Ftb3VudFwiLCBtaW46IDAsIG1heDogMC41IH0sXG4gICAgICAgICAgICB7IHR5cGU6IFwicmFuZ2VcIiwgbGFiZWw6IFwiRnJlcXVlbmN5XCIsIG9iamVjdDogam9uLnRyb21ib25lLkdsb3R0aXMsIHByb3BlcnR5OiBcIlVJRnJlcXVlbmN5XCIsIG1pbjogMSwgbWF4OiAxMDAwLCBzdGVwOiAxIH0sXG4gICAgICAgICAgICB7IHR5cGU6IFwicmFuZ2VcIiwgbGFiZWw6IFwiTG91ZG5lc3NcIiwgb2JqZWN0OiBqb24udHJvbWJvbmUuR2xvdHRpcywgcHJvcGVydHk6IFwibG91ZG5lc3NcIiwgbWluOiAwLCBtYXg6IDEgfSxcbiAgICAgICAgXSwgeyBmb2xkZXI6IFwiVm9pY2VcIiB9KTtcblxuICAgICAgICAvLyBUcmFjdCBmb2xkZXJcbiAgICAgICAgdGhpcy5wYW5lbC5SZWdpc3Rlcih7IHR5cGU6IFwiZm9sZGVyXCIsIGxhYmVsOiBcIlRyYWN0XCIgfSk7XG4gICAgICAgIHRoaXMucGFuZWwuUmVnaXN0ZXIoW1xuICAgICAgICAgICAgeyB0eXBlOiBcInJhbmdlXCIsIGxhYmVsOiBcIk1vdmUgU3BlZWRcIiwgb2JqZWN0OiBqb24udHJvbWJvbmUuVHJhY3QsIHByb3BlcnR5OiBcIm1vdmVtZW50U3BlZWRcIiwgbWluOiAxLCBtYXg6IDMwLCBzdGVwOiAxIH0sXG4gICAgICAgICAgICB7IHR5cGU6IFwicmFuZ2VcIiwgbGFiZWw6IFwiVmVsdW0gVGFyZ2V0XCIsIG9iamVjdDogam9uLnRyb21ib25lLlRyYWN0LCBwcm9wZXJ0eTogXCJ2ZWx1bVRhcmdldFwiLCBtaW46IDAuMDAxLCBtYXg6IDIgfSxcbiAgICAgICAgICAgIHsgdHlwZTogXCJyYW5nZVwiLCBsYWJlbDogXCJUYXJnZXRcIiwgb2JqZWN0OiBqb24udHJvbWJvbmUuVHJhY3RVSSwgcHJvcGVydHk6IFwidGFyZ2V0XCIsIG1pbjogMC4wMDEsIG1heDogMSB9LFxuICAgICAgICAgICAgeyB0eXBlOiBcInJhbmdlXCIsIGxhYmVsOiBcIkluZGV4XCIsIG9iamVjdDogam9uLnRyb21ib25lLlRyYWN0VUksIHByb3BlcnR5OiBcImluZGV4XCIsIG1pbjogMCwgbWF4OiA0Mywgc3RlcDogMSB9LFxuICAgICAgICAgICAgeyB0eXBlOiBcInJhbmdlXCIsIGxhYmVsOiBcIlJhZGl1c1wiLCBvYmplY3Q6IGpvbi50cm9tYm9uZS5UcmFjdFVJLCBwcm9wZXJ0eTogXCJyYWRpdXNcIiwgbWluOiAwLCBtYXg6IDUsIHN0ZXA6IDEgfSxcbiAgICAgICAgXSwgeyBmb2xkZXI6IFwiVHJhY3RcIiB9KTtcblxuICAgICAgICAvLyBNSURJIGZvbGRlclxuICAgICAgICB0aGlzLnBhbmVsLlJlZ2lzdGVyKHsgdHlwZTogXCJmb2xkZXJcIiwgbGFiZWw6IFwiTUlESVwiIH0pO1xuICAgICAgICB0aGlzLnBhbmVsLlJlZ2lzdGVyKFtcbiAgICAgICAgICAgIHsgdHlwZTogXCJmaWxlXCIsIGxhYmVsOiBcIk1JREkgRmlsZVwiLCBmaWxlUmVhZEZ1bmM6IFwicmVhZEFzQmluYXJ5U3RyaW5nXCIsXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U6IChkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGpvbi5taWRpQ29udHJvbGxlci5Mb2FkU29uZ0RpcmVjdChkYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgeyB0eXBlOiBcInRpdGxlXCIsIGxhYmVsOiBcIkNvbnRyb2xzXCIgfSxcbiAgICAgICAgICAgIHsgdHlwZTogXCJidXR0b25cIiwgbGFiZWw6IFwiUGxheVwiLCBhY3Rpb246ICgpID0+IGpvbi5taWRpQ29udHJvbGxlci5QbGF5U29uZygpIH0sXG4gICAgICAgICAgICB7IHR5cGU6IFwiYnV0dG9uXCIsIGxhYmVsOiBcIlN0b3BcIiwgYWN0aW9uOiAoKSA9PiBqb24ubWlkaUNvbnRyb2xsZXIuU3RvcCgpIH0sXG4gICAgICAgICAgICB7IHR5cGU6IFwiYnV0dG9uXCIsIGxhYmVsOiBcIlJlc3RhcnRcIiwgYWN0aW9uOiAoKSA9PiBqb24ubWlkaUNvbnRyb2xsZXIuUmVzdGFydCgpIH0sXG4gICAgICAgICAgICB7IHR5cGU6IFwidGl0bGVcIiwgbGFiZWw6IFwiT3B0aW9uc1wiIH0sXG4gICAgICAgICAgICB7IHR5cGU6IFwicmFuZ2VcIiwgbGFiZWw6IFwiVHJhY2tcIiwgb2JqZWN0OiBqb24ubWlkaUNvbnRyb2xsZXIsIHByb3BlcnR5OiBcImN1cnJlbnRUcmFja1wiLCBtaW46IDEsIG1heDogMjAsIHN0ZXA6IDEgfSxcbiAgICAgICAgICAgIHsgdHlwZTogXCJyYW5nZVwiLCBsYWJlbDogXCJCYXNlIEZyZXF1ZW5jeVwiLCBvYmplY3Q6IGpvbi5taWRpQ29udHJvbGxlciwgcHJvcGVydHk6IFwiYmFzZUZyZXFcIiwgbWluOiAxLCBtYXg6IDIwMDAsIHN0ZXA6IDEgfSxcbiAgICAgICAgICAgIHsgdHlwZTogXCJjaGVja2JveFwiLCBsYWJlbDogXCJFeHRyZW1lIFZpYnJhdG9cIiwgb2JqZWN0OiBqb24sIHByb3BlcnR5OiBcImZsYXBXaGlsZVNpbmdpbmdcIiB9LFxuICAgICAgICAgICAgeyB0eXBlOiBcImNoZWNrYm94XCIsIGxhYmVsOiBcIkxlZ2F0b1wiLCBvYmplY3Q6IGpvbiwgcHJvcGVydHk6IFwibGVnYXRvXCIgfSxcbiAgICAgICAgXSwgeyBmb2xkZXI6IFwiTUlESVwiIH0pO1xuXG4gICAgfVxuXG59XG5cbmV4cG9ydCBsZXQgZ3VpID0gbmV3IEdVSSgpOyIsImltcG9ydCB7IE1vZGVsTG9hZGVyIH0gZnJvbSBcIi4vdXRpbHMvbW9kZWwtbG9hZGVyLmpzXCI7XG5pbXBvcnQgeyBQaW5rVHJvbWJvbmUgfSBmcm9tIFwiLi9waW5rLXRyb21ib25lL3BpbmstdHJvbWJvbmUuanNcIjtcbmltcG9ydCB7IE1pZGlDb250cm9sbGVyIH0gZnJvbSBcIi4vbWlkaS9taWRpLWNvbnRyb2xsZXIuanNcIjtcbmltcG9ydCB7IFRUU0NvbnRyb2xsZXIgfSBmcm9tIFwiLi90dHMvdHRzLWNvbnRyb2xsZXIuanNcIjtcbmltcG9ydCB7IGd1aSB9IGZyb20gXCIuL2d1aS5qc1wiO1xuXG5jbGFzcyBKb25Ucm9tYm9uZSB7XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250YWluZXIsIGZpbmlzaGVkQ2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gXCJyZWxhdGl2ZVwiO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5jdXJzb3IgPSBcImRlZmF1bHRcIjtcblxuICAgICAgICAvLyBTZXQgdXAgcmVuZGVyZXIgYW5kIGVtYmVkIGluIGNvbnRhaW5lclxuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoIHsgYWxwaGE6IHRydWUgfSApO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNldFBpeGVsUmF0aW8od2luZG93LmRldmljZVBpeGVsUmF0aW8pO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNldFNpemUodGhpcy5jb250YWluZXIub2Zmc2V0V2lkdGgsIHRoaXMuY29udGFpbmVyLm9mZnNldEhlaWdodCk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2V0Q2xlYXJDb2xvcigweDAwMDAwMCwgMCk7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudCk7XG5cbiAgICAgICAgLy8gU2V0IHVwIHNjZW5lIGFuZCB2aWV3XG4gICAgICAgIGxldCBhc3BlY3QgPSB0aGlzLmNvbnRhaW5lci5vZmZzZXRXaWR0aCAvIHRoaXMuY29udGFpbmVyLm9mZnNldEhlaWdodDtcbiAgICAgICAgdGhpcy5jYW1lcmEgPSBuZXcgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEoIDQ1LCBhc3BlY3QsIDAuMSwgMTAwICk7XG4gICAgICAgIHRoaXMuc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTtcblxuICAgICAgICAvLyBFeHBvcnQgc2NlbmUgZm9yIHRocmVlIGpzIGluc3BlY3RvclxuICAgICAgICAvL3dpbmRvdy5zY2VuZSA9IHRoaXMuc2NlbmU7XG5cbiAgICAgICAgLy8gU2V0IHVwIGNsb2NrIGZvciB0aW1pbmdcbiAgICAgICAgdGhpcy5jbG9jayA9IG5ldyBUSFJFRS5DbG9jaygpO1xuXG4gICAgICAgIGxldCBzdGFydERlbGF5TVMgPSAxMDAwO1xuICAgICAgICB0aGlzLnRyb21ib25lID0gbmV3IFBpbmtUcm9tYm9uZSh0aGlzKTtcbiAgICAgICAgc2V0VGltZW91dCgoKT0+IHtcbiAgICAgICAgICAgIHRoaXMudHJvbWJvbmUuU3RhcnRBdWRpbygpO1xuICAgICAgICAgICAgLy90aGlzLnRyb21ib25lLlNldE11dGUodHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLm1vdmVKYXcgPSB0cnVlO1xuICAgICAgICB9LCBzdGFydERlbGF5TVMpO1xuXG4gICAgICAgIC8vIE11dGUgYnV0dG9uIGZvciB0cm9tYm9uZVxuICAgICAgICAvLyBsZXQgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICAgICAgLy8gYnV0dG9uLmlubmVySFRNTCA9IFwiTXV0ZVwiO1xuICAgICAgICAvLyBidXR0b24uc3R5bGUuY3NzVGV4dCA9IFwicG9zaXRpb246IGFic29sdXRlOyBkaXNwbGF5OiBibG9jazsgdG9wOiAwOyBsZWZ0OiAwO1wiO1xuICAgICAgICAvLyB0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZChidXR0b24pO1xuICAgICAgICAvLyBidXR0b24uYWRkRXZlbnRMaXN0ZW5lciAoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIC8vICAgICB0aGlzLnRyb21ib25lLlRvZ2dsZU11dGUoKTtcbiAgICAgICAgLy8gICAgIGJ1dHRvbi5pbm5lckhUTUwgPSB0aGlzLnRyb21ib25lLm11dGVkID8gXCJVbm11dGVcIiA6IFwiTXV0ZVwiO1xuICAgICAgICAvLyB9KTtcblxuICAgICAgICB0aGlzLmphd0ZsYXBTcGVlZCA9IDIwLjA7XG4gICAgICAgIHRoaXMuamF3T3Blbk9mZnNldCA9IDAuMTk7XG4gICAgICAgIHRoaXMubW92ZUphdyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmxlZ2F0byA9IGZhbHNlO1xuICAgICAgICB0aGlzLmZsYXBXaGlsZVNpbmdpbmcgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLm1pZGlDb250cm9sbGVyID0gbmV3IE1pZGlDb250cm9sbGVyKHRoaXMpO1xuXG4gICAgICAgIC8vIGxldCB0dHMgPSBuZXcgVFRTQ29udHJvbGxlcigpO1xuICAgICAgICAvLyBjb25zb2xlLmxvZyh0dHMuR2V0R3JhcGhlbWVzKFwiVGVzdGluZyBvbmUgdHdvIHRocmVlIDEgMiAzXCIpKTtcblxuICAgICAgICB0aGlzLlNldFVwVGhyZWUoKTtcbiAgICAgICAgdGhpcy5TZXRVcFNjZW5lKCk7XG5cbiAgICAgICAgLy8gU3RhcnQgdGhlIHVwZGF0ZSBsb29wXG4gICAgICAgIHRoaXMuT25VcGRhdGUoKTtcblxuICAgICAgICBndWkuSW5pdCh0aGlzLCB0aGlzLmNvbnRhaW5lcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHVwIG5vbi1zY2VuZSBjb25maWcgZm9yIFRocmVlLmpzXG4gICAgICovXG4gICAgU2V0VXBUaHJlZSgpIHtcbiAgICAgICAgaWYoVEhSRUUuT3JiaXRDb250cm9scyAhPT0gdW5kZWZpbmVkKXtcbiAgICAgICAgICAgIC8vIEFkZCBvcmJpdCBjb250cm9sc1xuICAgICAgICAgICAgdGhpcy5jb250cm9scyA9IG5ldyBUSFJFRS5PcmJpdENvbnRyb2xzKCB0aGlzLmNhbWVyYSwgdGhpcy5yZW5kZXJlci5kb21FbGVtZW50ICk7XG4gICAgICAgICAgICB0aGlzLmNvbnRyb2xzLnRhcmdldC5zZXQoIDAsIDAsIDAgKTtcbiAgICAgICAgICAgIHRoaXMuY29udHJvbHMudXBkYXRlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJObyBUSFJFRS5PcmJpdENvbnRyb2xzIGRldGVjdGVkLiBJbmNsdWRlIHRvIGFsbG93IGludGVyYWN0aW9uIHdpdGggdGhlIG1vZGVsLlwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBvcHVsYXRlcyBhbmQgY29uZmlndXJlcyBvYmplY3RzIHdpdGhpbiB0aGUgc2NlbmUuXG4gICAgICovXG4gICAgU2V0VXBTY2VuZSgpIHtcblxuICAgICAgICAvLyBTZXQgY2FtZXJhIHBvc2l0aW9uXG4gICAgICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnNldCggMCwgMCwgMC41ICk7XG5cbiAgICAgICAgLy8gTGlnaHRzXG4gICAgICAgIGxldCBsaWdodDEgPSBuZXcgVEhSRUUuSGVtaXNwaGVyZUxpZ2h0KDB4ZmZmZmZmLCAweDQ0NDQ0NCwgMS4wKTtcbiAgICAgICAgbGlnaHQxLm5hbWUgPSBcIkhlbWlzcGhlcmUgTGlnaHRcIjtcbiAgICAgICAgbGlnaHQxLnBvc2l0aW9uLnNldCgwLCAxLCAwKTtcbiAgICAgICAgdGhpcy5zY2VuZS5hZGQobGlnaHQxKTtcblxuICAgICAgICBsZXQgbGlnaHQyID0gbmV3IFRIUkVFLkRpcmVjdGlvbmFsTGlnaHQoMHhmZmZmZmYsIDEuMCk7XG4gICAgICAgIGxpZ2h0Mi5uYW1lID0gXCJEaXJlY3Rpb25hbCBMaWdodFwiO1xuICAgICAgICBsaWdodDIucG9zaXRpb24uc2V0KDAsIDEsIDApO1xuICAgICAgICB0aGlzLnNjZW5lLmFkZChsaWdodDIpO1xuXG4gICAgICAgIC8vIExvYWQgdGhlIEpvbiBtb2RlbCBhbmQgcGxhY2UgaXQgaW4gdGhlIHNjZW5lXG4gICAgICAgIE1vZGVsTG9hZGVyLkxvYWRKU09OKFwiLi4vcmVzb3VyY2VzL2pvbi90aHJlZS9qb24uanNvblwiLCAob2JqZWN0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLmpvbiA9IG9iamVjdDtcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuYWRkKCB0aGlzLmpvbiApO1xuICAgICAgICAgICAgdGhpcy5qb24ucm90YXRpb24ueSA9IChUSFJFRS5NYXRoLmRlZ1RvUmFkKDE1KSk7XG5cbiAgICAgICAgICAgIHRoaXMuamF3ID0gdGhpcy5qb24uc2tlbGV0b24uYm9uZXMuZmluZCgob2JqKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9iai5uYW1lID09IFwiQm9uZS4wMDZcIjtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYodGhpcy5qYXcpe1xuICAgICAgICAgICAgICAgIHRoaXMuamF3U2h1dFogPSB0aGlzLmphdy5wb3NpdGlvbi56O1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGV2ZXJ5IGZyYW1lLiBDb250aW51ZXMgaW5kZWZpbml0ZWx5IGFmdGVyIGJlaW5nIGNhbGxlZCBvbmNlLlxuICAgICAqL1xuICAgIE9uVXBkYXRlKCkge1xuICAgICAgICBsZXQgZGVsdGFUaW1lID0gdGhpcy5jbG9jay5nZXREZWx0YSgpO1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoIHRoaXMuT25VcGRhdGUuYmluZCh0aGlzKSApO1xuXG4gICAgICAgIGlmKHRoaXMubWlkaUNvbnRyb2xsZXIucGxheWluZyl7XG5cbiAgICAgICAgICAgIHRoaXMubm90ZXMgPSB0aGlzLm1pZGlDb250cm9sbGVyLkdldFBpdGNoZXMoKTtcbiAgICAgICAgICAgIGlmKHRoaXMubm90ZXMgIT0gdGhpcy5sYXN0Tm90ZXMpe1xuICAgICAgICAgICAgICAgIC8vIERvIHRoZSBub3RlXG4gICAgICAgICAgICAgICAgaWYodGhpcy5ub3RlcyAhPT0gdW5kZWZpbmVkICYmIHRoaXMubm90ZXMubGVuZ3RoICE9IDApeyBcbiAgICAgICAgICAgICAgICAgICAgLy8gTm90ZSBvblxuICAgICAgICAgICAgICAgICAgICAvLyBQbGF5IGZyZXF1ZW5jeVxuICAgICAgICAgICAgICAgICAgICBsZXQgbm90ZSA9IHRoaXMubm90ZXNbMF07XG4gICAgICAgICAgICAgICAgICAgIGlmKHRoaXMubm90ZXMubGVuZ3RoID4gMSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nIChcImNob3JkXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxldCBmcmVxID0gdGhpcy5taWRpQ29udHJvbGxlci5NSURJVG9GcmVxdWVuY3kobm90ZS5taWRpKTtcbiAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhmcmVxKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cm9tYm9uZS5HbG90dGlzLlVJRnJlcXVlbmN5ID0gZnJlcTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cm9tYm9uZS5HbG90dGlzLmxvdWRuZXNzID0gbm90ZS52ZWxvY2l0eTtcbiAgICAgICAgICAgICAgICAgICAgLy8gT3BlbiBqYXdcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5qYXcucG9zaXRpb24ueiA9IHRoaXMuamF3U2h1dFogKyB0aGlzLmphd09wZW5PZmZzZXQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJvbWJvbmUuVHJhY3RVSS5TZXRMaXBzQ2xvc2VkKDApO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHsgXG4gICAgICAgICAgICAgICAgICAgIC8vIE5vdGUgb2ZmXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5sZWdhdG8pIHRoaXMudHJvbWJvbmUuR2xvdHRpcy5sb3VkbmVzcyA9IDA7XG4gICAgICAgICAgICAgICAgICAgIC8vIENsb3NlIGphd1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmphdy5wb3NpdGlvbi56ID0gdGhpcy5qYXdTaHV0WjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cm9tYm9uZS5UcmFjdFVJLlNldExpcHNDbG9zZWQoMSk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLmxhc3ROb3RlcyA9IHRoaXMubm90ZXM7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmKHRoaXMuamF3ICYmIHRoaXMubW92ZUphdyAmJiAoIXRoaXMubWlkaUNvbnRyb2xsZXIucGxheWluZyB8fCB0aGlzLmZsYXBXaGlsZVNpbmdpbmcpKXtcbiAgICAgICAgICAgIGxldCB0aW1lID0gdGhpcy5jbG9jay5nZXRFbGFwc2VkVGltZSgpOy8vICUgNjA7XG5cbiAgICAgICAgICAgIC8vIE1vdmUgdGhlIGphd1xuICAgICAgICAgICAgbGV0IHBlcmNlbnQgPSAoTWF0aC5zaW4odGltZSAqIHRoaXMuamF3RmxhcFNwZWVkKSArIDEuMCkgLyAyLjA7XG4gICAgICAgICAgICB0aGlzLmphdy5wb3NpdGlvbi56ID0gdGhpcy5qYXdTaHV0WiArIChwZXJjZW50ICogdGhpcy5qYXdPcGVuT2Zmc2V0KTtcblxuICAgICAgICAgICAgLy8gTWFrZSB0aGUgYXVkaW8gbWF0Y2ggdGhlIGphdyBwb3NpdGlvblxuICAgICAgICAgICAgdGhpcy50cm9tYm9uZS5UcmFjdFVJLlNldExpcHNDbG9zZWQoMS4wIC0gcGVyY2VudCk7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlbmRlclxuICAgICAgICB0aGlzLnJlbmRlcmVyLnJlbmRlcih0aGlzLnNjZW5lLCB0aGlzLmNhbWVyYSk7XG5cbiAgICB9XG5cbn1cblxuZXhwb3J0IHsgSm9uVHJvbWJvbmUgfTsiLCJpbXBvcnQgeyBEZXRlY3RvciB9IGZyb20gXCIuL3V0aWxzL3dlYmdsLWRldGVjdC5qc1wiO1xuaW1wb3J0IHsgSm9uVHJvbWJvbmUgfSBmcm9tIFwiLi9qb24tdHJvbWJvbmUuanNcIjtcblxuLy8gT3B0aW9uYWxseSBidW5kbGUgdGhyZWUuanMgYXMgcGFydCBvZiB0aGUgcHJvamVjdFxuLy9pbXBvcnQgVEhSRUVMaWIgZnJvbSBcInRocmVlLWpzXCI7XG4vL3ZhciBUSFJFRSA9IFRIUkVFTGliKCk7IC8vIHJldHVybiBUSFJFRSBKU1xuXG5sZXQgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJqb24tdHJvbWJvbmUtY29udGFpbmVyXCIpO1xuXG5pZiAoICFEZXRlY3Rvci5IYXNXZWJHTCgpICkge1xuICAgIC8vZXhpdChcIldlYkdMIGlzIG5vdCBzdXBwb3J0ZWQgb24gdGhpcyBicm93c2VyLlwiKTtcbiAgICBjb25zb2xlLmxvZyhcIldlYkdMIGlzIG5vdCBzdXBwb3J0ZWQgb24gdGhpcyBicm93c2VyLlwiKTtcbiAgICBjb250YWluZXIuaW5uZXJIVE1MID0gRGV0ZWN0b3IuR2V0RXJyb3JIVE1MKCk7XG4gICAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJuby13ZWJnbFwiKTtcbn1cbmVsc2V7XG4gICAgbGV0IGpvblRyb21ib25lID0gbmV3IEpvblRyb21ib25lKGNvbnRhaW5lcik7XG59IiwibGV0IE1pZGlDb252ZXJ0ID0gcmVxdWlyZSgnbWlkaWNvbnZlcnQnKTtcblxuLyoqXG4gKiBTaW1wbGUgY2xhc3MgZm9yIE1JREkgcGxheWJhY2suXG4gKiBUaGUgcGFyYWRpZ20gaGVyZSdzIGEgYml0IHdlaXJkOyBpdCdzIHVwIHRvIGFuIGV4dGVybmFsXG4gKiBzb3VyY2UgdG8gYWN0dWFsbHkgcHJvZHVjZSBhdWRpby4gVGhpcyBjbGFzcyBqdXN0IG1hbmFnZXNcbiAqIGEgdGltZXIsIHdoaWNoIEdldFBpdGNoKCkgcmVhZHMgdG8gcHJvZHVjZSB0aGUgXCJjdXJyZW50XCJcbiAqIG5vdGUgaW5mb3JtYXRpb24uIFxuICogXG4gKiBBcyBhbiBleGFtcGxlIG9mIHVzYWdlLCBqb24tdHJvbWJvbmUgY2FsbHMgUGxheVNvbmcoKSB0b1xuICogYmVnaW4sIGFuZCB0aGVuIGV2ZXJ5IGZyYW1lIHVzZXMgR2V0UGl0Y2goKSB0byBmaWd1cmUgb3V0XG4gKiB3aGF0IHRoZSBjdXJyZW50IGZyZXF1ZW5jeSB0byBwcm9kdWNlIGlzLlxuICovXG5jbGFzcyBNaWRpQ29udHJvbGxlciB7XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250cm9sbGVyKSB7XG4gICAgICAgIHRoaXMuY29udHJvbGxlciA9IGNvbnRyb2xsZXI7XG5cbiAgICAgICAgdGhpcy5taWRpID0gbnVsbDtcblxuICAgICAgICB0aGlzLnBsYXlpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jdXJyZW50VHJhY2sgPSA1O1xuXG4gICAgICAgIHRoaXMuYmFzZUZyZXEgPSA0NDA7IC8vMTEwIGlzIEE0XG5cbiAgICAgICAgdGhpcy5jbG9jayA9IG5ldyBUSFJFRS5DbG9jayhmYWxzZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTG9hZHMgYW5kIHBhcnNlcyBhIE1JREkgZmlsZS5cbiAgICAgKi9cbiAgICBMb2FkU29uZyhwYXRoLCBjYWxsYmFjayl7XG4gICAgICAgIHRoaXMuU3RvcCgpO1xuICAgICAgICB0aGlzLm1pZGkgPSBudWxsO1xuICAgICAgICBNaWRpQ29udmVydC5sb2FkKHBhdGgsIChtaWRpKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIk1JREkgbG9hZGVkLlwiKTtcbiAgICAgICAgICAgIHRoaXMubWlkaSA9IG1pZGk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLm1pZGkpO1xuICAgICAgICAgICAgaWYoY2FsbGJhY2spIGNhbGxiYWNrKG1pZGkpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBMb2FkU29uZ0RpcmVjdChmaWxlKXtcbiAgICAgICAgdGhpcy5TdG9wKCk7XG4gICAgICAgIHRoaXMubWlkaSA9IE1pZGlDb252ZXJ0LnBhcnNlKGZpbGUpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIk1JREkgbG9hZGVkLlwiKTtcbiAgICAgICAgY29uc29sZS5sb2codGhpcy5taWRpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBwaXRjaCBmb3IgdGhlIHNwZWNpZmllZCB0cmFjayBhdCB0aGUgY3VycmVudCB0aW1lIGluIHRoZSBzb25nLlxuICAgICAqL1xuICAgIEdldFBpdGNoKHRyYWNrSW5kZXggPSB0aGlzLmN1cnJlbnRUcmFjayl7XG4gICAgICAgIGxldCB0aW1lID0gdGhpcy5HZXRTb25nUHJvZ3Jlc3MoKTtcblxuICAgICAgICAvLyBDb25zdHJhaW4gdHJhY2sgc3BlY2lmaWVkIHRvIHZhbGlkIHJhbmdlXG4gICAgICAgIHRyYWNrSW5kZXggPSBNYXRoLm1pbih0cmFja0luZGV4LCB0aGlzLm1pZGkudHJhY2tzLmxlbmd0aCAtIDEpO1xuICAgICAgICB0cmFja0luZGV4ID0gTWF0aC5tYXgodHJhY2tJbmRleCwgMCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMubWlkaS50cmFja3NbdHJhY2tJbmRleF0ubm90ZXMuZmluZCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGl0ZW0ubm90ZU9uIDw9IHRpbWUgJiYgdGltZSA8PSBpdGVtLm5vdGVPZmY7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIEdldFBpdGNoZXModHJhY2tJbmRleCA9IHRoaXMuY3VycmVudFRyYWNrKXtcbiAgICAgICAgbGV0IHRpbWUgPSB0aGlzLkdldFNvbmdQcm9ncmVzcygpO1xuXG4gICAgICAgIC8vIENvbnN0cmFpbiB0cmFjayBzcGVjaWZpZWQgdG8gdmFsaWQgcmFuZ2VcbiAgICAgICAgdHJhY2tJbmRleCA9IE1hdGgubWluKHRyYWNrSW5kZXgsIHRoaXMubWlkaS50cmFja3MubGVuZ3RoIC0gMSk7XG4gICAgICAgIHRyYWNrSW5kZXggPSBNYXRoLm1heCh0cmFja0luZGV4LCAwKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5taWRpLnRyYWNrc1t0cmFja0luZGV4XS5ub3Rlcy5maWx0ZXIoaXRlbSA9PiBcbiAgICAgICAgICAgIGl0ZW0ubm90ZU9uIDw9IHRpbWUgJiYgdGltZSA8PSBpdGVtLm5vdGVPZmYpO1xuICAgIH1cblxuICAgIFBsYXlTb25nKHRyYWNrID0gNSl7XG4gICAgICAgIGlmKHRoaXMucGxheWluZyl7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiBubyBzb25nIGlzIHNwZWNpZmllZCwgbG9hZCBhIHNvbmdcbiAgICAgICAgaWYoIXRoaXMubWlkaSl7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIk5vIE1JREkgaXMgbG9hZGVkLiBMb2FkaW5nIGFuIGV4YW1wbGUuLi5cIik7XG4gICAgICAgICAgICB0aGlzLkxvYWRTb25nKCcuLi9yZXNvdXJjZXMvbWlkaS91bi1vd2VuLXdhcy1oZXIubWlkJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuUGxheVNvbmcoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVHVybiBvZmYgc29tZSBzdHVmZiBzbyB0aGUgc2luZ2luZyBraW5kIG9mIHNvdW5kcyBva2F5XG4gICAgICAgIHRoaXMuRW50ZXJTaW5nTW9kZSgpO1xuXG4gICAgICAgIHRoaXMuY3VycmVudFRyYWNrID0gdHJhY2s7XG4gICAgICAgIHRoaXMuY2xvY2suc3RhcnQoKTtcbiAgICAgICAgdGhpcy5wbGF5aW5nID0gdHJ1ZTtcblxuICAgICAgICBjb25zb2xlLmxvZyhcIlBsYXliYWNrIHN0YXJ0ZWQuXCIpO1xuXG4gICAgfVxuXG4gICAgR2V0U29uZ1Byb2dyZXNzKCl7XG4gICAgICAgIHJldHVybiB0aGlzLmNsb2NrLmdldEVsYXBzZWRUaW1lKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgZnJvbSBhIE1JREkgbm90ZSBjb2RlIHRvIGl0cyBjb3JyZXNwb25kaW5nIGZyZXF1ZW5jeS5cbiAgICAgKiBAcGFyYW0geyp9IG1pZGlDb2RlIFxuICAgICAqL1xuICAgIE1JRElUb0ZyZXF1ZW5jeShtaWRpQ29kZSl7XG4gICAgICAgIHJldHVybiB0aGlzLmJhc2VGcmVxICogTWF0aC5wb3coMiwgKG1pZGlDb2RlIC0gNjkpIC8gMTIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlc3RhcnRzIHRoZSBwbGF5YmFjay5cbiAgICAgKi9cbiAgICBSZXN0YXJ0KCl7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiUGxheWJhY2sgbW92ZWQgdG8gYmVnaW5uaW5nLlwiKTtcbiAgICAgICAgdGhpcy5jbG9jayA9IG5ldyBUSFJFRS5DbG9jaygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFN0b3BzIHBsYXliYWNrLlxuICAgICAqL1xuICAgIFN0b3AoKSB7XG4gICAgICAgIGlmKCF0aGlzLnBsYXlpbmcpe1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUubG9nKFwiUGxheWJhY2sgc3RvcHBlZC5cIik7XG4gICAgICAgIHRoaXMuY2xvY2suc3RvcCgpO1xuICAgICAgICB0aGlzLnBsYXlpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5FeGl0U2luZ01vZGUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHVwIHRoZSB0cm9tYm9uZSBmb3Igc2luZ2luZy5cbiAgICAgKi9cbiAgICBFbnRlclNpbmdNb2RlKCl7XG4gICAgICAgIGlmKHRoaXMuYmFja3VwX3NldHRpbmdzKXtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYmFja3VwX3NldHRpbmdzID0ge307XG5cbiAgICAgICAgdGhpcy5iYWNrdXBfc2V0dGluZ3NbXCJhdXRvV29iYmxlXCJdID0gdGhpcy5jb250cm9sbGVyLnRyb21ib25lLmF1dG9Xb2JibGU7XG4gICAgICAgIHRoaXMuY29udHJvbGxlci50cm9tYm9uZS5hdXRvV29iYmxlID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5iYWNrdXBfc2V0dGluZ3NbXCJhZGRQaXRjaFZhcmlhbmNlXCJdID0gdGhpcy5jb250cm9sbGVyLnRyb21ib25lLkdsb3R0aXMuYWRkUGl0Y2hWYXJpYW5jZTtcbiAgICAgICAgdGhpcy5jb250cm9sbGVyLnRyb21ib25lLkdsb3R0aXMuYWRkUGl0Y2hWYXJpYW5jZSA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuYmFja3VwX3NldHRpbmdzW1wiYWRkVGVuc2VuZXNzVmFyaWFuY2VcIl0gPSB0aGlzLmNvbnRyb2xsZXIudHJvbWJvbmUuR2xvdHRpcy5hZGRUZW5zZW5lc3NWYXJpYW5jZTtcbiAgICAgICAgdGhpcy5jb250cm9sbGVyLnRyb21ib25lLkdsb3R0aXMuYWRkVGVuc2VuZXNzVmFyaWFuY2UgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLmJhY2t1cF9zZXR0aW5nc1tcInZpYnJhdG9GcmVxdWVuY3lcIl0gPSB0aGlzLmNvbnRyb2xsZXIudHJvbWJvbmUuR2xvdHRpcy52aWJyYXRvRnJlcXVlbmN5O1xuICAgICAgICB0aGlzLmNvbnRyb2xsZXIudHJvbWJvbmUuR2xvdHRpcy52aWJyYXRvRnJlcXVlbmN5ID0gMDtcblxuICAgICAgICB0aGlzLmJhY2t1cF9zZXR0aW5nc1tcImZyZXF1ZW5jeVwiXSA9IHRoaXMuY29udHJvbGxlci50cm9tYm9uZS5HbG90dGlzLlVJRnJlcXVlbmN5O1xuXG4gICAgICAgIHRoaXMuYmFja3VwX3NldHRpbmdzW1wibG91ZG5lc3NcIl0gPSB0aGlzLmNvbnRyb2xsZXIudHJvbWJvbmUuR2xvdHRpcy5sb3VkbmVzcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXN0b3JlcyB0aGUgdHJvbWJvbmUgdG8gdGhlIHN0YXRlIGl0IHdhcyBpbiBiZWZvcmUgc2luZ2luZy5cbiAgICAgKi9cbiAgICBFeGl0U2luZ01vZGUoKXtcbiAgICAgICAgaWYoIXRoaXMuYmFja3VwX3NldHRpbmdzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHRoaXMuY29udHJvbGxlci50cm9tYm9uZS5hdXRvV29iYmxlID0gdGhpcy5iYWNrdXBfc2V0dGluZ3NbXCJhdXRvV29iYmxlXCJdO1xuICAgICAgICB0aGlzLmNvbnRyb2xsZXIudHJvbWJvbmUuR2xvdHRpcy5hZGRQaXRjaFZhcmlhbmNlID0gdGhpcy5iYWNrdXBfc2V0dGluZ3NbXCJhZGRQaXRjaFZhcmlhbmNlXCJdO1xuICAgICAgICB0aGlzLmNvbnRyb2xsZXIudHJvbWJvbmUuR2xvdHRpcy5hZGRUZW5zZW5lc3NWYXJpYW5jZSA9IHRoaXMuYmFja3VwX3NldHRpbmdzW1wiYWRkVGVuc2VuZXNzVmFyaWFuY2VcIl07XG4gICAgICAgIHRoaXMuY29udHJvbGxlci50cm9tYm9uZS5HbG90dGlzLnZpYnJhdG9GcmVxdWVuY3kgPSB0aGlzLmJhY2t1cF9zZXR0aW5nc1tcInZpYnJhdG9GcmVxdWVuY3lcIl07XG4gICAgICAgIHRoaXMuY29udHJvbGxlci50cm9tYm9uZS5HbG90dGlzLlVJRnJlcXVlbmN5ID0gdGhpcy5iYWNrdXBfc2V0dGluZ3NbXCJmcmVxdWVuY3lcIl07XG4gICAgICAgIHRoaXMuY29udHJvbGxlci50cm9tYm9uZS5HbG90dGlzLmxvdWRuZXNzID0gdGhpcy5iYWNrdXBfc2V0dGluZ3NbXCJsb3VkbmVzc1wiXTtcblxuICAgICAgICB0aGlzLmJhY2t1cF9zZXR0aW5ncyA9IG51bGw7XG4gICAgfVxuXG59XG5cbmV4cG9ydCB7IE1pZGlDb250cm9sbGVyIH07IiwiY2xhc3MgQXVkaW9TeXN0ZW0geyAgXG5cbiAgICBjb25zdHJ1Y3Rvcih0cm9tYm9uZSkge1xuICAgICAgICB0aGlzLnRyb21ib25lID0gdHJvbWJvbmU7XG5cbiAgICAgICAgdGhpcy5ibG9ja0xlbmd0aCA9IDUxMjtcbiAgICAgICAgdGhpcy5ibG9ja1RpbWUgPSAxO1xuICAgICAgICB0aGlzLnNvdW5kT24gPSBmYWxzZTtcblxuICAgIH1cblxuICAgIGluaXQoKSB7XG4gICAgICAgIHdpbmRvdy5BdWRpb0NvbnRleHQgPSB3aW5kb3cuQXVkaW9Db250ZXh0fHx3aW5kb3cud2Via2l0QXVkaW9Db250ZXh0O1xuICAgICAgICB0aGlzLmF1ZGlvQ29udGV4dCA9IG5ldyB3aW5kb3cuQXVkaW9Db250ZXh0KCk7XG4gICAgICAgIHRoaXMudHJvbWJvbmUuc2FtcGxlUmF0ZSA9IHRoaXMuYXVkaW9Db250ZXh0LnNhbXBsZVJhdGU7XG4gICAgICAgIFxuICAgICAgICB0aGlzLmJsb2NrVGltZSA9IHRoaXMuYmxvY2tMZW5ndGgvdGhpcy50cm9tYm9uZS5zYW1wbGVSYXRlO1xuICAgIH1cbiAgICBcbiAgICBzdGFydFNvdW5kKCkge1xuICAgICAgICAvL3NjcmlwdFByb2Nlc3NvciBtYXkgbmVlZCBhIGR1bW15IGlucHV0IGNoYW5uZWwgb24gaU9TXG4gICAgICAgIHRoaXMuc2NyaXB0UHJvY2Vzc29yID0gdGhpcy5hdWRpb0NvbnRleHQuY3JlYXRlU2NyaXB0UHJvY2Vzc29yKHRoaXMuYmxvY2tMZW5ndGgsIDIsIDEpO1xuICAgICAgICB0aGlzLnNjcmlwdFByb2Nlc3Nvci5jb25uZWN0KHRoaXMuYXVkaW9Db250ZXh0LmRlc3RpbmF0aW9uKTsgXG4gICAgICAgIHRoaXMuc2NyaXB0UHJvY2Vzc29yLm9uYXVkaW9wcm9jZXNzID0gdGhpcy5kb1NjcmlwdFByb2Nlc3Nvci5iaW5kKHRoaXMpO1xuICAgIFxuICAgICAgICB2YXIgd2hpdGVOb2lzZSA9IHRoaXMuY3JlYXRlV2hpdGVOb2lzZU5vZGUoMiAqIHRoaXMudHJvbWJvbmUuc2FtcGxlUmF0ZSk7IC8vIDIgc2Vjb25kcyBvZiBub2lzZVxuICAgICAgICBcbiAgICAgICAgdmFyIGFzcGlyYXRlRmlsdGVyID0gdGhpcy5hdWRpb0NvbnRleHQuY3JlYXRlQmlxdWFkRmlsdGVyKCk7XG4gICAgICAgIGFzcGlyYXRlRmlsdGVyLnR5cGUgPSBcImJhbmRwYXNzXCI7XG4gICAgICAgIGFzcGlyYXRlRmlsdGVyLmZyZXF1ZW5jeS52YWx1ZSA9IDUwMDtcbiAgICAgICAgYXNwaXJhdGVGaWx0ZXIuUS52YWx1ZSA9IDAuNTtcbiAgICAgICAgd2hpdGVOb2lzZS5jb25uZWN0KGFzcGlyYXRlRmlsdGVyKTsgIC8vIFVzZSB3aGl0ZSBub2lzZSBhcyBpbnB1dCBmb3IgZmlsdGVyXG4gICAgICAgIGFzcGlyYXRlRmlsdGVyLmNvbm5lY3QodGhpcy5zY3JpcHRQcm9jZXNzb3IpOyAgLy8gVXNlIHRoaXMgYXMgaW5wdXQgMCBmb3Igc2NyaXB0IHByb2Nlc3NvclxuICAgICAgICBcbiAgICAgICAgdmFyIGZyaWNhdGl2ZUZpbHRlciA9IHRoaXMuYXVkaW9Db250ZXh0LmNyZWF0ZUJpcXVhZEZpbHRlcigpO1xuICAgICAgICBmcmljYXRpdmVGaWx0ZXIudHlwZSA9IFwiYmFuZHBhc3NcIjtcbiAgICAgICAgZnJpY2F0aXZlRmlsdGVyLmZyZXF1ZW5jeS52YWx1ZSA9IDEwMDA7XG4gICAgICAgIGZyaWNhdGl2ZUZpbHRlci5RLnZhbHVlID0gMC41O1xuICAgICAgICB3aGl0ZU5vaXNlLmNvbm5lY3QoZnJpY2F0aXZlRmlsdGVyKTsgIC8vIFVzZSB3aGl0ZSBub2lzZSBhcyBpbnB1dFxuICAgICAgICBmcmljYXRpdmVGaWx0ZXIuY29ubmVjdCh0aGlzLnNjcmlwdFByb2Nlc3Nvcik7ICAvLyBVc2UgdGhpcyBhcyBpbnB1dCAxIGZvciBzY3JpcHQgcHJvY2Vzc29yXG4gICAgICAgIFxuICAgICAgICB3aGl0ZU5vaXNlLnN0YXJ0KDApO1xuXG4gICAgICAgIC8vIEdlbmVyYXRlIGp1c3Qgd2hpdGUgbm9pc2UgKHRlc3QpXG4gICAgICAgIC8vIHZhciB3biA9IHRoaXMuY3JlYXRlV2hpdGVOb2lzZU5vZGUoMip0aGlzLnRyb21ib25lLnNhbXBsZVJhdGUpO1xuICAgICAgICAvLyB3bi5jb25uZWN0KHRoaXMuYXVkaW9Db250ZXh0LmRlc3RpbmF0aW9uKTtcbiAgICAgICAgLy8gd24uc3RhcnQoMCk7XG4gICAgfVxuICAgIFxuICAgIGNyZWF0ZVdoaXRlTm9pc2VOb2RlKGZyYW1lQ291bnQpIHtcbiAgICAgICAgdmFyIG15QXJyYXlCdWZmZXIgPSB0aGlzLmF1ZGlvQ29udGV4dC5jcmVhdGVCdWZmZXIoMSwgZnJhbWVDb3VudCwgdGhpcy50cm9tYm9uZS5zYW1wbGVSYXRlKTtcblxuICAgICAgICB2YXIgbm93QnVmZmVyaW5nID0gbXlBcnJheUJ1ZmZlci5nZXRDaGFubmVsRGF0YSgwKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmcmFtZUNvdW50OyBpKyspIFxuICAgICAgICB7XG4gICAgICAgICAgICBub3dCdWZmZXJpbmdbaV0gPSBNYXRoLnJhbmRvbSgpOy8vIGdhdXNzaWFuKCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc291cmNlID0gdGhpcy5hdWRpb0NvbnRleHQuY3JlYXRlQnVmZmVyU291cmNlKCk7XG4gICAgICAgIHNvdXJjZS5idWZmZXIgPSBteUFycmF5QnVmZmVyO1xuICAgICAgICBzb3VyY2UubG9vcCA9IHRydWU7XG5cbiAgICAgICAgcmV0dXJuIHNvdXJjZTtcbiAgICB9XG5cbiAgICAvLyBjcmVhdGVOb2RlKCkge1xuICAgIC8vICAgICBsZXQgYnVmZmVyID0gdGhpcy5hdWRpb0NvbnRleHQuY3JlYXRlQnVmZmVyKDEsIGZyYW1lQ291bnQsIHRoaXMudHJvbWJvbmUuc2FtcGxlUmF0ZSk7XG5cbiAgICAgICAgXG5cbiAgICAvLyAgICAgdmFyIHNvdXJjZSA9IHRoaXMuYXVkaW9Db250ZXh0LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO1xuICAgIC8vICAgICBzb3VyY2UuYnVmZmVyID0gYnVmZmVyO1xuICAgIC8vICAgICBzb3VyY2UubG9vcCA9IHRydWU7XG5cbiAgICAvLyAgICAgcmV0dXJuIHNvdXJjZTtcbiAgICAvLyB9XG4gICAgXG4gICAgXG4gICAgZG9TY3JpcHRQcm9jZXNzb3IoZXZlbnQpIHtcbiAgICAgICAgdmFyIGlucHV0QXJyYXkxID0gZXZlbnQuaW5wdXRCdWZmZXIuZ2V0Q2hhbm5lbERhdGEoMCk7ICAvLyBHbG90dGlzIGlucHV0XG4gICAgICAgIHZhciBpbnB1dEFycmF5MiA9IGV2ZW50LmlucHV0QnVmZmVyLmdldENoYW5uZWxEYXRhKDEpOyAgLy8gVHJhY3QgaW5wdXRcbiAgICAgICAgdmFyIG91dEFycmF5ID0gZXZlbnQub3V0cHV0QnVmZmVyLmdldENoYW5uZWxEYXRhKDApOyAgLy8gT3V0cHV0IChtb25vKVxuICAgICAgICBmb3IgKHZhciBqID0gMCwgTiA9IG91dEFycmF5Lmxlbmd0aDsgaiA8IE47IGorKylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGxhbWJkYTEgPSBqL047XG4gICAgICAgICAgICB2YXIgbGFtYmRhMiA9IChqKzAuNSkvTjtcbiAgICAgICAgICAgIHZhciBnbG90dGFsT3V0cHV0ID0gdGhpcy50cm9tYm9uZS5HbG90dGlzLnJ1blN0ZXAobGFtYmRhMSwgaW5wdXRBcnJheTFbal0pOyBcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdmFyIHZvY2FsT3V0cHV0ID0gMDtcbiAgICAgICAgICAgIC8vVHJhY3QgcnVucyBhdCB0d2ljZSB0aGUgc2FtcGxlIHJhdGUgXG4gICAgICAgICAgICB0aGlzLnRyb21ib25lLlRyYWN0LnJ1blN0ZXAoZ2xvdHRhbE91dHB1dCwgaW5wdXRBcnJheTJbal0sIGxhbWJkYTEpO1xuICAgICAgICAgICAgdm9jYWxPdXRwdXQgKz0gdGhpcy50cm9tYm9uZS5UcmFjdC5saXBPdXRwdXQgKyB0aGlzLnRyb21ib25lLlRyYWN0Lm5vc2VPdXRwdXQ7XG4gICAgICAgICAgICB0aGlzLnRyb21ib25lLlRyYWN0LnJ1blN0ZXAoZ2xvdHRhbE91dHB1dCwgaW5wdXRBcnJheTJbal0sIGxhbWJkYTIpO1xuICAgICAgICAgICAgdm9jYWxPdXRwdXQgKz0gdGhpcy50cm9tYm9uZS5UcmFjdC5saXBPdXRwdXQgKyB0aGlzLnRyb21ib25lLlRyYWN0Lm5vc2VPdXRwdXQ7XG4gICAgICAgICAgICBvdXRBcnJheVtqXSA9IHZvY2FsT3V0cHV0ICogMC4xMjU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYodGhpcy50cm9tYm9uZS5jb250cm9sbGVyLm5vdGVzICE9PSB1bmRlZmluZWQpe1xuICAgICAgICAvLyAgICAgZm9yICh2YXIgbm90ZUluZGV4ID0gMTsgbm90ZUluZGV4IDwgdGhpcy50cm9tYm9uZS5jb250cm9sbGVyLm5vdGVzLmxlbmd0aDsgbm90ZUluZGV4Kyspe1xuICAgICAgICAvLyAgICAgICAgIGlmKG5vdGVJbmRleCA+IHRoaXMubnVtVm9pY2VzIC0gMSkgcmV0dXJuO1xuICAgICAgICAvLyAgICAgICAgIGxldCBub3RlID0gdGhpcy50cm9tYm9uZS5jb250cm9sbGVyLm5vdGVzW25vdGVJbmRleF07XG4gICAgICAgIC8vICAgICAgICAgLy9jb25zb2xlLmxvZyhub3RlKTtcblxuICAgICAgICAvLyAgICAgfVxuICAgICAgICAvLyB9XG4gICAgICAgIHRoaXMudHJvbWJvbmUuR2xvdHRpcy5maW5pc2hCbG9jaygpO1xuICAgICAgICB0aGlzLnRyb21ib25lLlRyYWN0LmZpbmlzaEJsb2NrKCk7XG4gICAgfVxuICAgIFxuICAgIG11dGUoKSB7XG4gICAgICAgIHRoaXMuc2NyaXB0UHJvY2Vzc29yLmRpc2Nvbm5lY3QoKTtcbiAgICB9XG4gICAgXG4gICAgdW5tdXRlKCkge1xuICAgICAgICB0aGlzLnNjcmlwdFByb2Nlc3Nvci5jb25uZWN0KHRoaXMuYXVkaW9Db250ZXh0LmRlc3RpbmF0aW9uKTsgXG4gICAgfVxuICAgIFxufVxuXG5leHBvcnRzLkF1ZGlvU3lzdGVtID0gQXVkaW9TeXN0ZW07IiwiaW1wb3J0IG5vaXNlIGZyb20gXCIuLi9ub2lzZS5qc1wiO1xuXG5jbGFzcyBHbG90dGlzIHtcblxuICAgIGNvbnN0cnVjdG9yKHRyb21ib25lKSB7XG4gICAgICAgIHRoaXMudHJvbWJvbmUgPSB0cm9tYm9uZTtcblxuICAgICAgICB0aGlzLnRpbWVJbldhdmVmb3JtID0gMDtcbiAgICAgICAgdGhpcy5vbGRGcmVxdWVuY3kgPSAxNDA7XG4gICAgICAgIHRoaXMubmV3RnJlcXVlbmN5ID0gMTQwO1xuICAgICAgICB0aGlzLlVJRnJlcXVlbmN5ID0gMTQwO1xuICAgICAgICB0aGlzLnNtb290aEZyZXF1ZW5jeSA9IDE0MDtcbiAgICAgICAgdGhpcy5vbGRUZW5zZW5lc3MgPSAwLjY7XG4gICAgICAgIHRoaXMubmV3VGVuc2VuZXNzID0gMC42O1xuICAgICAgICB0aGlzLlVJVGVuc2VuZXNzID0gMC42O1xuICAgICAgICB0aGlzLnRvdGFsVGltZSA9IDA7XG4gICAgICAgIHRoaXMudmlicmF0b0Ftb3VudCA9IDAuMDA1O1xuICAgICAgICB0aGlzLnZpYnJhdG9GcmVxdWVuY3kgPSA2O1xuICAgICAgICB0aGlzLmludGVuc2l0eSA9IDA7XG4gICAgICAgIHRoaXMubG91ZG5lc3MgPSAxO1xuICAgICAgICB0aGlzLmlzVG91Y2hlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnRvdWNoID0gMDtcbiAgICAgICAgdGhpcy54ID0gMjQwO1xuICAgICAgICB0aGlzLnkgPSA1MzA7XG5cbiAgICAgICAgdGhpcy5rZXlib2FyZFRvcCA9IDUwMDtcbiAgICAgICAgdGhpcy5rZXlib2FyZExlZnQgPSAwO1xuICAgICAgICB0aGlzLmtleWJvYXJkV2lkdGggPSA2MDA7XG4gICAgICAgIHRoaXMua2V5Ym9hcmRIZWlnaHQgPSAxMDA7XG4gICAgICAgIHRoaXMuc2VtaXRvbmVzID0gMjA7XG4gICAgICAgIHRoaXMubWFya3MgPSBbMCwgMCwgMCwgMSwgMCwgMCwgMCwgMCwgMSwgMCwgMSwgMCwgMCwgMCwgMF07XG4gICAgICAgIHRoaXMuYmFzZU5vdGUgPSA4Ny4zMDcxOyAvL0ZcblxuICAgICAgICB0aGlzLm91dHB1dDtcblxuICAgICAgICAvLy8gQWxsb3cgcGl0Y2ggdG8gd29iYmxlIG92ZXIgdGltZVxuICAgICAgICB0aGlzLmFkZFBpdGNoVmFyaWFuY2UgPSB0cnVlO1xuICAgICAgICAvLy8gQWxsb3cgdGVuc2VuZXNzIHRvIHdvYmJsZSBvdmVyIHRpbWVcbiAgICAgICAgdGhpcy5hZGRUZW5zZW5lc3NWYXJpYW5jZSA9IHRydWU7XG5cbiAgICB9XG4gICAgXG4gICAgaW5pdCgpIHtcbiAgICAgICAgdGhpcy5zZXR1cFdhdmVmb3JtKDApO1xuICAgIH1cbiAgICBcbiAgICBoYW5kbGVUb3VjaGVzKCkge1xuICAgICAgICBpZiAodGhpcy50b3VjaCAhPSAwICYmICF0aGlzLnRvdWNoLmFsaXZlKSB0aGlzLnRvdWNoID0gMDtcbiAgICAgICAgXG4gICAgICAgIGlmICh0aGlzLnRvdWNoID09IDApXG4gICAgICAgIHsgICAgICAgIFxuICAgICAgICAgICAgZm9yICh2YXIgaj0wOyBqPFVJLnRvdWNoZXNXaXRoTW91c2UubGVuZ3RoOyBqKyspICBcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXIgdG91Y2ggPSBVSS50b3VjaGVzV2l0aE1vdXNlW2pdO1xuICAgICAgICAgICAgICAgIGlmICghdG91Y2guYWxpdmUpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGlmICh0b3VjaC55PHRoaXMua2V5Ym9hcmRUb3ApIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIHRoaXMudG91Y2ggPSB0b3VjaDtcbiAgICAgICAgICAgIH0gICAgXG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGlmICh0aGlzLnRvdWNoICE9IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBsb2NhbF95ID0gdGhpcy50b3VjaC55IC0gIHRoaXMua2V5Ym9hcmRUb3AtMTA7XG4gICAgICAgICAgICB2YXIgbG9jYWxfeCA9IHRoaXMudG91Y2gueCAtIHRoaXMua2V5Ym9hcmRMZWZ0O1xuICAgICAgICAgICAgbG9jYWxfeSA9IE1hdGguY2xhbXAobG9jYWxfeSwgMCwgdGhpcy5rZXlib2FyZEhlaWdodC0yNik7XG4gICAgICAgICAgICB2YXIgc2VtaXRvbmUgPSB0aGlzLnNlbWl0b25lcyAqIGxvY2FsX3ggLyB0aGlzLmtleWJvYXJkV2lkdGggKyAwLjU7XG4gICAgICAgICAgICBHbG90dGlzLlVJRnJlcXVlbmN5ID0gdGhpcy5iYXNlTm90ZSAqIE1hdGgucG93KDIsIHNlbWl0b25lLzEyKTtcbiAgICAgICAgICAgIGlmIChHbG90dGlzLmludGVuc2l0eSA9PSAwKSBHbG90dGlzLnNtb290aEZyZXF1ZW5jeSA9IEdsb3R0aXMuVUlGcmVxdWVuY3k7XG4gICAgICAgICAgICAvL0dsb3R0aXMuVUlSZCA9IDMqbG9jYWxfeSAvICh0aGlzLmtleWJvYXJkSGVpZ2h0LTIwKTtcbiAgICAgICAgICAgIHZhciB0ID0gTWF0aC5jbGFtcCgxLWxvY2FsX3kgLyAodGhpcy5rZXlib2FyZEhlaWdodC0yOCksIDAsIDEpO1xuICAgICAgICAgICAgR2xvdHRpcy5VSVRlbnNlbmVzcyA9IDEtTWF0aC5jb3ModCpNYXRoLlBJKjAuNSk7XG4gICAgICAgICAgICBHbG90dGlzLmxvdWRuZXNzID0gTWF0aC5wb3coR2xvdHRpcy5VSVRlbnNlbmVzcywgMC4yNSk7XG4gICAgICAgICAgICB0aGlzLnggPSB0aGlzLnRvdWNoLng7XG4gICAgICAgICAgICB0aGlzLnkgPSBsb2NhbF95ICsgdGhpcy5rZXlib2FyZFRvcCsxMDtcbiAgICAgICAgfVxuICAgICAgICBHbG90dGlzLmlzVG91Y2hlZCA9ICh0aGlzLnRvdWNoICE9IDApO1xuICAgIH1cbiAgICAgICAgXG4gICAgcnVuU3RlcChsYW1iZGEsIG5vaXNlU291cmNlKSB7XG4gICAgICAgIHZhciB0aW1lU3RlcCA9IDEuMCAvIHRoaXMudHJvbWJvbmUuc2FtcGxlUmF0ZTtcbiAgICAgICAgdGhpcy50aW1lSW5XYXZlZm9ybSArPSB0aW1lU3RlcDtcbiAgICAgICAgdGhpcy50b3RhbFRpbWUgKz0gdGltZVN0ZXA7XG4gICAgICAgIGlmICh0aGlzLnRpbWVJbldhdmVmb3JtID4gdGhpcy53YXZlZm9ybUxlbmd0aCkgXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudGltZUluV2F2ZWZvcm0gLT0gdGhpcy53YXZlZm9ybUxlbmd0aDtcbiAgICAgICAgICAgIHRoaXMuc2V0dXBXYXZlZm9ybShsYW1iZGEpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBvdXQgPSB0aGlzLm5vcm1hbGl6ZWRMRldhdmVmb3JtKHRoaXMudGltZUluV2F2ZWZvcm0vdGhpcy53YXZlZm9ybUxlbmd0aCk7XG4gICAgICAgIHZhciBhc3BpcmF0aW9uID0gdGhpcy5pbnRlbnNpdHkqKDEuMC1NYXRoLnNxcnQodGhpcy5VSVRlbnNlbmVzcykpKnRoaXMuZ2V0Tm9pc2VNb2R1bGF0b3IoKSpub2lzZVNvdXJjZTtcbiAgICAgICAgYXNwaXJhdGlvbiAqPSAwLjIgKyAwLjAyICogbm9pc2Uuc2ltcGxleDEodGhpcy50b3RhbFRpbWUgKiAxLjk5KTtcbiAgICAgICAgb3V0ICs9IGFzcGlyYXRpb247XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIFxuICAgIGdldE5vaXNlTW9kdWxhdG9yKCkge1xuICAgICAgICB2YXIgdm9pY2VkID0gMC4xKzAuMipNYXRoLm1heCgwLE1hdGguc2luKE1hdGguUEkqMip0aGlzLnRpbWVJbldhdmVmb3JtL3RoaXMud2F2ZWZvcm1MZW5ndGgpKTtcbiAgICAgICAgLy9yZXR1cm4gMC4zO1xuICAgICAgICByZXR1cm4gdGhpcy5VSVRlbnNlbmVzcyogdGhpcy5pbnRlbnNpdHkgKiB2b2ljZWQgKyAoMS10aGlzLlVJVGVuc2VuZXNzKiB0aGlzLmludGVuc2l0eSApICogMC4zO1xuICAgIH1cbiAgICBcbiAgICBmaW5pc2hCbG9jaygpIHtcbiAgICAgICAgdmFyIHZpYnJhdG8gPSAwO1xuICAgICAgICBpZiAodGhpcy5hZGRQaXRjaFZhcmlhbmNlKSB7XG4gICAgICAgICAgICAvLyBBZGQgc21hbGwgaW1wZXJmZWN0aW9ucyB0byB0aGUgdm9jYWwgb3V0cHV0XG4gICAgICAgICAgICB2aWJyYXRvICs9IHRoaXMudmlicmF0b0Ftb3VudCAqIE1hdGguc2luKDIqTWF0aC5QSSAqIHRoaXMudG90YWxUaW1lICp0aGlzLnZpYnJhdG9GcmVxdWVuY3kpOyAgICAgICAgICBcbiAgICAgICAgICAgIHZpYnJhdG8gKz0gMC4wMiAqIG5vaXNlLnNpbXBsZXgxKHRoaXMudG90YWxUaW1lICogNC4wNyk7XG4gICAgICAgICAgICB2aWJyYXRvICs9IDAuMDQgKiBub2lzZS5zaW1wbGV4MSh0aGlzLnRvdGFsVGltZSAqIDIuMTUpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAodGhpcy50cm9tYm9uZS5hdXRvV29iYmxlKVxuICAgICAgICB7XG4gICAgICAgICAgICB2aWJyYXRvICs9IDAuMiAqIG5vaXNlLnNpbXBsZXgxKHRoaXMudG90YWxUaW1lICogMC45OCk7XG4gICAgICAgICAgICB2aWJyYXRvICs9IDAuNCAqIG5vaXNlLnNpbXBsZXgxKHRoaXMudG90YWxUaW1lICogMC41KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLlVJRnJlcXVlbmN5PnRoaXMuc21vb3RoRnJlcXVlbmN5KSBcbiAgICAgICAgICAgIHRoaXMuc21vb3RoRnJlcXVlbmN5ID0gTWF0aC5taW4odGhpcy5zbW9vdGhGcmVxdWVuY3kgKiAxLjEsIHRoaXMuVUlGcmVxdWVuY3kpO1xuICAgICAgICBpZiAodGhpcy5VSUZyZXF1ZW5jeTx0aGlzLnNtb290aEZyZXF1ZW5jeSkgXG4gICAgICAgICAgICB0aGlzLnNtb290aEZyZXF1ZW5jeSA9IE1hdGgubWF4KHRoaXMuc21vb3RoRnJlcXVlbmN5IC8gMS4xLCB0aGlzLlVJRnJlcXVlbmN5KTtcbiAgICAgICAgdGhpcy5vbGRGcmVxdWVuY3kgPSB0aGlzLm5ld0ZyZXF1ZW5jeTtcbiAgICAgICAgdGhpcy5uZXdGcmVxdWVuY3kgPSB0aGlzLnNtb290aEZyZXF1ZW5jeSAqICgxK3ZpYnJhdG8pO1xuICAgICAgICB0aGlzLm9sZFRlbnNlbmVzcyA9IHRoaXMubmV3VGVuc2VuZXNzO1xuXG4gICAgICAgIGlmICh0aGlzLmFkZFRlbnNlbmVzc1ZhcmlhbmNlKVxuICAgICAgICAgICAgdGhpcy5uZXdUZW5zZW5lc3MgPSB0aGlzLlVJVGVuc2VuZXNzICsgMC4xKm5vaXNlLnNpbXBsZXgxKHRoaXMudG90YWxUaW1lKjAuNDYpKzAuMDUqbm9pc2Uuc2ltcGxleDEodGhpcy50b3RhbFRpbWUqMC4zNik7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMubmV3VGVuc2VuZXNzID0gdGhpcy5VSVRlbnNlbmVzcztcblxuICAgICAgICBpZiAoIXRoaXMuaXNUb3VjaGVkICYmIHRoaXMudHJvbWJvbmUuYWx3YXlzVm9pY2UpIHRoaXMubmV3VGVuc2VuZXNzICs9ICgzLXRoaXMuVUlUZW5zZW5lc3MpKigxLXRoaXMuaW50ZW5zaXR5KTtcbiAgICAgICAgXG4gICAgICAgIGlmICh0aGlzLmlzVG91Y2hlZCB8fCB0aGlzLnRyb21ib25lLmFsd2F5c1ZvaWNlKVxuICAgICAgICAgICAgdGhpcy5pbnRlbnNpdHkgKz0gMC4xMztcbiAgICAgICAgdGhpcy5pbnRlbnNpdHkgPSBNYXRoLmNsYW1wKHRoaXMuaW50ZW5zaXR5LCAwLCAxKTtcbiAgICB9XG4gICAgXG4gICAgc2V0dXBXYXZlZm9ybShsYW1iZGEpIHtcbiAgICAgICAgdGhpcy5mcmVxdWVuY3kgPSB0aGlzLm9sZEZyZXF1ZW5jeSooMS1sYW1iZGEpICsgdGhpcy5uZXdGcmVxdWVuY3kqbGFtYmRhO1xuICAgICAgICB2YXIgdGVuc2VuZXNzID0gdGhpcy5vbGRUZW5zZW5lc3MqKDEtbGFtYmRhKSArIHRoaXMubmV3VGVuc2VuZXNzKmxhbWJkYTtcbiAgICAgICAgdGhpcy5SZCA9IDMqKDEtdGVuc2VuZXNzKTtcbiAgICAgICAgdGhpcy53YXZlZm9ybUxlbmd0aCA9IDEuMC90aGlzLmZyZXF1ZW5jeTtcbiAgICAgICAgXG4gICAgICAgIHZhciBSZCA9IHRoaXMuUmQ7XG4gICAgICAgIGlmIChSZDwwLjUpIFJkID0gMC41O1xuICAgICAgICBpZiAoUmQ+Mi43KSBSZCA9IDIuNztcbiAgICAgICAgLy8gbm9ybWFsaXplZCB0byB0aW1lID0gMSwgRWUgPSAxXG4gICAgICAgIHZhciBSYSA9IC0wLjAxICsgMC4wNDgqUmQ7XG4gICAgICAgIHZhciBSayA9IDAuMjI0ICsgMC4xMTgqUmQ7XG4gICAgICAgIHZhciBSZyA9IChSay80KSooMC41KzEuMipSaykvKDAuMTEqUmQtUmEqKDAuNSsxLjIqUmspKTtcbiAgICAgICAgXG4gICAgICAgIHZhciBUYSA9IFJhO1xuICAgICAgICB2YXIgVHAgPSAxIC8gKDIqUmcpO1xuICAgICAgICB2YXIgVGUgPSBUcCArIFRwKlJrOyAvL1xuICAgICAgICBcbiAgICAgICAgdmFyIGVwc2lsb24gPSAxL1RhO1xuICAgICAgICB2YXIgc2hpZnQgPSBNYXRoLmV4cCgtZXBzaWxvbiAqICgxLVRlKSk7XG4gICAgICAgIHZhciBEZWx0YSA9IDEgLSBzaGlmdDsgLy9kaXZpZGUgYnkgdGhpcyB0byBzY2FsZSBSSFNcbiAgICAgICAgICAgXG4gICAgICAgIHZhciBSSFNJbnRlZ3JhbCA9ICgxL2Vwc2lsb24pKihzaGlmdCAtIDEpICsgKDEtVGUpKnNoaWZ0O1xuICAgICAgICBSSFNJbnRlZ3JhbCA9IFJIU0ludGVncmFsL0RlbHRhO1xuICAgICAgICBcbiAgICAgICAgdmFyIHRvdGFsTG93ZXJJbnRlZ3JhbCA9IC0gKFRlLVRwKS8yICsgUkhTSW50ZWdyYWw7XG4gICAgICAgIHZhciB0b3RhbFVwcGVySW50ZWdyYWwgPSAtdG90YWxMb3dlckludGVncmFsO1xuICAgICAgICBcbiAgICAgICAgdmFyIG9tZWdhID0gTWF0aC5QSS9UcDtcbiAgICAgICAgdmFyIHMgPSBNYXRoLnNpbihvbWVnYSpUZSk7XG4gICAgICAgIHZhciB5ID0gLU1hdGguUEkqcyp0b3RhbFVwcGVySW50ZWdyYWwgLyAoVHAqMik7XG4gICAgICAgIHZhciB6ID0gTWF0aC5sb2coeSk7XG4gICAgICAgIHZhciBhbHBoYSA9IHovKFRwLzIgLSBUZSk7XG4gICAgICAgIHZhciBFMCA9IC0xIC8gKHMqTWF0aC5leHAoYWxwaGEqVGUpKTtcbiAgICAgICAgdGhpcy5hbHBoYSA9IGFscGhhO1xuICAgICAgICB0aGlzLkUwID0gRTA7XG4gICAgICAgIHRoaXMuZXBzaWxvbiA9IGVwc2lsb247XG4gICAgICAgIHRoaXMuc2hpZnQgPSBzaGlmdDtcbiAgICAgICAgdGhpcy5EZWx0YSA9IERlbHRhO1xuICAgICAgICB0aGlzLlRlPVRlO1xuICAgICAgICB0aGlzLm9tZWdhID0gb21lZ2E7XG4gICAgfVxuICAgIFxuIFxuICAgIG5vcm1hbGl6ZWRMRldhdmVmb3JtKHQpIHsgICAgIFxuICAgICAgICBpZiAodD50aGlzLlRlKSB0aGlzLm91dHB1dCA9ICgtTWF0aC5leHAoLXRoaXMuZXBzaWxvbiAqICh0LXRoaXMuVGUpKSArIHRoaXMuc2hpZnQpL3RoaXMuRGVsdGE7XG4gICAgICAgIGVsc2UgdGhpcy5vdXRwdXQgPSB0aGlzLkUwICogTWF0aC5leHAodGhpcy5hbHBoYSp0KSAqIE1hdGguc2luKHRoaXMub21lZ2EgKiB0KTtcbiAgICAgXG4gICAgICAgIHJldHVybiB0aGlzLm91dHB1dCAqIHRoaXMuaW50ZW5zaXR5ICogdGhpcy5sb3VkbmVzcztcbiAgICB9XG59XG5cbmV4cG9ydCB7IEdsb3R0aXMgfTsiLCJjbGFzcyBUcmFjdFVJXG57XG5cbiAgICBjb25zdHJ1Y3Rvcih0cm9tYm9uZSkge1xuICAgICAgICB0aGlzLnRyb21ib25lID0gdHJvbWJvbmU7XG4gICAgICAgIFxuICAgICAgICB0aGlzLm9yaWdpblggPSAzNDA7IFxuICAgICAgICB0aGlzLm9yaWdpblkgPSA0NDk7IFxuICAgICAgICB0aGlzLnJhZGl1cyA9IDI5ODsgXG4gICAgICAgIHRoaXMuc2NhbGUgPSA2MDtcbiAgICAgICAgdGhpcy50b25ndWVJbmRleCA9IDEyLjk7XG4gICAgICAgIHRoaXMudG9uZ3VlRGlhbWV0ZXIgPSAyLjQzO1xuICAgICAgICB0aGlzLmlubmVyVG9uZ3VlQ29udHJvbFJhZGl1cyA9IDIuMDU7XG4gICAgICAgIHRoaXMub3V0ZXJUb25ndWVDb250cm9sUmFkaXVzID0gMy41O1xuICAgICAgICB0aGlzLnRvbmd1ZVRvdWNoID0gMDtcbiAgICAgICAgdGhpcy5hbmdsZVNjYWxlID0gMC42NDtcbiAgICAgICAgdGhpcy5hbmdsZU9mZnNldCA9IC0wLjI0O1xuICAgICAgICB0aGlzLm5vc2VPZmZzZXQgPSAwLjg7XG4gICAgICAgIHRoaXMuZ3JpZE9mZnNldCA9IDEuNztcblxuICAgICAgICAvLy8gRmluYWwgb3Blbm5lc3Mgb2YgdGhlIG1vdXRoIChjbG9zZXIgdG8gMCBpcyBtb3JlIGNsb3NlZClcbiAgICAgICAgdGhpcy50YXJnZXQgPSAwLjE7XG4gICAgICAgIC8vLyBJbmRleCBpbiB0aGUgdGhyb2F0IGFycmF5IHRvIG1vdmUgdG8gdGFyZ2V0XG4gICAgICAgIHRoaXMuaW5kZXggPSA0MjtcbiAgICAgICAgLy8vIE51bWJlciBvZiB0aHJvYXQgc2VnbWVudHMgdG8gY2xvc2UgYXJvdW5kIHRoZSBpbmRleFxuICAgICAgICB0aGlzLnJhZGl1cyA9IDA7XG4gICAgfVxuICAgIFxuICAgIGluaXQoKSB7XG4gICAgICAgIGxldCBUcmFjdCA9IHRoaXMudHJvbWJvbmUuVHJhY3Q7XG5cbiAgICAgICAgdGhpcy5zZXRSZXN0RGlhbWV0ZXIoKTtcbiAgICAgICAgZm9yICh2YXIgaT0wOyBpPFRyYWN0Lm47IGkrKykgXG4gICAgICAgIHtcbiAgICAgICAgICAgIFRyYWN0LmRpYW1ldGVyW2ldID0gVHJhY3QudGFyZ2V0RGlhbWV0ZXJbaV0gPSBUcmFjdC5yZXN0RGlhbWV0ZXJbaV07XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnRvbmd1ZUxvd2VySW5kZXhCb3VuZCA9IFRyYWN0LmJsYWRlU3RhcnQrMjtcbiAgICAgICAgdGhpcy50b25ndWVVcHBlckluZGV4Qm91bmQgPSBUcmFjdC50aXBTdGFydC0zO1xuICAgICAgICB0aGlzLnRvbmd1ZUluZGV4Q2VudHJlID0gMC41Kih0aGlzLnRvbmd1ZUxvd2VySW5kZXhCb3VuZCt0aGlzLnRvbmd1ZVVwcGVySW5kZXhCb3VuZCk7XG4gICAgfVxuICAgICAgICBcbiAgICBnZXRJbmRleCh4LHkpIHtcbiAgICAgICAgbGV0IFRyYWN0ID0gdGhpcy50cm9tYm9uZS5UcmFjdDtcblxuICAgICAgICB2YXIgeHggPSB4LXRoaXMub3JpZ2luWDsgdmFyIHl5ID0geS10aGlzLm9yaWdpblk7XG4gICAgICAgIHZhciBhbmdsZSA9IE1hdGguYXRhbjIoeXksIHh4KTtcbiAgICAgICAgd2hpbGUgKGFuZ2xlPiAwKSBhbmdsZSAtPSAyKk1hdGguUEk7XG4gICAgICAgIHJldHVybiAoTWF0aC5QSSArIGFuZ2xlIC0gdGhpcy5hbmdsZU9mZnNldCkqKFRyYWN0LmxpcFN0YXJ0LTEpIC8gKHRoaXMuYW5nbGVTY2FsZSpNYXRoLlBJKTtcbiAgICB9XG5cbiAgICBnZXREaWFtZXRlcih4LHkpIHtcbiAgICAgICAgdmFyIHh4ID0geC10aGlzLm9yaWdpblg7IHZhciB5eSA9IHktdGhpcy5vcmlnaW5ZO1xuICAgICAgICByZXR1cm4gKHRoaXMucmFkaXVzLU1hdGguc3FydCh4eCp4eCArIHl5Knl5KSkvdGhpcy5zY2FsZTtcbiAgICB9XG4gICAgXG4gICAgc2V0UmVzdERpYW1ldGVyKCkge1xuICAgICAgICBsZXQgVHJhY3QgPSB0aGlzLnRyb21ib25lLlRyYWN0O1xuXG4gICAgICAgIGZvciAodmFyIGk9VHJhY3QuYmxhZGVTdGFydDsgaTxUcmFjdC5saXBTdGFydDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgdCA9IDEuMSAqIE1hdGguUEkqKHRoaXMudG9uZ3VlSW5kZXggLSBpKS8oVHJhY3QudGlwU3RhcnQgLSBUcmFjdC5ibGFkZVN0YXJ0KTtcbiAgICAgICAgICAgIHZhciBmaXhlZFRvbmd1ZURpYW1ldGVyID0gMisodGhpcy50b25ndWVEaWFtZXRlci0yKS8xLjU7XG4gICAgICAgICAgICB2YXIgY3VydmUgPSAoMS41LWZpeGVkVG9uZ3VlRGlhbWV0ZXIrdGhpcy5ncmlkT2Zmc2V0KSpNYXRoLmNvcyh0KTtcbiAgICAgICAgICAgIGlmIChpID09IFRyYWN0LmJsYWRlU3RhcnQtMiB8fCBpID09IFRyYWN0LmxpcFN0YXJ0LTEpIGN1cnZlICo9IDAuODtcbiAgICAgICAgICAgIGlmIChpID09IFRyYWN0LmJsYWRlU3RhcnQgfHwgaSA9PSBUcmFjdC5saXBTdGFydC0yKSBjdXJ2ZSAqPSAwLjk0OyAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgVHJhY3QucmVzdERpYW1ldGVyW2ldID0gMS41IC0gY3VydmU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBsaXBzIG9mIHRoZSBtb2RlbGVkIHRyYWN0IHRvIGJlIGNsb3NlZCBieSB0aGUgc3BlY2lmaWVkIGFtb3VudC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcHJvZ3Jlc3MgUGVyY2VudGFnZSBjbG9zZWQgKG51bWJlciBiZXR3ZWVuIDAgYW5kIDEpXG4gICAgICovXG4gICAgU2V0TGlwc0Nsb3NlZChwcm9ncmVzcykge1xuXG4gICAgICAgIGxldCBUcmFjdCA9IHRoaXMudHJvbWJvbmUuVHJhY3Q7XG4gICAgICAgIFxuICAgICAgICB0aGlzLnNldFJlc3REaWFtZXRlcigpO1xuICAgICAgICBmb3IgKHZhciBpPTA7IGk8VHJhY3QubjsgaSsrKSBUcmFjdC50YXJnZXREaWFtZXRlcltpXSA9IFRyYWN0LnJlc3REaWFtZXRlcltpXTsgICAgXG5cbiAgICAgICAgLy8gRGlzYWJsZSB0aGlzIGJlaGF2aW9yIGlmIHRoZSBtb3V0aCBpcyBjbG9zZWQgYSBjZXJ0YWluIGFtb3VudFxuICAgICAgICAvL2lmIChwcm9ncmVzcyA+IDAuOCB8fCBwcm9ncmVzcyA8IDAuMSkgcmV0dXJuO1xuICAgICAgICBcbiAgICAgICAgZm9yKGxldCBpPSB0aGlzLmluZGV4IC0gdGhpcy5yYWRpdXM7IGkgPD0gdGhpcy5pbmRleCArIHRoaXMucmFkaXVzOyBpKyspe1xuICAgICAgICAgICAgaWYgKGkgPiBUcmFjdC50YXJnZXREaWFtZXRlci5sZW5ndGggfHwgaSA8IDApIGNvbnRpbnVlO1xuICAgICAgICAgICAgbGV0IGludGVycCA9IE1hdGgubGVycChUcmFjdC5yZXN0RGlhbWV0ZXJbaV0sIHRoaXMudGFyZ2V0LCBwcm9ncmVzcyk7XG4gICAgICAgICAgICBUcmFjdC50YXJnZXREaWFtZXRlcltpXSA9IGludGVycDtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5cbmV4cG9ydCB7IFRyYWN0VUkgfTsiLCJjbGFzcyBUcmFjdCB7XG5cbiAgICBjb25zdHJ1Y3Rvcih0cm9tYm9uZSkge1xuICAgICAgICB0aGlzLnRyb21ib25lID0gdHJvbWJvbmU7XG5cbiAgICAgICAgdGhpcy5uID0gNDQ7XG4gICAgICAgIHRoaXMuYmxhZGVTdGFydCA9IDEwO1xuICAgICAgICB0aGlzLnRpcFN0YXJ0ID0gMzI7XG4gICAgICAgIHRoaXMubGlwU3RhcnQgPSAzOTtcbiAgICAgICAgdGhpcy5SID0gW107IC8vY29tcG9uZW50IGdvaW5nIHJpZ2h0XG4gICAgICAgIHRoaXMuTCA9IFtdOyAvL2NvbXBvbmVudCBnb2luZyBsZWZ0XG4gICAgICAgIHRoaXMucmVmbGVjdGlvbiA9IFtdO1xuICAgICAgICB0aGlzLmp1bmN0aW9uT3V0cHV0UiA9IFtdO1xuICAgICAgICB0aGlzLmp1bmN0aW9uT3V0cHV0TCA9IFtdO1xuICAgICAgICB0aGlzLm1heEFtcGxpdHVkZSA9IFtdO1xuICAgICAgICB0aGlzLmRpYW1ldGVyID0gW107XG4gICAgICAgIHRoaXMucmVzdERpYW1ldGVyID0gW107XG4gICAgICAgIHRoaXMudGFyZ2V0RGlhbWV0ZXIgPSBbXTtcbiAgICAgICAgdGhpcy5uZXdEaWFtZXRlciA9IFtdO1xuICAgICAgICB0aGlzLkEgPSBbXTtcbiAgICAgICAgdGhpcy5nbG90dGFsUmVmbGVjdGlvbiA9IDAuNzU7XG4gICAgICAgIHRoaXMubGlwUmVmbGVjdGlvbiA9IC0wLjg1O1xuICAgICAgICB0aGlzLmxhc3RPYnN0cnVjdGlvbiA9IC0xO1xuICAgICAgICB0aGlzLmZhZGUgPSAxLjA7IC8vMC45OTk5LFxuICAgICAgICB0aGlzLm1vdmVtZW50U3BlZWQgPSAxNTsgLy9jbSBwZXIgc2Vjb25kXG4gICAgICAgIHRoaXMudHJhbnNpZW50cyA9IFtdO1xuICAgICAgICB0aGlzLmxpcE91dHB1dCA9IDA7XG4gICAgICAgIHRoaXMubm9zZU91dHB1dCA9IDA7XG4gICAgICAgIHRoaXMudmVsdW1UYXJnZXQgPSAwLjAxO1xuICAgIH1cblxuICAgIGluaXQoKSB7XG4gICAgICAgIHRoaXMuYmxhZGVTdGFydCA9IE1hdGguZmxvb3IodGhpcy5ibGFkZVN0YXJ0KnRoaXMubi80NCk7XG4gICAgICAgIHRoaXMudGlwU3RhcnQgPSBNYXRoLmZsb29yKHRoaXMudGlwU3RhcnQqdGhpcy5uLzQ0KTtcbiAgICAgICAgdGhpcy5saXBTdGFydCA9IE1hdGguZmxvb3IodGhpcy5saXBTdGFydCp0aGlzLm4vNDQpOyAgICAgICAgXG4gICAgICAgIHRoaXMuZGlhbWV0ZXIgPSBuZXcgRmxvYXQ2NEFycmF5KHRoaXMubik7XG4gICAgICAgIHRoaXMucmVzdERpYW1ldGVyID0gbmV3IEZsb2F0NjRBcnJheSh0aGlzLm4pO1xuICAgICAgICB0aGlzLnRhcmdldERpYW1ldGVyID0gbmV3IEZsb2F0NjRBcnJheSh0aGlzLm4pO1xuICAgICAgICB0aGlzLm5ld0RpYW1ldGVyID0gbmV3IEZsb2F0NjRBcnJheSh0aGlzLm4pO1xuICAgICAgICBmb3IgKHZhciBpPTA7IGk8dGhpcy5uOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBkaWFtZXRlciA9IDA7XG4gICAgICAgICAgICBpZiAoaTw3KnRoaXMubi80NC0wLjUpIGRpYW1ldGVyID0gMC42O1xuICAgICAgICAgICAgZWxzZSBpZiAoaTwxMip0aGlzLm4vNDQpIGRpYW1ldGVyID0gMS4xO1xuICAgICAgICAgICAgZWxzZSBkaWFtZXRlciA9IDEuNTtcbiAgICAgICAgICAgIHRoaXMuZGlhbWV0ZXJbaV0gPSB0aGlzLnJlc3REaWFtZXRlcltpXSA9IHRoaXMudGFyZ2V0RGlhbWV0ZXJbaV0gPSB0aGlzLm5ld0RpYW1ldGVyW2ldID0gZGlhbWV0ZXI7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5SID0gbmV3IEZsb2F0NjRBcnJheSh0aGlzLm4pO1xuICAgICAgICB0aGlzLkwgPSBuZXcgRmxvYXQ2NEFycmF5KHRoaXMubik7XG4gICAgICAgIHRoaXMucmVmbGVjdGlvbiA9IG5ldyBGbG9hdDY0QXJyYXkodGhpcy5uKzEpO1xuICAgICAgICB0aGlzLm5ld1JlZmxlY3Rpb24gPSBuZXcgRmxvYXQ2NEFycmF5KHRoaXMubisxKTtcbiAgICAgICAgdGhpcy5qdW5jdGlvbk91dHB1dFIgPSBuZXcgRmxvYXQ2NEFycmF5KHRoaXMubisxKTtcbiAgICAgICAgdGhpcy5qdW5jdGlvbk91dHB1dEwgPSBuZXcgRmxvYXQ2NEFycmF5KHRoaXMubisxKTtcbiAgICAgICAgdGhpcy5BID1uZXcgRmxvYXQ2NEFycmF5KHRoaXMubik7XG4gICAgICAgIHRoaXMubWF4QW1wbGl0dWRlID0gbmV3IEZsb2F0NjRBcnJheSh0aGlzLm4pO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5ub3NlTGVuZ3RoID0gTWF0aC5mbG9vcigyOCp0aGlzLm4vNDQpXG4gICAgICAgIHRoaXMubm9zZVN0YXJ0ID0gdGhpcy5uLXRoaXMubm9zZUxlbmd0aCArIDE7XG4gICAgICAgIHRoaXMubm9zZVIgPSBuZXcgRmxvYXQ2NEFycmF5KHRoaXMubm9zZUxlbmd0aCk7XG4gICAgICAgIHRoaXMubm9zZUwgPSBuZXcgRmxvYXQ2NEFycmF5KHRoaXMubm9zZUxlbmd0aCk7XG4gICAgICAgIHRoaXMubm9zZUp1bmN0aW9uT3V0cHV0UiA9IG5ldyBGbG9hdDY0QXJyYXkodGhpcy5ub3NlTGVuZ3RoKzEpO1xuICAgICAgICB0aGlzLm5vc2VKdW5jdGlvbk91dHB1dEwgPSBuZXcgRmxvYXQ2NEFycmF5KHRoaXMubm9zZUxlbmd0aCsxKTsgICAgICAgIFxuICAgICAgICB0aGlzLm5vc2VSZWZsZWN0aW9uID0gbmV3IEZsb2F0NjRBcnJheSh0aGlzLm5vc2VMZW5ndGgrMSk7XG4gICAgICAgIHRoaXMubm9zZURpYW1ldGVyID0gbmV3IEZsb2F0NjRBcnJheSh0aGlzLm5vc2VMZW5ndGgpO1xuICAgICAgICB0aGlzLm5vc2VBID0gbmV3IEZsb2F0NjRBcnJheSh0aGlzLm5vc2VMZW5ndGgpO1xuICAgICAgICB0aGlzLm5vc2VNYXhBbXBsaXR1ZGUgPSBuZXcgRmxvYXQ2NEFycmF5KHRoaXMubm9zZUxlbmd0aCk7XG4gICAgICAgIGZvciAodmFyIGk9MDsgaTx0aGlzLm5vc2VMZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGRpYW1ldGVyO1xuICAgICAgICAgICAgdmFyIGQgPSAyKihpL3RoaXMubm9zZUxlbmd0aCk7XG4gICAgICAgICAgICBpZiAoZDwxKSBkaWFtZXRlciA9IDAuNCsxLjYqZDtcbiAgICAgICAgICAgIGVsc2UgZGlhbWV0ZXIgPSAwLjUrMS41KigyLWQpO1xuICAgICAgICAgICAgZGlhbWV0ZXIgPSBNYXRoLm1pbihkaWFtZXRlciwgMS45KTtcbiAgICAgICAgICAgIHRoaXMubm9zZURpYW1ldGVyW2ldID0gZGlhbWV0ZXI7XG4gICAgICAgIH0gICAgICAgXG4gICAgICAgIHRoaXMubmV3UmVmbGVjdGlvbkxlZnQgPSB0aGlzLm5ld1JlZmxlY3Rpb25SaWdodCA9IHRoaXMubmV3UmVmbGVjdGlvbk5vc2UgPSAwO1xuICAgICAgICB0aGlzLmNhbGN1bGF0ZVJlZmxlY3Rpb25zKCk7ICAgICAgICBcbiAgICAgICAgdGhpcy5jYWxjdWxhdGVOb3NlUmVmbGVjdGlvbnMoKTtcbiAgICAgICAgdGhpcy5ub3NlRGlhbWV0ZXJbMF0gPSB0aGlzLnZlbHVtVGFyZ2V0O1xuICAgIH1cbiAgICBcbiAgICByZXNoYXBlVHJhY3QoZGVsdGFUaW1lKSB7XG4gICAgICAgIHZhciBhbW91bnQgPSBkZWx0YVRpbWUgKiB0aGlzLm1vdmVtZW50U3BlZWQ7IDsgICAgXG4gICAgICAgIHZhciBuZXdMYXN0T2JzdHJ1Y3Rpb24gPSAtMTtcbiAgICAgICAgZm9yICh2YXIgaT0wOyBpPHRoaXMubjsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgZGlhbWV0ZXIgPSB0aGlzLmRpYW1ldGVyW2ldO1xuICAgICAgICAgICAgdmFyIHRhcmdldERpYW1ldGVyID0gdGhpcy50YXJnZXREaWFtZXRlcltpXTtcbiAgICAgICAgICAgIGlmIChkaWFtZXRlciA8PSAwKSBuZXdMYXN0T2JzdHJ1Y3Rpb24gPSBpO1xuICAgICAgICAgICAgdmFyIHNsb3dSZXR1cm47IFxuICAgICAgICAgICAgaWYgKGk8dGhpcy5ub3NlU3RhcnQpIHNsb3dSZXR1cm4gPSAwLjY7XG4gICAgICAgICAgICBlbHNlIGlmIChpID49IHRoaXMudGlwU3RhcnQpIHNsb3dSZXR1cm4gPSAxLjA7IFxuICAgICAgICAgICAgZWxzZSBzbG93UmV0dXJuID0gMC42KzAuNCooaS10aGlzLm5vc2VTdGFydCkvKHRoaXMudGlwU3RhcnQtdGhpcy5ub3NlU3RhcnQpO1xuICAgICAgICAgICAgdGhpcy5kaWFtZXRlcltpXSA9IE1hdGgubW92ZVRvd2FyZHMoZGlhbWV0ZXIsIHRhcmdldERpYW1ldGVyLCBzbG93UmV0dXJuKmFtb3VudCwgMiphbW91bnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmxhc3RPYnN0cnVjdGlvbj4tMSAmJiBuZXdMYXN0T2JzdHJ1Y3Rpb24gPT0gLTEgJiYgdGhpcy5ub3NlQVswXTwwLjA1KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmFkZFRyYW5zaWVudCh0aGlzLmxhc3RPYnN0cnVjdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sYXN0T2JzdHJ1Y3Rpb24gPSBuZXdMYXN0T2JzdHJ1Y3Rpb247XG4gICAgICAgIFxuICAgICAgICBhbW91bnQgPSBkZWx0YVRpbWUgKiB0aGlzLm1vdmVtZW50U3BlZWQ7IFxuICAgICAgICB0aGlzLm5vc2VEaWFtZXRlclswXSA9IE1hdGgubW92ZVRvd2FyZHModGhpcy5ub3NlRGlhbWV0ZXJbMF0sIHRoaXMudmVsdW1UYXJnZXQsIFxuICAgICAgICAgICAgICAgIGFtb3VudCowLjI1LCBhbW91bnQqMC4xKTtcbiAgICAgICAgdGhpcy5ub3NlQVswXSA9IHRoaXMubm9zZURpYW1ldGVyWzBdKnRoaXMubm9zZURpYW1ldGVyWzBdOyAgICAgICAgXG4gICAgfVxuICAgIFxuICAgIGNhbGN1bGF0ZVJlZmxlY3Rpb25zKCkge1xuICAgICAgICBmb3IgKHZhciBpPTA7IGk8dGhpcy5uOyBpKyspIFxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLkFbaV0gPSB0aGlzLmRpYW1ldGVyW2ldKnRoaXMuZGlhbWV0ZXJbaV07IC8vaWdub3JpbmcgUEkgZXRjLlxuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGk9MTsgaTx0aGlzLm47IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5yZWZsZWN0aW9uW2ldID0gdGhpcy5uZXdSZWZsZWN0aW9uW2ldO1xuICAgICAgICAgICAgaWYgKHRoaXMuQVtpXSA9PSAwKSB0aGlzLm5ld1JlZmxlY3Rpb25baV0gPSAwLjk5OTsgLy90byBwcmV2ZW50IHNvbWUgYmFkIGJlaGF2aW91ciBpZiAwXG4gICAgICAgICAgICBlbHNlIHRoaXMubmV3UmVmbGVjdGlvbltpXSA9ICh0aGlzLkFbaS0xXS10aGlzLkFbaV0pIC8gKHRoaXMuQVtpLTFdK3RoaXMuQVtpXSk7IFxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvL25vdyBhdCBqdW5jdGlvbiB3aXRoIG5vc2VcblxuICAgICAgICB0aGlzLnJlZmxlY3Rpb25MZWZ0ID0gdGhpcy5uZXdSZWZsZWN0aW9uTGVmdDtcbiAgICAgICAgdGhpcy5yZWZsZWN0aW9uUmlnaHQgPSB0aGlzLm5ld1JlZmxlY3Rpb25SaWdodDtcbiAgICAgICAgdGhpcy5yZWZsZWN0aW9uTm9zZSA9IHRoaXMubmV3UmVmbGVjdGlvbk5vc2U7XG4gICAgICAgIHZhciBzdW0gPSB0aGlzLkFbdGhpcy5ub3NlU3RhcnRdK3RoaXMuQVt0aGlzLm5vc2VTdGFydCsxXSt0aGlzLm5vc2VBWzBdO1xuICAgICAgICB0aGlzLm5ld1JlZmxlY3Rpb25MZWZ0ID0gKDIqdGhpcy5BW3RoaXMubm9zZVN0YXJ0XS1zdW0pL3N1bTtcbiAgICAgICAgdGhpcy5uZXdSZWZsZWN0aW9uUmlnaHQgPSAoMip0aGlzLkFbdGhpcy5ub3NlU3RhcnQrMV0tc3VtKS9zdW07ICAgXG4gICAgICAgIHRoaXMubmV3UmVmbGVjdGlvbk5vc2UgPSAoMip0aGlzLm5vc2VBWzBdLXN1bSkvc3VtOyAgICAgIFxuICAgIH1cblxuICAgIGNhbGN1bGF0ZU5vc2VSZWZsZWN0aW9ucygpIHtcbiAgICAgICAgZm9yICh2YXIgaT0wOyBpPHRoaXMubm9zZUxlbmd0aDsgaSsrKSBcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5ub3NlQVtpXSA9IHRoaXMubm9zZURpYW1ldGVyW2ldKnRoaXMubm9zZURpYW1ldGVyW2ldOyBcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpPTE7IGk8dGhpcy5ub3NlTGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubm9zZVJlZmxlY3Rpb25baV0gPSAodGhpcy5ub3NlQVtpLTFdLXRoaXMubm9zZUFbaV0pIC8gKHRoaXMubm9zZUFbaS0xXSt0aGlzLm5vc2VBW2ldKTsgXG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgcnVuU3RlcChnbG90dGFsT3V0cHV0LCB0dXJidWxlbmNlTm9pc2UsIGxhbWJkYSkge1xuICAgICAgICB2YXIgdXBkYXRlQW1wbGl0dWRlcyA9IChNYXRoLnJhbmRvbSgpPDAuMSk7XG4gICAgXG4gICAgICAgIC8vbW91dGhcbiAgICAgICAgdGhpcy5wcm9jZXNzVHJhbnNpZW50cygpO1xuICAgICAgICB0aGlzLmFkZFR1cmJ1bGVuY2VOb2lzZSh0dXJidWxlbmNlTm9pc2UpO1xuICAgICAgICBcbiAgICAgICAgLy90aGlzLmdsb3R0YWxSZWZsZWN0aW9uID0gLTAuOCArIDEuNiAqIEdsb3R0aXMubmV3VGVuc2VuZXNzO1xuICAgICAgICB0aGlzLmp1bmN0aW9uT3V0cHV0UlswXSA9IHRoaXMuTFswXSAqIHRoaXMuZ2xvdHRhbFJlZmxlY3Rpb24gKyBnbG90dGFsT3V0cHV0O1xuICAgICAgICB0aGlzLmp1bmN0aW9uT3V0cHV0TFt0aGlzLm5dID0gdGhpcy5SW3RoaXMubi0xXSAqIHRoaXMubGlwUmVmbGVjdGlvbjsgXG4gICAgICAgIFxuICAgICAgICBmb3IgKHZhciBpPTE7IGk8dGhpcy5uOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciByID0gdGhpcy5yZWZsZWN0aW9uW2ldICogKDEtbGFtYmRhKSArIHRoaXMubmV3UmVmbGVjdGlvbltpXSpsYW1iZGE7XG4gICAgICAgICAgICB2YXIgdyA9IHIgKiAodGhpcy5SW2ktMV0gKyB0aGlzLkxbaV0pO1xuICAgICAgICAgICAgdGhpcy5qdW5jdGlvbk91dHB1dFJbaV0gPSB0aGlzLlJbaS0xXSAtIHc7XG4gICAgICAgICAgICB0aGlzLmp1bmN0aW9uT3V0cHV0TFtpXSA9IHRoaXMuTFtpXSArIHc7XG4gICAgICAgIH0gICAgXG4gICAgICAgIFxuICAgICAgICAvL25vdyBhdCBqdW5jdGlvbiB3aXRoIG5vc2VcbiAgICAgICAgdmFyIGkgPSB0aGlzLm5vc2VTdGFydDtcbiAgICAgICAgdmFyIHIgPSB0aGlzLm5ld1JlZmxlY3Rpb25MZWZ0ICogKDEtbGFtYmRhKSArIHRoaXMucmVmbGVjdGlvbkxlZnQqbGFtYmRhO1xuICAgICAgICB0aGlzLmp1bmN0aW9uT3V0cHV0TFtpXSA9IHIqdGhpcy5SW2ktMV0rKDErcikqKHRoaXMubm9zZUxbMF0rdGhpcy5MW2ldKTtcbiAgICAgICAgciA9IHRoaXMubmV3UmVmbGVjdGlvblJpZ2h0ICogKDEtbGFtYmRhKSArIHRoaXMucmVmbGVjdGlvblJpZ2h0KmxhbWJkYTtcbiAgICAgICAgdGhpcy5qdW5jdGlvbk91dHB1dFJbaV0gPSByKnRoaXMuTFtpXSsoMStyKSoodGhpcy5SW2ktMV0rdGhpcy5ub3NlTFswXSk7ICAgICBcbiAgICAgICAgciA9IHRoaXMubmV3UmVmbGVjdGlvbk5vc2UgKiAoMS1sYW1iZGEpICsgdGhpcy5yZWZsZWN0aW9uTm9zZSpsYW1iZGE7XG4gICAgICAgIHRoaXMubm9zZUp1bmN0aW9uT3V0cHV0UlswXSA9IHIqdGhpcy5ub3NlTFswXSsoMStyKSoodGhpcy5MW2ldK3RoaXMuUltpLTFdKTtcbiAgICAgICAgIFxuICAgICAgICBmb3IgKHZhciBpPTA7IGk8dGhpcy5uOyBpKyspXG4gICAgICAgIHsgICAgICAgICAgXG4gICAgICAgICAgICB0aGlzLlJbaV0gPSB0aGlzLmp1bmN0aW9uT3V0cHV0UltpXSowLjk5OTtcbiAgICAgICAgICAgIHRoaXMuTFtpXSA9IHRoaXMuanVuY3Rpb25PdXRwdXRMW2krMV0qMC45OTk7IFxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvL3RoaXMuUltpXSA9IE1hdGguY2xhbXAodGhpcy5qdW5jdGlvbk91dHB1dFJbaV0gKiB0aGlzLmZhZGUsIC0xLCAxKTtcbiAgICAgICAgICAgIC8vdGhpcy5MW2ldID0gTWF0aC5jbGFtcCh0aGlzLmp1bmN0aW9uT3V0cHV0TFtpKzFdICogdGhpcy5mYWRlLCAtMSwgMSk7ICAgIFxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAodXBkYXRlQW1wbGl0dWRlcylcbiAgICAgICAgICAgIHsgICBcbiAgICAgICAgICAgICAgICB2YXIgYW1wbGl0dWRlID0gTWF0aC5hYnModGhpcy5SW2ldK3RoaXMuTFtpXSk7XG4gICAgICAgICAgICAgICAgaWYgKGFtcGxpdHVkZSA+IHRoaXMubWF4QW1wbGl0dWRlW2ldKSB0aGlzLm1heEFtcGxpdHVkZVtpXSA9IGFtcGxpdHVkZTtcbiAgICAgICAgICAgICAgICBlbHNlIHRoaXMubWF4QW1wbGl0dWRlW2ldICo9IDAuOTk5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5saXBPdXRwdXQgPSB0aGlzLlJbdGhpcy5uLTFdO1xuICAgICAgICBcbiAgICAgICAgLy9ub3NlICAgICBcbiAgICAgICAgdGhpcy5ub3NlSnVuY3Rpb25PdXRwdXRMW3RoaXMubm9zZUxlbmd0aF0gPSB0aGlzLm5vc2VSW3RoaXMubm9zZUxlbmd0aC0xXSAqIHRoaXMubGlwUmVmbGVjdGlvbjsgXG4gICAgICAgIFxuICAgICAgICBmb3IgKHZhciBpPTE7IGk8dGhpcy5ub3NlTGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciB3ID0gdGhpcy5ub3NlUmVmbGVjdGlvbltpXSAqICh0aGlzLm5vc2VSW2ktMV0gKyB0aGlzLm5vc2VMW2ldKTtcbiAgICAgICAgICAgIHRoaXMubm9zZUp1bmN0aW9uT3V0cHV0UltpXSA9IHRoaXMubm9zZVJbaS0xXSAtIHc7XG4gICAgICAgICAgICB0aGlzLm5vc2VKdW5jdGlvbk91dHB1dExbaV0gPSB0aGlzLm5vc2VMW2ldICsgdztcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgZm9yICh2YXIgaT0wOyBpPHRoaXMubm9zZUxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLm5vc2VSW2ldID0gdGhpcy5ub3NlSnVuY3Rpb25PdXRwdXRSW2ldICogdGhpcy5mYWRlO1xuICAgICAgICAgICAgdGhpcy5ub3NlTFtpXSA9IHRoaXMubm9zZUp1bmN0aW9uT3V0cHV0TFtpKzFdICogdGhpcy5mYWRlOyAgIFxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvL3RoaXMubm9zZVJbaV0gPSBNYXRoLmNsYW1wKHRoaXMubm9zZUp1bmN0aW9uT3V0cHV0UltpXSAqIHRoaXMuZmFkZSwgLTEsIDEpO1xuICAgICAgICAgICAgLy90aGlzLm5vc2VMW2ldID0gTWF0aC5jbGFtcCh0aGlzLm5vc2VKdW5jdGlvbk91dHB1dExbaSsxXSAqIHRoaXMuZmFkZSwgLTEsIDEpOyAgICBcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKHVwZGF0ZUFtcGxpdHVkZXMpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyIGFtcGxpdHVkZSA9IE1hdGguYWJzKHRoaXMubm9zZVJbaV0rdGhpcy5ub3NlTFtpXSk7XG4gICAgICAgICAgICAgICAgaWYgKGFtcGxpdHVkZSA+IHRoaXMubm9zZU1heEFtcGxpdHVkZVtpXSkgdGhpcy5ub3NlTWF4QW1wbGl0dWRlW2ldID0gYW1wbGl0dWRlO1xuICAgICAgICAgICAgICAgIGVsc2UgdGhpcy5ub3NlTWF4QW1wbGl0dWRlW2ldICo9IDAuOTk5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5ub3NlT3V0cHV0ID0gdGhpcy5ub3NlUlt0aGlzLm5vc2VMZW5ndGgtMV07XG4gICAgICAgXG4gICAgfVxuICAgIFxuICAgIGZpbmlzaEJsb2NrKCkgeyAgICAgICAgIFxuICAgICAgICB0aGlzLnJlc2hhcGVUcmFjdCh0aGlzLnRyb21ib25lLkF1ZGlvU3lzdGVtLmJsb2NrVGltZSk7XG4gICAgICAgIHRoaXMuY2FsY3VsYXRlUmVmbGVjdGlvbnMoKTtcbiAgICB9XG4gICAgXG4gICAgYWRkVHJhbnNpZW50KHBvc2l0aW9uKSB7XG4gICAgICAgIHZhciB0cmFucyA9IHt9XG4gICAgICAgIHRyYW5zLnBvc2l0aW9uID0gcG9zaXRpb247XG4gICAgICAgIHRyYW5zLnRpbWVBbGl2ZSA9IDA7XG4gICAgICAgIHRyYW5zLmxpZmVUaW1lID0gMC4yO1xuICAgICAgICB0cmFucy5zdHJlbmd0aCA9IDAuMztcbiAgICAgICAgdHJhbnMuZXhwb25lbnQgPSAyMDA7XG4gICAgICAgIHRoaXMudHJhbnNpZW50cy5wdXNoKHRyYW5zKTtcbiAgICB9XG4gICAgXG4gICAgcHJvY2Vzc1RyYW5zaWVudHMoKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy50cmFuc2llbnRzLmxlbmd0aDsgaSsrKSAgXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciB0cmFucyA9IHRoaXMudHJhbnNpZW50c1tpXTtcbiAgICAgICAgICAgIHZhciBhbXBsaXR1ZGUgPSB0cmFucy5zdHJlbmd0aCAqIE1hdGgucG93KDIsIC10cmFucy5leHBvbmVudCAqIHRyYW5zLnRpbWVBbGl2ZSk7XG4gICAgICAgICAgICB0aGlzLlJbdHJhbnMucG9zaXRpb25dICs9IGFtcGxpdHVkZS8yO1xuICAgICAgICAgICAgdGhpcy5MW3RyYW5zLnBvc2l0aW9uXSArPSBhbXBsaXR1ZGUvMjtcbiAgICAgICAgICAgIHRyYW5zLnRpbWVBbGl2ZSArPSAxLjAvKHRoaXMudHJvbWJvbmUuc2FtcGxlUmF0ZSoyKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpPXRoaXMudHJhbnNpZW50cy5sZW5ndGgtMTsgaT49MDsgaS0tKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgdHJhbnMgPSB0aGlzLnRyYW5zaWVudHNbaV07XG4gICAgICAgICAgICBpZiAodHJhbnMudGltZUFsaXZlID4gdHJhbnMubGlmZVRpbWUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2llbnRzLnNwbGljZShpLDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIGFkZFR1cmJ1bGVuY2VOb2lzZSh0dXJidWxlbmNlTm9pc2UpIHtcbiAgICAgICAgLy8gZm9yICh2YXIgaj0wOyBqPFVJLnRvdWNoZXNXaXRoTW91c2UubGVuZ3RoOyBqKyspXG4gICAgICAgIC8vIHtcbiAgICAgICAgLy8gICAgIHZhciB0b3VjaCA9IFVJLnRvdWNoZXNXaXRoTW91c2Vbal07XG4gICAgICAgIC8vICAgICBpZiAodG91Y2guaW5kZXg8MiB8fCB0b3VjaC5pbmRleD5UcmFjdC5uKSBjb250aW51ZTtcbiAgICAgICAgLy8gICAgIGlmICh0b3VjaC5kaWFtZXRlcjw9MCkgY29udGludWU7ICAgICAgICAgICAgXG4gICAgICAgIC8vICAgICB2YXIgaW50ZW5zaXR5ID0gdG91Y2guZnJpY2F0aXZlX2ludGVuc2l0eTtcbiAgICAgICAgLy8gICAgIGlmIChpbnRlbnNpdHkgPT0gMCkgY29udGludWU7XG4gICAgICAgIC8vICAgICB0aGlzLmFkZFR1cmJ1bGVuY2VOb2lzZUF0SW5kZXgoMC42Nip0dXJidWxlbmNlTm9pc2UqaW50ZW5zaXR5LCB0b3VjaC5pbmRleCwgdG91Y2guZGlhbWV0ZXIpO1xuICAgICAgICAvLyB9XG4gICAgfVxuICAgIFxuICAgIGFkZFR1cmJ1bGVuY2VOb2lzZUF0SW5kZXgodHVyYnVsZW5jZU5vaXNlLCBpbmRleCwgZGlhbWV0ZXIpIHsgICBcbiAgICAgICAgdmFyIGkgPSBNYXRoLmZsb29yKGluZGV4KTtcbiAgICAgICAgdmFyIGRlbHRhID0gaW5kZXggLSBpO1xuICAgICAgICB0dXJidWxlbmNlTm9pc2UgKj0gdGhpcy50cm9tYm9uZS5HbG90dGlzLmdldE5vaXNlTW9kdWxhdG9yKCk7XG4gICAgICAgIHZhciB0aGlubmVzczAgPSBNYXRoLmNsYW1wKDgqKDAuNy1kaWFtZXRlciksMCwxKTtcbiAgICAgICAgdmFyIG9wZW5uZXNzID0gTWF0aC5jbGFtcCgzMCooZGlhbWV0ZXItMC4zKSwgMCwgMSk7XG4gICAgICAgIHZhciBub2lzZTAgPSB0dXJidWxlbmNlTm9pc2UqKDEtZGVsdGEpKnRoaW5uZXNzMCpvcGVubmVzcztcbiAgICAgICAgdmFyIG5vaXNlMSA9IHR1cmJ1bGVuY2VOb2lzZSpkZWx0YSp0aGlubmVzczAqb3Blbm5lc3M7XG4gICAgICAgIHRoaXMuUltpKzFdICs9IG5vaXNlMC8yO1xuICAgICAgICB0aGlzLkxbaSsxXSArPSBub2lzZTAvMjtcbiAgICAgICAgdGhpcy5SW2krMl0gKz0gbm9pc2UxLzI7XG4gICAgICAgIHRoaXMuTFtpKzJdICs9IG5vaXNlMS8yO1xuICAgIH1cbn07XG5cbmV4cG9ydCB7IFRyYWN0IH07IiwiTWF0aC5jbGFtcCA9IGZ1bmN0aW9uKG51bWJlciwgbWluLCBtYXgpIHtcbiAgICBpZiAobnVtYmVyPG1pbikgcmV0dXJuIG1pbjtcbiAgICBlbHNlIGlmIChudW1iZXI+bWF4KSByZXR1cm4gbWF4O1xuICAgIGVsc2UgcmV0dXJuIG51bWJlcjtcbn1cblxuTWF0aC5tb3ZlVG93YXJkcyA9IGZ1bmN0aW9uKGN1cnJlbnQsIHRhcmdldCwgYW1vdW50KSB7XG4gICAgaWYgKGN1cnJlbnQ8dGFyZ2V0KSByZXR1cm4gTWF0aC5taW4oY3VycmVudCthbW91bnQsIHRhcmdldCk7XG4gICAgZWxzZSByZXR1cm4gTWF0aC5tYXgoY3VycmVudC1hbW91bnQsIHRhcmdldCk7XG59XG5cbk1hdGgubW92ZVRvd2FyZHMgPSBmdW5jdGlvbihjdXJyZW50LCB0YXJnZXQsIGFtb3VudFVwLCBhbW91bnREb3duKSB7XG4gICAgaWYgKGN1cnJlbnQ8dGFyZ2V0KSByZXR1cm4gTWF0aC5taW4oY3VycmVudCthbW91bnRVcCwgdGFyZ2V0KTtcbiAgICBlbHNlIHJldHVybiBNYXRoLm1heChjdXJyZW50LWFtb3VudERvd24sIHRhcmdldCk7XG59XG5cbk1hdGguZ2F1c3NpYW4gPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgcyA9IDA7XG4gICAgZm9yICh2YXIgYz0wOyBjPDE2OyBjKyspIHMrPU1hdGgucmFuZG9tKCk7XG4gICAgcmV0dXJuIChzLTgpLzQ7XG59XG5cbk1hdGgubGVycCA9IGZ1bmN0aW9uKGEsIGIsIHQpIHtcbiAgICByZXR1cm4gYSArIChiIC0gYSkgKiB0O1xufSIsIi8qXG4gKiBBIHNwZWVkLWltcHJvdmVkIHBlcmxpbiBhbmQgc2ltcGxleCBub2lzZSBhbGdvcml0aG1zIGZvciAyRC5cbiAqXG4gKiBCYXNlZCBvbiBleGFtcGxlIGNvZGUgYnkgU3RlZmFuIEd1c3RhdnNvbiAoc3RlZ3VAaXRuLmxpdS5zZSkuXG4gKiBPcHRpbWlzYXRpb25zIGJ5IFBldGVyIEVhc3RtYW4gKHBlYXN0bWFuQGRyaXp6bGUuc3RhbmZvcmQuZWR1KS5cbiAqIEJldHRlciByYW5rIG9yZGVyaW5nIG1ldGhvZCBieSBTdGVmYW4gR3VzdGF2c29uIGluIDIwMTIuXG4gKiBDb252ZXJ0ZWQgdG8gSmF2YXNjcmlwdCBieSBKb3NlcGggR2VudGxlLlxuICpcbiAqIFZlcnNpb24gMjAxMi0wMy0wOVxuICpcbiAqIFRoaXMgY29kZSB3YXMgcGxhY2VkIGluIHRoZSBwdWJsaWMgZG9tYWluIGJ5IGl0cyBvcmlnaW5hbCBhdXRob3IsXG4gKiBTdGVmYW4gR3VzdGF2c29uLiBZb3UgbWF5IHVzZSBpdCBhcyB5b3Ugc2VlIGZpdCwgYnV0XG4gKiBhdHRyaWJ1dGlvbiBpcyBhcHByZWNpYXRlZC5cbiAqXG4gKi9cblxuY2xhc3MgR3JhZCB7XG4gICAgY29uc3RydWN0b3IoeCwgeSwgeil7XG4gICAgICAgIHRoaXMueCA9IHg7XG4gICAgICAgIHRoaXMueSA9IHk7XG4gICAgICAgIHRoaXMueiA9IHo7XG4gICAgfVxuXG4gICAgZG90Mih4LCB5KXtcbiAgICAgICAgcmV0dXJuIHRoaXMueCp4ICsgdGhpcy55Knk7XG4gICAgfVxuXG4gICAgZG90Myh4LCB5LCB6KSB7XG4gICAgICAgIHJldHVybiB0aGlzLngqeCArIHRoaXMueSp5ICsgdGhpcy56Kno7XG4gICAgfTtcbn1cblxuY2xhc3MgTm9pc2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmdyYWQzID0gW25ldyBHcmFkKDEsMSwwKSxuZXcgR3JhZCgtMSwxLDApLG5ldyBHcmFkKDEsLTEsMCksbmV3IEdyYWQoLTEsLTEsMCksXG4gICAgICAgICAgICAgICAgICAgICAgbmV3IEdyYWQoMSwwLDEpLG5ldyBHcmFkKC0xLDAsMSksbmV3IEdyYWQoMSwwLC0xKSxuZXcgR3JhZCgtMSwwLC0xKSxcbiAgICAgICAgICAgICAgICAgICAgICBuZXcgR3JhZCgwLDEsMSksbmV3IEdyYWQoMCwtMSwxKSxuZXcgR3JhZCgwLDEsLTEpLG5ldyBHcmFkKDAsLTEsLTEpXTtcbiAgICAgICAgdGhpcy5wID0gWzE1MSwxNjAsMTM3LDkxLDkwLDE1LFxuICAgICAgICAgICAgMTMxLDEzLDIwMSw5NSw5Niw1MywxOTQsMjMzLDcsMjI1LDE0MCwzNiwxMDMsMzAsNjksMTQyLDgsOTksMzcsMjQwLDIxLDEwLDIzLFxuICAgICAgICAgICAgMTkwLCA2LDE0OCwyNDcsMTIwLDIzNCw3NSwwLDI2LDE5Nyw2Miw5NCwyNTIsMjE5LDIwMywxMTcsMzUsMTEsMzIsNTcsMTc3LDMzLFxuICAgICAgICAgICAgODgsMjM3LDE0OSw1Niw4NywxNzQsMjAsMTI1LDEzNiwxNzEsMTY4LCA2OCwxNzUsNzQsMTY1LDcxLDEzNCwxMzksNDgsMjcsMTY2LFxuICAgICAgICAgICAgNzcsMTQ2LDE1OCwyMzEsODMsMTExLDIyOSwxMjIsNjAsMjExLDEzMywyMzAsMjIwLDEwNSw5Miw0MSw1NSw0NiwyNDUsNDAsMjQ0LFxuICAgICAgICAgICAgMTAyLDE0Myw1NCwgNjUsMjUsNjMsMTYxLCAxLDIxNiw4MCw3MywyMDksNzYsMTMyLDE4NywyMDgsIDg5LDE4LDE2OSwyMDAsMTk2LFxuICAgICAgICAgICAgMTM1LDEzMCwxMTYsMTg4LDE1OSw4NiwxNjQsMTAwLDEwOSwxOTgsMTczLDE4NiwgMyw2NCw1MiwyMTcsMjI2LDI1MCwxMjQsMTIzLFxuICAgICAgICAgICAgNSwyMDIsMzgsMTQ3LDExOCwxMjYsMjU1LDgyLDg1LDIxMiwyMDcsMjA2LDU5LDIyNyw0NywxNiw1OCwxNywxODIsMTg5LDI4LDQyLFxuICAgICAgICAgICAgMjIzLDE4MywxNzAsMjEzLDExOSwyNDgsMTUyLCAyLDQ0LDE1NCwxNjMsIDcwLDIyMSwxNTMsMTAxLDE1NSwxNjcsIDQzLDE3Miw5LFxuICAgICAgICAgICAgMTI5LDIyLDM5LDI1MywgMTksOTgsMTA4LDExMCw3OSwxMTMsMjI0LDIzMiwxNzgsMTg1LCAxMTIsMTA0LDIxOCwyNDYsOTcsMjI4LFxuICAgICAgICAgICAgMjUxLDM0LDI0MiwxOTMsMjM4LDIxMCwxNDQsMTIsMTkxLDE3OSwxNjIsMjQxLCA4MSw1MSwxNDUsMjM1LDI0OSwxNCwyMzksMTA3LFxuICAgICAgICAgICAgNDksMTkyLDIxNCwgMzEsMTgxLDE5OSwxMDYsMTU3LDE4NCwgODQsMjA0LDE3NiwxMTUsMTIxLDUwLDQ1LDEyNywgNCwxNTAsMjU0LFxuICAgICAgICAgICAgMTM4LDIzNiwyMDUsOTMsMjIyLDExNCw2NywyOSwyNCw3MiwyNDMsMTQxLDEyOCwxOTUsNzgsNjYsMjE1LDYxLDE1NiwxODBdO1xuXG4gICAgICAgIC8vIFRvIHJlbW92ZSB0aGUgbmVlZCBmb3IgaW5kZXggd3JhcHBpbmcsIGRvdWJsZSB0aGUgcGVybXV0YXRpb24gdGFibGUgbGVuZ3RoXG4gICAgICAgIHRoaXMucGVybSA9IG5ldyBBcnJheSg1MTIpO1xuICAgICAgICB0aGlzLmdyYWRQID0gbmV3IEFycmF5KDUxMik7XG5cbiAgICAgICAgdGhpcy5zZWVkKERhdGUubm93KCkpO1xuICAgIH1cblxuICAgIHNlZWQoc2VlZCkge1xuICAgICAgICBpZihzZWVkID4gMCAmJiBzZWVkIDwgMSkge1xuICAgICAgICAgICAgLy8gU2NhbGUgdGhlIHNlZWQgb3V0XG4gICAgICAgICAgICBzZWVkICo9IDY1NTM2O1xuICAgICAgICB9XG5cbiAgICAgICAgc2VlZCA9IE1hdGguZmxvb3Ioc2VlZCk7XG4gICAgICAgIGlmKHNlZWQgPCAyNTYpIHtcbiAgICAgICAgICAgIHNlZWQgfD0gc2VlZCA8PCA4O1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IDI1NjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgdjtcbiAgICAgICAgICAgIGlmIChpICYgMSkge1xuICAgICAgICAgICAgICAgIHYgPSB0aGlzLnBbaV0gXiAoc2VlZCAmIDI1NSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHYgPSB0aGlzLnBbaV0gXiAoKHNlZWQ+PjgpICYgMjU1KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5wZXJtW2ldID0gdGhpcy5wZXJtW2kgKyAyNTZdID0gdjtcbiAgICAgICAgICAgIHRoaXMuZ3JhZFBbaV0gPSB0aGlzLmdyYWRQW2kgKyAyNTZdID0gdGhpcy5ncmFkM1t2ICUgMTJdO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vIDJEIHNpbXBsZXggbm9pc2VcbiAgICBzaW1wbGV4Mih4aW4sIHlpbikge1xuICAgICAgICAvLyBTa2V3aW5nIGFuZCB1bnNrZXdpbmcgZmFjdG9ycyBmb3IgMiwgMywgYW5kIDQgZGltZW5zaW9uc1xuICAgICAgICB2YXIgRjIgPSAwLjUqKE1hdGguc3FydCgzKS0xKTtcbiAgICAgICAgdmFyIEcyID0gKDMtTWF0aC5zcXJ0KDMpKS82O1xuXG4gICAgICAgIHZhciBGMyA9IDEvMztcbiAgICAgICAgdmFyIEczID0gMS82O1xuXG4gICAgICAgIHZhciBuMCwgbjEsIG4yOyAvLyBOb2lzZSBjb250cmlidXRpb25zIGZyb20gdGhlIHRocmVlIGNvcm5lcnNcbiAgICAgICAgLy8gU2tldyB0aGUgaW5wdXQgc3BhY2UgdG8gZGV0ZXJtaW5lIHdoaWNoIHNpbXBsZXggY2VsbCB3ZSdyZSBpblxuICAgICAgICB2YXIgcyA9ICh4aW4reWluKSpGMjsgLy8gSGFpcnkgZmFjdG9yIGZvciAyRFxuICAgICAgICB2YXIgaSA9IE1hdGguZmxvb3IoeGluK3MpO1xuICAgICAgICB2YXIgaiA9IE1hdGguZmxvb3IoeWluK3MpO1xuICAgICAgICB2YXIgdCA9IChpK2opKkcyO1xuICAgICAgICB2YXIgeDAgPSB4aW4taSt0OyAvLyBUaGUgeCx5IGRpc3RhbmNlcyBmcm9tIHRoZSBjZWxsIG9yaWdpbiwgdW5za2V3ZWQuXG4gICAgICAgIHZhciB5MCA9IHlpbi1qK3Q7XG4gICAgICAgIC8vIEZvciB0aGUgMkQgY2FzZSwgdGhlIHNpbXBsZXggc2hhcGUgaXMgYW4gZXF1aWxhdGVyYWwgdHJpYW5nbGUuXG4gICAgICAgIC8vIERldGVybWluZSB3aGljaCBzaW1wbGV4IHdlIGFyZSBpbi5cbiAgICAgICAgdmFyIGkxLCBqMTsgLy8gT2Zmc2V0cyBmb3Igc2Vjb25kIChtaWRkbGUpIGNvcm5lciBvZiBzaW1wbGV4IGluIChpLGopIGNvb3Jkc1xuICAgICAgICBpZih4MD55MCkgeyAvLyBsb3dlciB0cmlhbmdsZSwgWFkgb3JkZXI6ICgwLDApLT4oMSwwKS0+KDEsMSlcbiAgICAgICAgICAgIGkxPTE7IGoxPTA7XG4gICAgICAgIH0gZWxzZSB7ICAgIC8vIHVwcGVyIHRyaWFuZ2xlLCBZWCBvcmRlcjogKDAsMCktPigwLDEpLT4oMSwxKVxuICAgICAgICAgICAgaTE9MDsgajE9MTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBIHN0ZXAgb2YgKDEsMCkgaW4gKGksaikgbWVhbnMgYSBzdGVwIG9mICgxLWMsLWMpIGluICh4LHkpLCBhbmRcbiAgICAgICAgLy8gYSBzdGVwIG9mICgwLDEpIGluIChpLGopIG1lYW5zIGEgc3RlcCBvZiAoLWMsMS1jKSBpbiAoeCx5KSwgd2hlcmVcbiAgICAgICAgLy8gYyA9ICgzLXNxcnQoMykpLzZcbiAgICAgICAgdmFyIHgxID0geDAgLSBpMSArIEcyOyAvLyBPZmZzZXRzIGZvciBtaWRkbGUgY29ybmVyIGluICh4LHkpIHVuc2tld2VkIGNvb3Jkc1xuICAgICAgICB2YXIgeTEgPSB5MCAtIGoxICsgRzI7XG4gICAgICAgIHZhciB4MiA9IHgwIC0gMSArIDIgKiBHMjsgLy8gT2Zmc2V0cyBmb3IgbGFzdCBjb3JuZXIgaW4gKHgseSkgdW5za2V3ZWQgY29vcmRzXG4gICAgICAgIHZhciB5MiA9IHkwIC0gMSArIDIgKiBHMjtcbiAgICAgICAgLy8gV29yayBvdXQgdGhlIGhhc2hlZCBncmFkaWVudCBpbmRpY2VzIG9mIHRoZSB0aHJlZSBzaW1wbGV4IGNvcm5lcnNcbiAgICAgICAgaSAmPSAyNTU7XG4gICAgICAgIGogJj0gMjU1O1xuICAgICAgICB2YXIgZ2kwID0gdGhpcy5ncmFkUFtpK3RoaXMucGVybVtqXV07XG4gICAgICAgIHZhciBnaTEgPSB0aGlzLmdyYWRQW2kraTErdGhpcy5wZXJtW2orajFdXTtcbiAgICAgICAgdmFyIGdpMiA9IHRoaXMuZ3JhZFBbaSsxK3RoaXMucGVybVtqKzFdXTtcbiAgICAgICAgLy8gQ2FsY3VsYXRlIHRoZSBjb250cmlidXRpb24gZnJvbSB0aGUgdGhyZWUgY29ybmVyc1xuICAgICAgICB2YXIgdDAgPSAwLjUgLSB4MCp4MC15MCp5MDtcbiAgICAgICAgaWYodDA8MCkge1xuICAgICAgICAgICAgbjAgPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdDAgKj0gdDA7XG4gICAgICAgICAgICBuMCA9IHQwICogdDAgKiBnaTAuZG90Mih4MCwgeTApOyAgLy8gKHgseSkgb2YgZ3JhZDMgdXNlZCBmb3IgMkQgZ3JhZGllbnRcbiAgICAgICAgfVxuICAgICAgICB2YXIgdDEgPSAwLjUgLSB4MSp4MS15MSp5MTtcbiAgICAgICAgaWYodDE8MCkge1xuICAgICAgICAgICAgbjEgPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdDEgKj0gdDE7XG4gICAgICAgICAgICBuMSA9IHQxICogdDEgKiBnaTEuZG90Mih4MSwgeTEpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0MiA9IDAuNSAtIHgyKngyLXkyKnkyO1xuICAgICAgICBpZih0MjwwKSB7XG4gICAgICAgICAgICBuMiA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0MiAqPSB0MjtcbiAgICAgICAgICAgIG4yID0gdDIgKiB0MiAqIGdpMi5kb3QyKHgyLCB5Mik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQWRkIGNvbnRyaWJ1dGlvbnMgZnJvbSBlYWNoIGNvcm5lciB0byBnZXQgdGhlIGZpbmFsIG5vaXNlIHZhbHVlLlxuICAgICAgICAvLyBUaGUgcmVzdWx0IGlzIHNjYWxlZCB0byByZXR1cm4gdmFsdWVzIGluIHRoZSBpbnRlcnZhbCBbLTEsMV0uXG4gICAgICAgIHJldHVybiA3MCAqIChuMCArIG4xICsgbjIpO1xuICAgIH1cbiAgICBcbiAgICBzaW1wbGV4MSh4KXtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2ltcGxleDIoeCoxLjIsIC14KjAuNyk7XG4gICAgfVxuXG59XG5cbmNvbnN0IHNpbmdsZXRvbiA9IG5ldyBOb2lzZSgpO1xuT2JqZWN0LmZyZWV6ZShzaW5nbGV0b24pO1xuXG5leHBvcnQgZGVmYXVsdCBzaW5nbGV0b247IiwiaW1wb3J0IFwiLi9tYXRoLWV4dGVuc2lvbnMuanNcIjtcblxuaW1wb3J0IHsgQXVkaW9TeXN0ZW0gfSBmcm9tIFwiLi9jb21wb25lbnRzL2F1ZGlvLXN5c3RlbS5qc1wiO1xuaW1wb3J0IHsgR2xvdHRpcyB9IGZyb20gXCIuL2NvbXBvbmVudHMvZ2xvdHRpcy5qc1wiO1xuaW1wb3J0IHsgVHJhY3QgfSBmcm9tIFwiLi9jb21wb25lbnRzL3RyYWN0LmpzXCI7XG5pbXBvcnQgeyBUcmFjdFVJIH0gZnJvbSBcIi4vY29tcG9uZW50cy90cmFjdC11aS5qc1wiO1xuXG5jbGFzcyBQaW5rVHJvbWJvbmUge1xuICAgIGNvbnN0cnVjdG9yKGNvbnRyb2xsZXIpe1xuICAgICAgICB0aGlzLmNvbnRyb2xsZXIgPSBjb250cm9sbGVyO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5zYW1wbGVSYXRlID0gMDtcbiAgICAgICAgdGhpcy50aW1lID0gMDtcbiAgICAgICAgdGhpcy5hbHdheXNWb2ljZSA9IHRydWU7XG4gICAgICAgIHRoaXMuYXV0b1dvYmJsZSA9IHRydWU7XG4gICAgICAgIHRoaXMubm9pc2VGcmVxID0gNTAwO1xuICAgICAgICB0aGlzLm5vaXNlUSA9IDAuNztcblxuICAgICAgICB0aGlzLkF1ZGlvU3lzdGVtID0gbmV3IEF1ZGlvU3lzdGVtKHRoaXMpO1xuICAgICAgICB0aGlzLkF1ZGlvU3lzdGVtLmluaXQoKTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuR2xvdHRpcyA9IG5ldyBHbG90dGlzKHRoaXMpO1xuICAgICAgICB0aGlzLkdsb3R0aXMuaW5pdCgpO1xuXG4gICAgICAgIHRoaXMuVHJhY3QgPSBuZXcgVHJhY3QodGhpcyk7XG4gICAgICAgIHRoaXMuVHJhY3QuaW5pdCgpO1xuXG4gICAgICAgIHRoaXMuVHJhY3RVSSA9IG5ldyBUcmFjdFVJKHRoaXMpO1xuICAgICAgICB0aGlzLlRyYWN0VUkuaW5pdCgpO1xuXG4gICAgICAgIC8vdGhpcy5TdGFydEF1ZGlvKCk7XG4gICAgICAgIC8vdGhpcy5TZXRNdXRlKHRydWUpO1xuXG4gICAgICAgIHRoaXMubXV0ZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBTdGFydEF1ZGlvKCkge1xuICAgICAgICB0aGlzLm11dGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuQXVkaW9TeXN0ZW0uc3RhcnRTb3VuZCgpO1xuICAgIH1cblxuICAgIFNldE11dGUoZG9NdXRlKSB7XG4gICAgICAgIGRvTXV0ZSA/IHRoaXMuQXVkaW9TeXN0ZW0ubXV0ZSgpIDogdGhpcy5BdWRpb1N5c3RlbS51bm11dGUoKTtcbiAgICAgICAgdGhpcy5tdXRlZCA9IGRvTXV0ZTtcbiAgICB9XG5cbiAgICBUb2dnbGVNdXRlKCkge1xuICAgICAgICB0aGlzLlNldE11dGUoIXRoaXMubXV0ZWQpO1xuICAgIH1cblxufVxuXG5leHBvcnQgeyBQaW5rVHJvbWJvbmUgfTsiLCIvLyBjb25zdCB3b3JkcyA9IHJlcXVpcmUoJ2NtdS1wcm9ub3VuY2luZy1kaWN0aW9uYXJ5Jyk7XG5cbmV4cG9ydCBjbGFzcyBUVFNDb250cm9sbGVyIHtcbiAgICBjb25zdHJ1Y3Rvcigpe1xuICAgICAgICBcbiAgICB9XG5cbiAgICAvLyBHZXRHcmFwaGVtZXMoc3RyKXtcbiAgICAvLyAgICAgbGV0IHplcm9QdW5jdHVhdGlvbiA9IHN0ci5yZXBsYWNlKC9bLixcXC8jISQlXFxeJlxcKjs6e309XFwtX2B+KCldL2csXCJcIik7XG4gICAgLy8gICAgIGxldCB3b3JkQmFuayA9IFtdXG4gICAgLy8gICAgIGZvcihsZXQgd29yZCBvZiB6ZXJvUHVuY3R1YXRpb24uc3BsaXQoJyAnKSl7XG4gICAgLy8gICAgICAgICB3b3JkQmFuay5wdXNoKHRoaXMuR2V0UHJvbnVuY2lhdGlvbkZvcldvcmQod29yZCkpO1xuICAgIC8vICAgICB9XG4gICAgLy8gICAgIHJldHVybiB3b3JkQmFuaztcbiAgICAvLyB9XG5cbiAgICAvLyBHZXRQcm9udW5jaWF0aW9uRm9yV29yZChyYXdXb3JkKXtcbiAgICAvLyAgICAgbGV0IHdvcmQgPSByYXdXb3JkLnRvTG93ZXJDYXNlKCk7XG4gICAgLy8gICAgIGlmICh3b3Jkc1t3b3JkXSl7XG4gICAgLy8gICAgICAgICByZXR1cm4gd29yZHNbd29yZF07XG4gICAgLy8gICAgIH0gZWxzZSB7XG4gICAgLy8gICAgICAgICAvLyBJZiB0aGUgd29yZCBpc24ndCBpbiB0aGUgZGljdCwgaWdub3JlIGl0IGZvciBub3dcbiAgICAvLyAgICAgICAgIHJldHVybiBcIk5vbmVcIjtcbiAgICAvLyAgICAgfVxuICAgIC8vIH1cblxuXG5cbn0iLCJjbGFzcyBNb2RlbExvYWRlciB7XG5cbiAgICAvKipcbiAgICAgKiBMb2FkcyBhIG1vZGVsIGFzeW5jaHJvbm91c2x5LiBFeHBlY3RzIGFuIG9iamVjdCBjb250YWluaW5nXG4gICAgICogdGhlIHBhdGggdG8gdGhlIG9iamVjdCwgdGhlIHJlbGF0aXZlIHBhdGggb2YgdGhlIE9CSiBmaWxlLFxuICAgICAqIGFuZCB0aGUgcmVsYXRpdmUgcGF0aCBvZiB0aGUgTVRMIGZpbGUuXG4gICAgICogXG4gICAgICogQW4gZXhhbXBsZTpcbiAgICAgKiBsZXQgbW9kZWxJbmZvID0ge1xuICAgICAqICAgICAgcGF0aDogXCIuLi9yZXNvdXJjZXMvb2JqL1wiLFxuICAgICAqICAgICAgb2JqRmlsZTogXCJ0ZXN0Lm9ialwiLFxuICAgICAqICAgICAgbXRsRmlsZTogXCJ0ZXN0Lm10bFwiXG4gICAgICogfVxuICAgICAqL1xuICAgIHN0YXRpYyBMb2FkT0JKKG1vZGVsSW5mbywgbG9hZGVkQ2FsbGJhY2spIHtcblxuICAgICAgICB2YXIgb25Qcm9ncmVzcyA9IGZ1bmN0aW9uKCB4aHIgKSB7XG4gICAgICAgICAgICBpZiAoIHhoci5sZW5ndGhDb21wdXRhYmxlICkge1xuICAgICAgICAgICAgICAgIHZhciBwZXJjZW50Q29tcGxldGUgPSB4aHIubG9hZGVkIC8geGhyLnRvdGFsICogMTAwO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCBNYXRoLnJvdW5kKCBwZXJjZW50Q29tcGxldGUsIDIgKSArICclIGRvd25sb2FkZWQnICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHZhciBvbkVycm9yID0gZnVuY3Rpb24oIHhociApIHtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgbXRsTG9hZGVyID0gbmV3IFRIUkVFLk1UTExvYWRlcigpO1xuICAgICAgICBtdGxMb2FkZXIuc2V0UGF0aCggbW9kZWxJbmZvLnBhdGggKTtcblxuICAgICAgICBtdGxMb2FkZXIubG9hZCggbW9kZWxJbmZvLm10bEZpbGUsICggbWF0ZXJpYWxzICkgPT4ge1xuICAgICAgICAgICAgbWF0ZXJpYWxzLnByZWxvYWQoKTtcbiAgICAgICAgICAgIHZhciBvYmpMb2FkZXIgPSBuZXcgVEhSRUUuT0JKTG9hZGVyKCk7XG4gICAgICAgICAgICBvYmpMb2FkZXIuc2V0TWF0ZXJpYWxzKCBtYXRlcmlhbHMgKTtcbiAgICAgICAgICAgIG9iakxvYWRlci5zZXRQYXRoKCBtb2RlbEluZm8ucGF0aCApO1xuICAgICAgICAgICAgb2JqTG9hZGVyLmxvYWQoIG1vZGVsSW5mby5vYmpGaWxlLCAoIG9iamVjdCApID0+IHtcbiAgICAgICAgICAgICAgICBsb2FkZWRDYWxsYmFjayhvYmplY3QpO1xuICAgICAgICAgICAgfSwgb25Qcm9ncmVzcywgb25FcnJvciApO1xuICAgICAgICAgICAgXG4gICAgICAgIH0pO1xuXG4gICAgfVxuXG4gICAgc3RhdGljIExvYWRKU09OKHBhdGgsIGxvYWRlZENhbGxiYWNrKSB7XG5cbiAgICAgICAgdmFyIG9uUHJvZ3Jlc3MgPSBmdW5jdGlvbiggeGhyICkge1xuICAgICAgICAgICAgaWYgKCB4aHIubGVuZ3RoQ29tcHV0YWJsZSApIHtcbiAgICAgICAgICAgICAgICB2YXIgcGVyY2VudENvbXBsZXRlID0geGhyLmxvYWRlZCAvIHhoci50b3RhbCAqIDEwMDtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyggTWF0aC5yb3VuZCggcGVyY2VudENvbXBsZXRlLCAyICkgKyAnJSBkb3dubG9hZGVkJyApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB2YXIgb25FcnJvciA9IGZ1bmN0aW9uKCB4aHIgKSB7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGxvYWRlciA9IG5ldyBUSFJFRS5KU09OTG9hZGVyKCk7XG4gICAgICAgIGxvYWRlci5sb2FkKCBwYXRoLCAoIGdlb21ldHJ5LCBtYXRlcmlhbHMgKSA9PiB7XG4gICAgICAgICAgICAvLyBBcHBseSBza2lubmluZyB0byBlYWNoIG1hdGVyaWFsIHNvIHRoZSB2ZXJ0cyBhcmUgYWZmZWN0ZWQgYnkgYm9uZSBtb3ZlbWVudFxuICAgICAgICAgICAgZm9yKGxldCBtYXQgb2YgbWF0ZXJpYWxzKXtcbiAgICAgICAgICAgICAgICBtYXQuc2tpbm5pbmcgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IG1lc2ggPSBuZXcgVEhSRUUuU2tpbm5lZE1lc2goIGdlb21ldHJ5LCBuZXcgVEhSRUUuTXVsdGlNYXRlcmlhbCggbWF0ZXJpYWxzICkgKTtcbiAgICAgICAgICAgIG1lc2gubmFtZSA9IFwiSm9uXCI7XG4gICAgICAgICAgICBsb2FkZWRDYWxsYmFjayhtZXNoKTtcbiAgICAgICAgfSwgb25Qcm9ncmVzcywgb25FcnJvcik7XG4gICAgfVxuXG4gICAgc3RhdGljIExvYWRGQlgocGF0aCwgbG9hZGVkQ2FsbGJhY2spIHtcbiAgICAgICAgbGV0IG1hbmFnZXIgPSBuZXcgVEhSRUUuTG9hZGluZ01hbmFnZXIoKTtcbiAgICAgICAgbWFuYWdlci5vblByb2dyZXNzID0gZnVuY3Rpb24oIGl0ZW0sIGxvYWRlZCwgdG90YWwgKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyggaXRlbSwgbG9hZGVkLCB0b3RhbCApO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBvblByb2dyZXNzID0gZnVuY3Rpb24oIHhociApIHtcbiAgICAgICAgICAgIGlmICggeGhyLmxlbmd0aENvbXB1dGFibGUgKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBlcmNlbnRDb21wbGV0ZSA9IHhoci5sb2FkZWQgLyB4aHIudG90YWwgKiAxMDA7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coIE1hdGgucm91bmQoIHBlcmNlbnRDb21wbGV0ZSwgMiApICsgJyUgZG93bmxvYWRlZCcgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdmFyIG9uRXJyb3IgPSBmdW5jdGlvbiggeGhyICkge1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBsb2FkZXIgPSBuZXcgVEhSRUUuRkJYTG9hZGVyKCBtYW5hZ2VyICk7XG4gICAgICAgIGxvYWRlci5sb2FkKCBwYXRoLCAoIG9iamVjdCApID0+IHtcbiAgICAgICAgICAgIGxvYWRlZENhbGxiYWNrKG9iamVjdCk7XG4gICAgICAgIH0sIG9uUHJvZ3Jlc3MsIG9uRXJyb3IgKTtcbiAgICB9XG5cbn1cblxuZXhwb3J0IHsgTW9kZWxMb2FkZXIgfTsiLCJjbGFzcyBEZXRlY3RvciB7XG5cbiAgICAvL2h0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTE4NzEwNzcvcHJvcGVyLXdheS10by1kZXRlY3Qtd2ViZ2wtc3VwcG9ydFxuICAgIHN0YXRpYyBIYXNXZWJHTCgpIHtcbiAgICAgICAgaWYgKCEhd2luZG93LldlYkdMUmVuZGVyaW5nQ29udGV4dCkge1xuICAgICAgICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIiksXG4gICAgICAgICAgICAgICAgICAgIG5hbWVzID0gW1wid2ViZ2xcIiwgXCJleHBlcmltZW50YWwtd2ViZ2xcIiwgXCJtb3otd2ViZ2xcIiwgXCJ3ZWJraXQtM2RcIl0sXG4gICAgICAgICAgICAgICAgY29udGV4dCA9IGZhbHNlO1xuXG4gICAgICAgICAgICBmb3IodmFyIGk9MDtpPDQ7aSsrKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KG5hbWVzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRleHQgJiYgdHlwZW9mIGNvbnRleHQuZ2V0UGFyYW1ldGVyID09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2ViR0wgaXMgZW5hYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoKGUpIHt9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFdlYkdMIGlzIHN1cHBvcnRlZCwgYnV0IGRpc2FibGVkXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gV2ViR0wgbm90IHN1cHBvcnRlZFxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgc3RhdGljIEdldEVycm9ySFRNTChtZXNzYWdlID0gbnVsbCl7XG4gICAgICAgIGlmKG1lc3NhZ2UgPT0gbnVsbCl7XG4gICAgICAgICAgICBtZXNzYWdlID0gYFlvdXIgZ3JhcGhpY3MgY2FyZCBkb2VzIG5vdCBzZWVtIHRvIHN1cHBvcnQgXG4gICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiaHR0cDovL2tocm9ub3Mub3JnL3dlYmdsL3dpa2kvR2V0dGluZ19hX1dlYkdMX0ltcGxlbWVudGF0aW9uXCI+V2ViR0w8L2E+LiA8YnI+XG4gICAgICAgICAgICAgICAgICAgICAgICBGaW5kIG91dCBob3cgdG8gZ2V0IGl0IDxhIGhyZWY9XCJodHRwOi8vZ2V0LndlYmdsLm9yZy9cIj5oZXJlPC9hPi5gO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJuby13ZWJnbC1zdXBwb3J0XCI+XG4gICAgICAgIDxwIHN0eWxlPVwidGV4dC1hbGlnbjogY2VudGVyO1wiPiR7bWVzc2FnZX08L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBgXG4gICAgfVxuXG59XG5cbmV4cG9ydCB7IERldGVjdG9yIH07IiwiIWZ1bmN0aW9uKGUsdCl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9dCgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoXCJndWlmeVwiLFtdLHQpOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMuZ3VpZnk9dCgpOmUuZ3VpZnk9dCgpfSh0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQobyl7aWYobltvXSlyZXR1cm4gbltvXS5leHBvcnRzO3ZhciByPW5bb109e2k6byxsOiExLGV4cG9ydHM6e319O3JldHVybiBlW29dLmNhbGwoci5leHBvcnRzLHIsci5leHBvcnRzLHQpLHIubD0hMCxyLmV4cG9ydHN9dmFyIG49e307cmV0dXJuIHQubT1lLHQuYz1uLHQuZD1mdW5jdGlvbihlLG4sbyl7dC5vKGUsbil8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4se2NvbmZpZ3VyYWJsZTohMSxlbnVtZXJhYmxlOiEwLGdldDpvfSl9LHQubj1mdW5jdGlvbihlKXt2YXIgbj1lJiZlLl9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gZS5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiBlfTtyZXR1cm4gdC5kKG4sXCJhXCIsbiksbn0sdC5vPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpfSx0LnA9XCJcIix0KHQucz0xNil9KFtmdW5jdGlvbihlLHQsbil7ZnVuY3Rpb24gbyhlLHQsbil7dmFyIG89bFt0XTtpZih2b2lkIDA9PT1vJiYobz1pKHQpKSxvKXtpZih2b2lkIDA9PT1uKXJldHVybiBlLnN0eWxlW29dO2Uuc3R5bGVbb109YyhvLG4pfX1mdW5jdGlvbiByKGUsdCl7Zm9yKHZhciBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmbyhlLG4sdFtuXSl9ZnVuY3Rpb24gaShlKXt2YXIgdD11KGUpLG49cyh0KTtyZXR1cm4gbFt0XT1sW2VdPWxbbl09bixufWZ1bmN0aW9uIGEoKXsyPT09YXJndW1lbnRzLmxlbmd0aD9cInN0cmluZ1wiPT10eXBlb2YgYXJndW1lbnRzWzFdP2FyZ3VtZW50c1swXS5zdHlsZS5jc3NUZXh0PWFyZ3VtZW50c1sxXTpyKGFyZ3VtZW50c1swXSxhcmd1bWVudHNbMV0pOm8oYXJndW1lbnRzWzBdLGFyZ3VtZW50c1sxXSxhcmd1bWVudHNbMl0pfXZhciBzPW4oMTgpLHU9bigxOSksbD17ZmxvYXQ6XCJjc3NGbG9hdFwifSxjPW4oMjIpO2UuZXhwb3J0cz1hLGUuZXhwb3J0cy5zZXQ9YSxlLmV4cG9ydHMuZ2V0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCk/dC5yZWR1Y2UoZnVuY3Rpb24odCxuKXtyZXR1cm4gdFtuXT1vKGUsbnx8XCJcIiksdH0se30pOm8oZSx0fHxcIlwiKX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz1uKDApLHI9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShvKSxpPWZ1bmN0aW9uKGUsdCxuKXt2YXIgbz1lLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpO3JldHVybiBvLmNsYXNzTGlzdC5hZGQoXCJndWlmeS1jb21wb25lbnQtY29udGFpbmVyXCIpLCgwLHIuZGVmYXVsdCkobyx7cG9zaXRpb246XCJyZWxhdGl2ZVwiLFwibWluLWhlaWdodFwiOm4uc2l6aW5nLmNvbXBvbmVudEhlaWdodCxcIm1hcmdpbi1ib3R0b21cIjpuLnNpemluZy5jb21wb25lbnRTcGFjaW5nfSksb307dC5kZWZhdWx0PWksZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBvPW4oNikscj17dGhlbWU6by50aGVtZSxzaXppbmc6e2xhYmVsc1dpZHRoUGVyY2VudDo2Mn19O2UuZXhwb3J0cz1yfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG89bigzMik7ZS5leHBvcnRzPW8sZS5leHBvcnRzLmNzanM9byxlLmV4cG9ydHMuZ2V0Q3NzPW4oNDUpfSxmdW5jdGlvbihlLHQsbil7dmFyIG87IWZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIoKXt9ZnVuY3Rpb24gaShlLHQpe2Zvcih2YXIgbj1lLmxlbmd0aDtuLS07KWlmKGVbbl0ubGlzdGVuZXI9PT10KXJldHVybiBuO3JldHVybi0xfWZ1bmN0aW9uIGEoZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbZV0uYXBwbHkodGhpcyxhcmd1bWVudHMpfX1mdW5jdGlvbiBzKGUpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGV8fGUgaW5zdGFuY2VvZiBSZWdFeHB8fCEoIWV8fFwib2JqZWN0XCIhPXR5cGVvZiBlKSYmcyhlLmxpc3RlbmVyKX12YXIgdT1yLnByb3RvdHlwZSxsPXQuRXZlbnRFbWl0dGVyO3UuZ2V0TGlzdGVuZXJzPWZ1bmN0aW9uKGUpe3ZhciB0LG4sbz10aGlzLl9nZXRFdmVudHMoKTtpZihlIGluc3RhbmNlb2YgUmVnRXhwKXt0PXt9O2ZvcihuIGluIG8pby5oYXNPd25Qcm9wZXJ0eShuKSYmZS50ZXN0KG4pJiYodFtuXT1vW25dKX1lbHNlIHQ9b1tlXXx8KG9bZV09W10pO3JldHVybiB0fSx1LmZsYXR0ZW5MaXN0ZW5lcnM9ZnVuY3Rpb24oZSl7dmFyIHQsbj1bXTtmb3IodD0wO3Q8ZS5sZW5ndGg7dCs9MSluLnB1c2goZVt0XS5saXN0ZW5lcik7cmV0dXJuIG59LHUuZ2V0TGlzdGVuZXJzQXNPYmplY3Q9ZnVuY3Rpb24oZSl7dmFyIHQsbj10aGlzLmdldExpc3RlbmVycyhlKTtyZXR1cm4gbiBpbnN0YW5jZW9mIEFycmF5JiYodD17fSx0W2VdPW4pLHR8fG59LHUuYWRkTGlzdGVuZXI9ZnVuY3Rpb24oZSx0KXtpZighcyh0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwibGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpO3ZhciBuLG89dGhpcy5nZXRMaXN0ZW5lcnNBc09iamVjdChlKSxyPVwib2JqZWN0XCI9PXR5cGVvZiB0O2ZvcihuIGluIG8pby5oYXNPd25Qcm9wZXJ0eShuKSYmLTE9PT1pKG9bbl0sdCkmJm9bbl0ucHVzaChyP3Q6e2xpc3RlbmVyOnQsb25jZTohMX0pO3JldHVybiB0aGlzfSx1Lm9uPWEoXCJhZGRMaXN0ZW5lclwiKSx1LmFkZE9uY2VMaXN0ZW5lcj1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmFkZExpc3RlbmVyKGUse2xpc3RlbmVyOnQsb25jZTohMH0pfSx1Lm9uY2U9YShcImFkZE9uY2VMaXN0ZW5lclwiKSx1LmRlZmluZUV2ZW50PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmdldExpc3RlbmVycyhlKSx0aGlzfSx1LmRlZmluZUV2ZW50cz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrPTEpdGhpcy5kZWZpbmVFdmVudChlW3RdKTtyZXR1cm4gdGhpc30sdS5yZW1vdmVMaXN0ZW5lcj1mdW5jdGlvbihlLHQpe3ZhciBuLG8scj10aGlzLmdldExpc3RlbmVyc0FzT2JqZWN0KGUpO2ZvcihvIGluIHIpci5oYXNPd25Qcm9wZXJ0eShvKSYmLTEhPT0obj1pKHJbb10sdCkpJiZyW29dLnNwbGljZShuLDEpO3JldHVybiB0aGlzfSx1Lm9mZj1hKFwicmVtb3ZlTGlzdGVuZXJcIiksdS5hZGRMaXN0ZW5lcnM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5tYW5pcHVsYXRlTGlzdGVuZXJzKCExLGUsdCl9LHUucmVtb3ZlTGlzdGVuZXJzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMubWFuaXB1bGF0ZUxpc3RlbmVycyghMCxlLHQpfSx1Lm1hbmlwdWxhdGVMaXN0ZW5lcnM9ZnVuY3Rpb24oZSx0LG4pe3ZhciBvLHIsaT1lP3RoaXMucmVtb3ZlTGlzdGVuZXI6dGhpcy5hZGRMaXN0ZW5lcixhPWU/dGhpcy5yZW1vdmVMaXN0ZW5lcnM6dGhpcy5hZGRMaXN0ZW5lcnM7aWYoXCJvYmplY3RcIiE9dHlwZW9mIHR8fHQgaW5zdGFuY2VvZiBSZWdFeHApZm9yKG89bi5sZW5ndGg7by0tOylpLmNhbGwodGhpcyx0LG5bb10pO2Vsc2UgZm9yKG8gaW4gdCl0Lmhhc093blByb3BlcnR5KG8pJiYocj10W29dKSYmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHI/aS5jYWxsKHRoaXMsbyxyKTphLmNhbGwodGhpcyxvLHIpKTtyZXR1cm4gdGhpc30sdS5yZW1vdmVFdmVudD1mdW5jdGlvbihlKXt2YXIgdCxuPXR5cGVvZiBlLG89dGhpcy5fZ2V0RXZlbnRzKCk7aWYoXCJzdHJpbmdcIj09PW4pZGVsZXRlIG9bZV07ZWxzZSBpZihlIGluc3RhbmNlb2YgUmVnRXhwKWZvcih0IGluIG8pby5oYXNPd25Qcm9wZXJ0eSh0KSYmZS50ZXN0KHQpJiZkZWxldGUgb1t0XTtlbHNlIGRlbGV0ZSB0aGlzLl9ldmVudHM7cmV0dXJuIHRoaXN9LHUucmVtb3ZlQWxsTGlzdGVuZXJzPWEoXCJyZW1vdmVFdmVudFwiKSx1LmVtaXRFdmVudD1mdW5jdGlvbihlLHQpe3ZhciBuLG8scixpLGE9dGhpcy5nZXRMaXN0ZW5lcnNBc09iamVjdChlKTtmb3IoaSBpbiBhKWlmKGEuaGFzT3duUHJvcGVydHkoaSkpZm9yKG49YVtpXS5zbGljZSgwKSxyPTA7cjxuLmxlbmd0aDtyKyspbz1uW3JdLCEwPT09by5vbmNlJiZ0aGlzLnJlbW92ZUxpc3RlbmVyKGUsby5saXN0ZW5lciksby5saXN0ZW5lci5hcHBseSh0aGlzLHR8fFtdKT09PXRoaXMuX2dldE9uY2VSZXR1cm5WYWx1ZSgpJiZ0aGlzLnJlbW92ZUxpc3RlbmVyKGUsby5saXN0ZW5lcik7cmV0dXJuIHRoaXN9LHUudHJpZ2dlcj1hKFwiZW1pdEV2ZW50XCIpLHUuZW1pdD1mdW5jdGlvbihlKXt2YXIgdD1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuIHRoaXMuZW1pdEV2ZW50KGUsdCl9LHUuc2V0T25jZVJldHVyblZhbHVlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9vbmNlUmV0dXJuVmFsdWU9ZSx0aGlzfSx1Ll9nZXRPbmNlUmV0dXJuVmFsdWU9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5oYXNPd25Qcm9wZXJ0eShcIl9vbmNlUmV0dXJuVmFsdWVcIil8fHRoaXMuX29uY2VSZXR1cm5WYWx1ZX0sdS5fZ2V0RXZlbnRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2V2ZW50c3x8KHRoaXMuX2V2ZW50cz17fSl9LHIubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiB0LkV2ZW50RW1pdHRlcj1sLHJ9LHZvaWQgMCE9PShvPWZ1bmN0aW9uKCl7cmV0dXJuIHJ9LmNhbGwodCxuLHQsZSkpJiYoZS5leHBvcnRzPW8pfSh0aGlzfHx7fSl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz1uKDApLHI9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShvKTt0LmRlZmF1bHQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciBvPWUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSk7KDAsci5kZWZhdWx0KShvLHtsZWZ0OjAsd2lkdGg6XCJjYWxjKFwiK24uc2l6aW5nLmxhYmVsV2lkdGgrXCIgLSAyJSlcIixkaXNwbGF5OlwiaW5saW5lLWJsb2NrXCIsXCJtaW4taGVpZ2h0XCI6bi5zaXppbmcuY29tcG9uZW50SGVpZ2h0LHBhZGRpbmdSaWdodDpcIjIlXCIsdmVydGljYWxBbGlnbjpcInRvcFwifSk7dmFyIGk9by5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKTtyZXR1cm4gaS5pbm5lckhUTUw9dCwoMCxyLmRlZmF1bHQpKGkse2NvbG9yOm4uY29sb3JzLnRleHQxLGRpc3BsYXk6XCJpbmxpbmUtYmxvY2tcIix2ZXJ0aWNhbEFsaWduOlwic3ViXCIsXCJsaW5lLWhlaWdodFwiOm4uc2l6aW5nLmNvbXBvbmVudEhlaWdodH0pLGl9LGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LnRoZW1lPXZvaWQgMDt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIG89dFtuXTtvLmVudW1lcmFibGU9by5lbnVtZXJhYmxlfHwhMSxvLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBvJiYoby53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsby5rZXksbyl9fXJldHVybiBmdW5jdGlvbih0LG4sbyl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksbyYmZSh0LG8pLHR9fSgpLGk9big5KSxhPShmdW5jdGlvbihlKXtlJiZlLl9fZXNNb2R1bGV9KGkpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe28odGhpcyxlKX1yZXR1cm4gcihlLFt7a2V5OlwiU2V0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5uYW1lPWUubmFtZSx0aGlzLmNvbG9ycz1lLmNvbG9ycyx0aGlzLnNpemluZz1lLnNpemluZyx0aGlzLmZvbnQ9ZS5mb250fX1dKSxlfSgpKTt0LnRoZW1lPW5ldyBhfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbyhlLHQsbil7dmFyIG89ZS5qb2luKFwiIFwiKTtyZXR1cm4gT2JqZWN0LmNyZWF0ZShhLnByb3RvdHlwZSx7Y2xhc3NOYW1lczp7dmFsdWU6T2JqZWN0LmZyZWV6ZShlKSxjb25maWd1cmFibGU6ITEsd3JpdGFibGU6ITEsZW51bWVyYWJsZTohMH0sdW5zY29wZWQ6e3ZhbHVlOk9iamVjdC5mcmVlemUodCksY29uZmlndXJhYmxlOiExLHdyaXRhYmxlOiExLGVudW1lcmFibGU6ITB9LGNsYXNzTmFtZTp7dmFsdWU6byxjb25maWd1cmFibGU6ITEsd3JpdGFibGU6ITEsZW51bWVyYWJsZTohMH0sc2VsZWN0b3I6e3ZhbHVlOmUubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBuP2U6XCIuXCIrZX0pLmpvaW4oXCIsIFwiKSxjb25maWd1cmFibGU6ITEsd3JpdGFibGU6ITEsZW51bWVyYWJsZTohMH0sdG9TdHJpbmc6e3ZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG99LGNvbmZpZ3VyYWJsZTohMSx3cml0ZWFibGU6ITEsZW51bWVyYWJsZTohMX19KX1mdW5jdGlvbiByKGUpe3JldHVybiBlIGluc3RhbmNlb2YgYX1mdW5jdGlvbiBpKGUpe3JldHVybiBlLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiByKHQpJiZ0LmNsYXNzTmFtZXMuZm9yRWFjaChmdW5jdGlvbihuLG8pe2Vbbl09dC51bnNjb3BlZFtvXX0pLGV9LHt9KX1mdW5jdGlvbiBhKCl7fWUuZXhwb3J0cz17bWFrZUNvbXBvc2l0aW9uOm8saXNDb21wb3NpdGlvbjpyLGlnbm9yZUNvbXBvc2l0aW9uOml9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG89LyhcXC4pKD8hXFxkKShbXlxcc1xcLix7XFxbPit+IzopXSopKD8hW157XSp9KS8uc291cmNlLHI9LyhAXFxTKmtleWZyYW1lc1xccyopKFtee1xcc10qKS8uc291cmNlLGk9Lyg/ISg/OlteKlxcL118XFwqW15cXC9dfFxcL1teKl0pKlxcKitcXC8pLy5zb3VyY2UsYT1uZXcgUmVnRXhwKG8raSxcImdcIikscz1uZXcgUmVnRXhwKHIraSxcImdcIik7ZS5leHBvcnRzPXtjbGFzc1JlZ2V4OmEsa2V5ZnJhbWVzUmVnZXg6cyxpZ25vcmVDb21tZW50czppfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz17bGlnaHQ6e25hbWU6XCJMaWdodFwiLGNvbG9yczp7YmFja2dyb3VuZDE6XCJyZ2IoMjI3LCAyMjcsIDIyNylcIixiYWNrZ3JvdW5kMjpcInJnYigyMDQsIDIwNCwgMjA0KVwiLGJhY2tncm91bmQyaG92ZXI6XCJyZ2IoMTkwLCAxOTAsIDE5MClcIixmb3JlZ3JvdW5kMTpcInJnYigxMDUsIDEwNSwgMTA1KVwiLHRleHQxOlwicmdiKDM2LCAzNiwgMzYpXCIsdGV4dDI6XCJyZ2IoODcsIDg3LCA4NylcIn0sc2l6aW5nOnttZW51QmFySGVpZ2h0OlwiMzZweFwiLG1lbnVCYXJDb250ZW50SGVpZ2h0OlwiMjBweFwiLGNvbXBvbmVudEhlaWdodDpcIjIwcHhcIixjb21wb25lbnRTcGFjaW5nOlwiNXB4XCIsbGFiZWxXaWR0aDpcIjQyJVwifX0sZGFyazp7bmFtZTpcIkRhcmtcIixjb2xvcnM6e2JhY2tncm91bmQxOlwicmdiKDM1LCAzNSwgMzUpXCIsYmFja2dyb3VuZDI6XCJyZ2IoNTQsIDU0LCA1NClcIixiYWNrZ3JvdW5kMmhvdmVyOlwicmdiKDc2LCA3NiwgNzYpXCIsZm9yZWdyb3VuZDE6XCJyZ2IoMTEyLCAxMTIsIDExMilcIix0ZXh0MTpcInJnYigyMzUsIDIzNSwgMjM1KVwiLHRleHQyOlwicmdiKDE2MSwgMTYxLCAxNjEpXCJ9LHNpemluZzp7bWVudUJhckhlaWdodDpcIjM2cHhcIixtZW51QmFyQ29udGVudEhlaWdodDpcIjIwcHhcIixjb21wb25lbnRIZWlnaHQ6XCIyMHB4XCIsY29tcG9uZW50U3BhY2luZzpcIjVweFwiLGxhYmVsV2lkdGg6XCI0MiVcIn19fX0sZnVuY3Rpb24oZSx0KXt2YXIgbjtuPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KCk7dHJ5e249bnx8RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpfHwoMCxldmFsKShcInRoaXNcIil9Y2F0Y2goZSl7XCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdyYmKG49d2luZG93KX1lLmV4cG9ydHM9bn0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1cIiBjc3MgXCJ9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9big0NCl9LGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbihlLHQpe2lmKHQ9dHx8e30sdm9pZCAwPT09ZSl0aHJvdyBuZXcgRXJyb3IoYSk7dmFyIG49ITA9PT10LnByZXBlbmQ/XCJwcmVwZW5kXCI6XCJhcHBlbmRcIixzPXZvaWQgMCE9PXQuY29udGFpbmVyP3QuY29udGFpbmVyOmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJoZWFkXCIpLHU9ci5pbmRleE9mKHMpOy0xPT09dSYmKHU9ci5wdXNoKHMpLTEsaVt1XT17fSk7dmFyIGw7cmV0dXJuIHZvaWQgMCE9PWlbdV0mJnZvaWQgMCE9PWlbdV1bbl0/bD1pW3VdW25dOihsPWlbdV1bbl09bygpLFwicHJlcGVuZFwiPT09bj9zLmluc2VydEJlZm9yZShsLHMuY2hpbGROb2Rlc1swXSk6cy5hcHBlbmRDaGlsZChsKSksNjUyNzk9PT1lLmNoYXJDb2RlQXQoMCkmJihlPWUuc3Vic3RyKDEsZS5sZW5ndGgpKSxsLnN0eWxlU2hlZXQ/bC5zdHlsZVNoZWV0LmNzc1RleHQrPWU6bC50ZXh0Q29udGVudCs9ZSxsfWZ1bmN0aW9uIG8oKXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7cmV0dXJuIGUuc2V0QXR0cmlidXRlKFwidHlwZVwiLFwidGV4dC9jc3NcIiksZX12YXIgcj1bXSxpPVtdLGE9XCJpbnNlcnQtY3NzOiBZb3UgbmVlZCB0byBwcm92aWRlIGEgQ1NTIHN0cmluZy4gVXNhZ2U6IGluc2VydENzcyhjc3NTdHJpbmdbLCBvcHRpb25zXSkuXCI7ZS5leHBvcnRzPW4sZS5leHBvcnRzLmluc2VydENzcz1ufSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG89bigwKSxyPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0obyk7dC5kZWZhdWx0PWZ1bmN0aW9uKGUsdCxuLG8saSl7dmFyIGE9ZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKSxzPWEuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIikpO3MuaW5uZXJIVE1MPXQ7dmFyIHU9e3Bvc2l0aW9uOlwiYWJzb2x1dGVcIixiYWNrZ3JvdW5kQ29sb3I6bi5jb2xvcnMuYmFja2dyb3VuZDIscGFkZGluZ0xlZnQ6XCIxLjUlXCIsaGVpZ2h0OlwiMjBweFwiLHdpZHRoOm8sZGlzcGxheTpcImlubGluZS1ibG9ja1wiLG92ZXJmbG93OlwiaGlkZGVuXCJ9O3JldHVybiBpfHwodS5yaWdodD0wKSwoMCxyLmRlZmF1bHQpKGEsdSksKDAsci5kZWZhdWx0KShzLHtcImZvbnQtZmFtaWx5XCI6XCInSGFjaycsIG1vbm9zcGFjZVwiLGNvbG9yOm4uY29sb3JzLnRleHQyLGRpc3BsYXk6XCJpbmxpbmUtYmxvY2tcIix1c2VyU2VsZWN0OlwidGV4dFwiLGN1cnNvcjpcInRleHRcIixvdmVyZmxvdzpcImhpZGRlblwiLGxpbmVIZWlnaHQ6XCIyMHB4XCIsd29yZEJyZWFrOlwiYnJlYWstYWxsXCIsaGVpZ2h0OjIwfSksc30sZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LG4pe3ZhciBvOyFmdW5jdGlvbihyKXtmdW5jdGlvbiBpKGUsdCl7aWYoZT1lfHxcIlwiLHQ9dHx8e30sZSBpbnN0YW5jZW9mIGkpcmV0dXJuIGU7aWYoISh0aGlzIGluc3RhbmNlb2YgaSkpcmV0dXJuIG5ldyBpKGUsdCk7dmFyIG49YShlKTt0aGlzLl9vcmlnaW5hbElucHV0PWUsdGhpcy5fcj1uLnIsdGhpcy5fZz1uLmcsdGhpcy5fYj1uLmIsdGhpcy5fYT1uLmEsdGhpcy5fcm91bmRBPUQoMTAwKnRoaXMuX2EpLzEwMCx0aGlzLl9mb3JtYXQ9dC5mb3JtYXR8fG4uZm9ybWF0LHRoaXMuX2dyYWRpZW50VHlwZT10LmdyYWRpZW50VHlwZSx0aGlzLl9yPDEmJih0aGlzLl9yPUQodGhpcy5fcikpLHRoaXMuX2c8MSYmKHRoaXMuX2c9RCh0aGlzLl9nKSksdGhpcy5fYjwxJiYodGhpcy5fYj1EKHRoaXMuX2IpKSx0aGlzLl9vaz1uLm9rLHRoaXMuX3RjX2lkPUkrK31mdW5jdGlvbiBhKGUpe3ZhciB0PXtyOjAsZzowLGI6MH0sbj0xLG89bnVsbCxyPW51bGwsaT1udWxsLGE9ITEsdT0hMTtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9JChlKSksXCJvYmplY3RcIj09dHlwZW9mIGUmJihGKGUucikmJkYoZS5nKSYmRihlLmIpPyh0PXMoZS5yLGUuZyxlLmIpLGE9ITAsdT1cIiVcIj09PVN0cmluZyhlLnIpLnN1YnN0cigtMSk/XCJwcmdiXCI6XCJyZ2JcIik6RihlLmgpJiZGKGUucykmJkYoZS52KT8obz1UKGUucykscj1UKGUudiksdD1mKGUuaCxvLHIpLGE9ITAsdT1cImhzdlwiKTpGKGUuaCkmJkYoZS5zKSYmRihlLmwpJiYobz1UKGUucyksaT1UKGUubCksdD1sKGUuaCxvLGkpLGE9ITAsdT1cImhzbFwiKSxlLmhhc093blByb3BlcnR5KFwiYVwiKSYmKG49ZS5hKSksbj1DKG4pLHtvazphLGZvcm1hdDplLmZvcm1hdHx8dSxyOlcoMjU1LEcodC5yLDApKSxnOlcoMjU1LEcodC5nLDApKSxiOlcoMjU1LEcodC5iLDApKSxhOm59fWZ1bmN0aW9uIHMoZSx0LG4pe3JldHVybntyOjI1NSpFKGUsMjU1KSxnOjI1NSpFKHQsMjU1KSxiOjI1NSpFKG4sMjU1KX19ZnVuY3Rpb24gdShlLHQsbil7ZT1FKGUsMjU1KSx0PUUodCwyNTUpLG49RShuLDI1NSk7dmFyIG8scixpPUcoZSx0LG4pLGE9VyhlLHQsbikscz0oaSthKS8yO2lmKGk9PWEpbz1yPTA7ZWxzZXt2YXIgdT1pLWE7c3dpdGNoKHI9cz4uNT91LygyLWktYSk6dS8oaSthKSxpKXtjYXNlIGU6bz0odC1uKS91Kyh0PG4/NjowKTticmVhaztjYXNlIHQ6bz0obi1lKS91KzI7YnJlYWs7Y2FzZSBuOm89KGUtdCkvdSs0fW8vPTZ9cmV0dXJue2g6byxzOnIsbDpzfX1mdW5jdGlvbiBsKGUsdCxuKXtmdW5jdGlvbiBvKGUsdCxuKXtyZXR1cm4gbjwwJiYobis9MSksbj4xJiYobi09MSksbjwxLzY/ZSs2Kih0LWUpKm46bjwuNT90Om48Mi8zP2UrKHQtZSkqKDIvMy1uKSo2OmV9dmFyIHIsaSxhO2lmKGU9RShlLDM2MCksdD1FKHQsMTAwKSxuPUUobiwxMDApLDA9PT10KXI9aT1hPW47ZWxzZXt2YXIgcz1uPC41P24qKDErdCk6bit0LW4qdCx1PTIqbi1zO3I9byh1LHMsZSsxLzMpLGk9byh1LHMsZSksYT1vKHUscyxlLTEvMyl9cmV0dXJue3I6MjU1KnIsZzoyNTUqaSxiOjI1NSphfX1mdW5jdGlvbiBjKGUsdCxuKXtlPUUoZSwyNTUpLHQ9RSh0LDI1NSksbj1FKG4sMjU1KTt2YXIgbyxyLGk9RyhlLHQsbiksYT1XKGUsdCxuKSxzPWksdT1pLWE7aWYocj0wPT09aT8wOnUvaSxpPT1hKW89MDtlbHNle3N3aXRjaChpKXtjYXNlIGU6bz0odC1uKS91Kyh0PG4/NjowKTticmVhaztjYXNlIHQ6bz0obi1lKS91KzI7YnJlYWs7Y2FzZSBuOm89KGUtdCkvdSs0fW8vPTZ9cmV0dXJue2g6byxzOnIsdjpzfX1mdW5jdGlvbiBmKGUsdCxuKXtlPTYqRShlLDM2MCksdD1FKHQsMTAwKSxuPUUobiwxMDApO3ZhciBvPXIuZmxvb3IoZSksaT1lLW8sYT1uKigxLXQpLHM9biooMS1pKnQpLHU9biooMS0oMS1pKSp0KSxsPW8lNjtyZXR1cm57cjoyNTUqW24scyxhLGEsdSxuXVtsXSxnOjI1NSpbdSxuLG4scyxhLGFdW2xdLGI6MjU1KlthLGEsdSxuLG4sc11bbF19fWZ1bmN0aW9uIHAoZSx0LG4sbyl7dmFyIHI9W1AoRChlKS50b1N0cmluZygxNikpLFAoRCh0KS50b1N0cmluZygxNikpLFAoRChuKS50b1N0cmluZygxNikpXTtyZXR1cm4gbyYmclswXS5jaGFyQXQoMCk9PXJbMF0uY2hhckF0KDEpJiZyWzFdLmNoYXJBdCgwKT09clsxXS5jaGFyQXQoMSkmJnJbMl0uY2hhckF0KDApPT1yWzJdLmNoYXJBdCgxKT9yWzBdLmNoYXJBdCgwKStyWzFdLmNoYXJBdCgwKStyWzJdLmNoYXJBdCgwKTpyLmpvaW4oXCJcIil9ZnVuY3Rpb24gZChlLHQsbixvLHIpe3ZhciBpPVtQKEQoZSkudG9TdHJpbmcoMTYpKSxQKEQodCkudG9TdHJpbmcoMTYpKSxQKEQobikudG9TdHJpbmcoMTYpKSxQKFIobykpXTtyZXR1cm4gciYmaVswXS5jaGFyQXQoMCk9PWlbMF0uY2hhckF0KDEpJiZpWzFdLmNoYXJBdCgwKT09aVsxXS5jaGFyQXQoMSkmJmlbMl0uY2hhckF0KDApPT1pWzJdLmNoYXJBdCgxKSYmaVszXS5jaGFyQXQoMCk9PWlbM10uY2hhckF0KDEpP2lbMF0uY2hhckF0KDApK2lbMV0uY2hhckF0KDApK2lbMl0uY2hhckF0KDApK2lbM10uY2hhckF0KDApOmkuam9pbihcIlwiKX1mdW5jdGlvbiBoKGUsdCxuLG8pe3JldHVybltQKFIobykpLFAoRChlKS50b1N0cmluZygxNikpLFAoRCh0KS50b1N0cmluZygxNikpLFAoRChuKS50b1N0cmluZygxNikpXS5qb2luKFwiXCIpfWZ1bmN0aW9uIGcoZSx0KXt0PTA9PT10PzA6dHx8MTA7dmFyIG49aShlKS50b0hzbCgpO3JldHVybiBuLnMtPXQvMTAwLG4ucz16KG4ucyksaShuKX1mdW5jdGlvbiBiKGUsdCl7dD0wPT09dD8wOnR8fDEwO3ZhciBuPWkoZSkudG9Ic2woKTtyZXR1cm4gbi5zKz10LzEwMCxuLnM9eihuLnMpLGkobil9ZnVuY3Rpb24gbShlKXtyZXR1cm4gaShlKS5kZXNhdHVyYXRlKDEwMCl9ZnVuY3Rpb24geShlLHQpe3Q9MD09PXQ/MDp0fHwxMDt2YXIgbj1pKGUpLnRvSHNsKCk7cmV0dXJuIG4ubCs9dC8xMDAsbi5sPXoobi5sKSxpKG4pfWZ1bmN0aW9uIHYoZSx0KXt0PTA9PT10PzA6dHx8MTA7dmFyIG49aShlKS50b1JnYigpO3JldHVybiBuLnI9RygwLFcoMjU1LG4uci1EKC10LzEwMCoyNTUpKSksbi5nPUcoMCxXKDI1NSxuLmctRCgtdC8xMDAqMjU1KSkpLG4uYj1HKDAsVygyNTUsbi5iLUQoLXQvMTAwKjI1NSkpKSxpKG4pfWZ1bmN0aW9uIHgoZSx0KXt0PTA9PT10PzA6dHx8MTA7dmFyIG49aShlKS50b0hzbCgpO3JldHVybiBuLmwtPXQvMTAwLG4ubD16KG4ubCksaShuKX1mdW5jdGlvbiBrKGUsdCl7dmFyIG49aShlKS50b0hzbCgpLG89KG4uaCt0KSUzNjA7cmV0dXJuIG4uaD1vPDA/MzYwK286byxpKG4pfWZ1bmN0aW9uIHcoZSl7dmFyIHQ9aShlKS50b0hzbCgpO3JldHVybiB0Lmg9KHQuaCsxODApJTM2MCxpKHQpfWZ1bmN0aW9uIF8oZSl7dmFyIHQ9aShlKS50b0hzbCgpLG49dC5oO3JldHVybltpKGUpLGkoe2g6KG4rMTIwKSUzNjAsczp0LnMsbDp0Lmx9KSxpKHtoOihuKzI0MCklMzYwLHM6dC5zLGw6dC5sfSldfWZ1bmN0aW9uIGooZSl7dmFyIHQ9aShlKS50b0hzbCgpLG49dC5oO3JldHVybltpKGUpLGkoe2g6KG4rOTApJTM2MCxzOnQucyxsOnQubH0pLGkoe2g6KG4rMTgwKSUzNjAsczp0LnMsbDp0Lmx9KSxpKHtoOihuKzI3MCklMzYwLHM6dC5zLGw6dC5sfSldfWZ1bmN0aW9uIFMoZSl7dmFyIHQ9aShlKS50b0hzbCgpLG49dC5oO3JldHVybltpKGUpLGkoe2g6KG4rNzIpJTM2MCxzOnQucyxsOnQubH0pLGkoe2g6KG4rMjE2KSUzNjAsczp0LnMsbDp0Lmx9KV19ZnVuY3Rpb24gTyhlLHQsbil7dD10fHw2LG49bnx8MzA7dmFyIG89aShlKS50b0hzbCgpLHI9MzYwL24sYT1baShlKV07Zm9yKG8uaD0oby5oLShyKnQ+PjEpKzcyMCklMzYwOy0tdDspby5oPShvLmgrciklMzYwLGEucHVzaChpKG8pKTtyZXR1cm4gYX1mdW5jdGlvbiBNKGUsdCl7dD10fHw2O2Zvcih2YXIgbj1pKGUpLnRvSHN2KCksbz1uLmgscj1uLnMsYT1uLnYscz1bXSx1PTEvdDt0LS07KXMucHVzaChpKHtoOm8sczpyLHY6YX0pKSxhPShhK3UpJTE7cmV0dXJuIHN9ZnVuY3Rpb24gQyhlKXtyZXR1cm4gZT1wYXJzZUZsb2F0KGUpLChpc05hTihlKXx8ZTwwfHxlPjEpJiYoZT0xKSxlfWZ1bmN0aW9uIEUoZSx0KXtIKGUpJiYoZT1cIjEwMCVcIik7dmFyIG49QShlKTtyZXR1cm4gZT1XKHQsRygwLHBhcnNlRmxvYXQoZSkpKSxuJiYoZT1wYXJzZUludChlKnQsMTApLzEwMCksci5hYnMoZS10KTwxZS02PzE6ZSV0L3BhcnNlRmxvYXQodCl9ZnVuY3Rpb24geihlKXtyZXR1cm4gVygxLEcoMCxlKSl9ZnVuY3Rpb24gTChlKXtyZXR1cm4gcGFyc2VJbnQoZSwxNil9ZnVuY3Rpb24gSChlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZSYmLTEhPWUuaW5kZXhPZihcIi5cIikmJjE9PT1wYXJzZUZsb2F0KGUpfWZ1bmN0aW9uIEEoZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGUmJi0xIT1lLmluZGV4T2YoXCIlXCIpfWZ1bmN0aW9uIFAoZSl7cmV0dXJuIDE9PWUubGVuZ3RoP1wiMFwiK2U6XCJcIitlfWZ1bmN0aW9uIFQoZSl7cmV0dXJuIGU8PTEmJihlPTEwMCplK1wiJVwiKSxlfWZ1bmN0aW9uIFIoZSl7cmV0dXJuIHIucm91bmQoMjU1KnBhcnNlRmxvYXQoZSkpLnRvU3RyaW5nKDE2KX1mdW5jdGlvbiBVKGUpe3JldHVybiBMKGUpLzI1NX1mdW5jdGlvbiBGKGUpe3JldHVybiEhWS5DU1NfVU5JVC5leGVjKGUpfWZ1bmN0aW9uICQoZSl7ZT1lLnJlcGxhY2UoVixcIlwiKS5yZXBsYWNlKEIsXCJcIikudG9Mb3dlckNhc2UoKTt2YXIgdD0hMTtpZihaW2VdKWU9WltlXSx0PSEwO2Vsc2UgaWYoXCJ0cmFuc3BhcmVudFwiPT1lKXJldHVybntyOjAsZzowLGI6MCxhOjAsZm9ybWF0OlwibmFtZVwifTt2YXIgbjtyZXR1cm4obj1ZLnJnYi5leGVjKGUpKT97cjpuWzFdLGc6blsyXSxiOm5bM119OihuPVkucmdiYS5leGVjKGUpKT97cjpuWzFdLGc6blsyXSxiOm5bM10sYTpuWzRdfToobj1ZLmhzbC5leGVjKGUpKT97aDpuWzFdLHM6blsyXSxsOm5bM119OihuPVkuaHNsYS5leGVjKGUpKT97aDpuWzFdLHM6blsyXSxsOm5bM10sYTpuWzRdfToobj1ZLmhzdi5leGVjKGUpKT97aDpuWzFdLHM6blsyXSx2Om5bM119OihuPVkuaHN2YS5leGVjKGUpKT97aDpuWzFdLHM6blsyXSx2Om5bM10sYTpuWzRdfToobj1ZLmhleDguZXhlYyhlKSk/e3I6TChuWzFdKSxnOkwoblsyXSksYjpMKG5bM10pLGE6VShuWzRdKSxmb3JtYXQ6dD9cIm5hbWVcIjpcImhleDhcIn06KG49WS5oZXg2LmV4ZWMoZSkpP3tyOkwoblsxXSksZzpMKG5bMl0pLGI6TChuWzNdKSxmb3JtYXQ6dD9cIm5hbWVcIjpcImhleFwifToobj1ZLmhleDQuZXhlYyhlKSk/e3I6TChuWzFdK1wiXCIrblsxXSksZzpMKG5bMl0rXCJcIituWzJdKSxiOkwoblszXStcIlwiK25bM10pLGE6VShuWzRdK1wiXCIrbls0XSksZm9ybWF0OnQ/XCJuYW1lXCI6XCJoZXg4XCJ9OiEhKG49WS5oZXgzLmV4ZWMoZSkpJiZ7cjpMKG5bMV0rXCJcIituWzFdKSxnOkwoblsyXStcIlwiK25bMl0pLGI6TChuWzNdK1wiXCIrblszXSksZm9ybWF0OnQ/XCJuYW1lXCI6XCJoZXhcIn19ZnVuY3Rpb24gTihlKXt2YXIgdCxuO3JldHVybiBlPWV8fHtsZXZlbDpcIkFBXCIsc2l6ZTpcInNtYWxsXCJ9LHQ9KGUubGV2ZWx8fFwiQUFcIikudG9VcHBlckNhc2UoKSxuPShlLnNpemV8fFwic21hbGxcIikudG9Mb3dlckNhc2UoKSxcIkFBXCIhPT10JiZcIkFBQVwiIT09dCYmKHQ9XCJBQVwiKSxcInNtYWxsXCIhPT1uJiZcImxhcmdlXCIhPT1uJiYobj1cInNtYWxsXCIpLHtsZXZlbDp0LHNpemU6bn19dmFyIFY9L15cXHMrLyxCPS9cXHMrJC8sST0wLEQ9ci5yb3VuZCxXPXIubWluLEc9ci5tYXgscT1yLnJhbmRvbTtpLnByb3RvdHlwZT17aXNEYXJrOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0QnJpZ2h0bmVzcygpPDEyOH0saXNMaWdodDpmdW5jdGlvbigpe3JldHVybiF0aGlzLmlzRGFyaygpfSxpc1ZhbGlkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29rfSxnZXRPcmlnaW5hbElucHV0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29yaWdpbmFsSW5wdXR9LGdldEZvcm1hdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9mb3JtYXR9LGdldEFscGhhOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2F9LGdldEJyaWdodG5lc3M6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnRvUmdiKCk7cmV0dXJuKDI5OSplLnIrNTg3KmUuZysxMTQqZS5iKS8xZTN9LGdldEx1bWluYW5jZTpmdW5jdGlvbigpe3ZhciBlLHQsbixvLGksYSxzPXRoaXMudG9SZ2IoKTtyZXR1cm4gZT1zLnIvMjU1LHQ9cy5nLzI1NSxuPXMuYi8yNTUsbz1lPD0uMDM5Mjg/ZS8xMi45MjpyLnBvdygoZSsuMDU1KS8xLjA1NSwyLjQpLGk9dDw9LjAzOTI4P3QvMTIuOTI6ci5wb3coKHQrLjA1NSkvMS4wNTUsMi40KSxhPW48PS4wMzkyOD9uLzEyLjkyOnIucG93KChuKy4wNTUpLzEuMDU1LDIuNCksLjIxMjYqbysuNzE1MippKy4wNzIyKmF9LHNldEFscGhhOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9hPUMoZSksdGhpcy5fcm91bmRBPUQoMTAwKnRoaXMuX2EpLzEwMCx0aGlzfSx0b0hzdjpmdW5jdGlvbigpe3ZhciBlPWModGhpcy5fcix0aGlzLl9nLHRoaXMuX2IpO3JldHVybntoOjM2MCplLmgsczplLnMsdjplLnYsYTp0aGlzLl9hfX0sdG9Ic3ZTdHJpbmc6ZnVuY3Rpb24oKXt2YXIgZT1jKHRoaXMuX3IsdGhpcy5fZyx0aGlzLl9iKSx0PUQoMzYwKmUuaCksbj1EKDEwMCplLnMpLG89RCgxMDAqZS52KTtyZXR1cm4gMT09dGhpcy5fYT9cImhzdihcIit0K1wiLCBcIituK1wiJSwgXCIrbytcIiUpXCI6XCJoc3ZhKFwiK3QrXCIsIFwiK24rXCIlLCBcIitvK1wiJSwgXCIrdGhpcy5fcm91bmRBK1wiKVwifSx0b0hzbDpmdW5jdGlvbigpe3ZhciBlPXUodGhpcy5fcix0aGlzLl9nLHRoaXMuX2IpO3JldHVybntoOjM2MCplLmgsczplLnMsbDplLmwsYTp0aGlzLl9hfX0sdG9Ic2xTdHJpbmc6ZnVuY3Rpb24oKXt2YXIgZT11KHRoaXMuX3IsdGhpcy5fZyx0aGlzLl9iKSx0PUQoMzYwKmUuaCksbj1EKDEwMCplLnMpLG89RCgxMDAqZS5sKTtyZXR1cm4gMT09dGhpcy5fYT9cImhzbChcIit0K1wiLCBcIituK1wiJSwgXCIrbytcIiUpXCI6XCJoc2xhKFwiK3QrXCIsIFwiK24rXCIlLCBcIitvK1wiJSwgXCIrdGhpcy5fcm91bmRBK1wiKVwifSx0b0hleDpmdW5jdGlvbihlKXtyZXR1cm4gcCh0aGlzLl9yLHRoaXMuX2csdGhpcy5fYixlKX0sdG9IZXhTdHJpbmc6ZnVuY3Rpb24oZSl7cmV0dXJuXCIjXCIrdGhpcy50b0hleChlKX0sdG9IZXg4OmZ1bmN0aW9uKGUpe3JldHVybiBkKHRoaXMuX3IsdGhpcy5fZyx0aGlzLl9iLHRoaXMuX2EsZSl9LHRvSGV4OFN0cmluZzpmdW5jdGlvbihlKXtyZXR1cm5cIiNcIit0aGlzLnRvSGV4OChlKX0sdG9SZ2I6ZnVuY3Rpb24oKXtyZXR1cm57cjpEKHRoaXMuX3IpLGc6RCh0aGlzLl9nKSxiOkQodGhpcy5fYiksYTp0aGlzLl9hfX0sdG9SZ2JTdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gMT09dGhpcy5fYT9cInJnYihcIitEKHRoaXMuX3IpK1wiLCBcIitEKHRoaXMuX2cpK1wiLCBcIitEKHRoaXMuX2IpK1wiKVwiOlwicmdiYShcIitEKHRoaXMuX3IpK1wiLCBcIitEKHRoaXMuX2cpK1wiLCBcIitEKHRoaXMuX2IpK1wiLCBcIit0aGlzLl9yb3VuZEErXCIpXCJ9LHRvUGVyY2VudGFnZVJnYjpmdW5jdGlvbigpe3JldHVybntyOkQoMTAwKkUodGhpcy5fciwyNTUpKStcIiVcIixnOkQoMTAwKkUodGhpcy5fZywyNTUpKStcIiVcIixiOkQoMTAwKkUodGhpcy5fYiwyNTUpKStcIiVcIixhOnRoaXMuX2F9fSx0b1BlcmNlbnRhZ2VSZ2JTdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gMT09dGhpcy5fYT9cInJnYihcIitEKDEwMCpFKHRoaXMuX3IsMjU1KSkrXCIlLCBcIitEKDEwMCpFKHRoaXMuX2csMjU1KSkrXCIlLCBcIitEKDEwMCpFKHRoaXMuX2IsMjU1KSkrXCIlKVwiOlwicmdiYShcIitEKDEwMCpFKHRoaXMuX3IsMjU1KSkrXCIlLCBcIitEKDEwMCpFKHRoaXMuX2csMjU1KSkrXCIlLCBcIitEKDEwMCpFKHRoaXMuX2IsMjU1KSkrXCIlLCBcIit0aGlzLl9yb3VuZEErXCIpXCJ9LHRvTmFtZTpmdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5fYT9cInRyYW5zcGFyZW50XCI6ISh0aGlzLl9hPDEpJiYoWFtwKHRoaXMuX3IsdGhpcy5fZyx0aGlzLl9iLCEwKV18fCExKX0sdG9GaWx0ZXI6ZnVuY3Rpb24oZSl7dmFyIHQ9XCIjXCIraCh0aGlzLl9yLHRoaXMuX2csdGhpcy5fYix0aGlzLl9hKSxuPXQsbz10aGlzLl9ncmFkaWVudFR5cGU/XCJHcmFkaWVudFR5cGUgPSAxLCBcIjpcIlwiO2lmKGUpe3ZhciByPWkoZSk7bj1cIiNcIitoKHIuX3Isci5fZyxyLl9iLHIuX2EpfXJldHVyblwicHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LmdyYWRpZW50KFwiK28rXCJzdGFydENvbG9yc3RyPVwiK3QrXCIsZW5kQ29sb3JzdHI9XCIrbitcIilcIn0sdG9TdHJpbmc6ZnVuY3Rpb24oZSl7dmFyIHQ9ISFlO2U9ZXx8dGhpcy5fZm9ybWF0O3ZhciBuPSExLG89dGhpcy5fYTwxJiZ0aGlzLl9hPj0wO3JldHVybiB0fHwhb3x8XCJoZXhcIiE9PWUmJlwiaGV4NlwiIT09ZSYmXCJoZXgzXCIhPT1lJiZcImhleDRcIiE9PWUmJlwiaGV4OFwiIT09ZSYmXCJuYW1lXCIhPT1lPyhcInJnYlwiPT09ZSYmKG49dGhpcy50b1JnYlN0cmluZygpKSxcInByZ2JcIj09PWUmJihuPXRoaXMudG9QZXJjZW50YWdlUmdiU3RyaW5nKCkpLFwiaGV4XCIhPT1lJiZcImhleDZcIiE9PWV8fChuPXRoaXMudG9IZXhTdHJpbmcoKSksXCJoZXgzXCI9PT1lJiYobj10aGlzLnRvSGV4U3RyaW5nKCEwKSksXCJoZXg0XCI9PT1lJiYobj10aGlzLnRvSGV4OFN0cmluZyghMCkpLFwiaGV4OFwiPT09ZSYmKG49dGhpcy50b0hleDhTdHJpbmcoKSksXCJuYW1lXCI9PT1lJiYobj10aGlzLnRvTmFtZSgpKSxcImhzbFwiPT09ZSYmKG49dGhpcy50b0hzbFN0cmluZygpKSxcImhzdlwiPT09ZSYmKG49dGhpcy50b0hzdlN0cmluZygpKSxufHx0aGlzLnRvSGV4U3RyaW5nKCkpOlwibmFtZVwiPT09ZSYmMD09PXRoaXMuX2E/dGhpcy50b05hbWUoKTp0aGlzLnRvUmdiU3RyaW5nKCl9LGNsb25lOmZ1bmN0aW9uKCl7cmV0dXJuIGkodGhpcy50b1N0cmluZygpKX0sX2FwcGx5TW9kaWZpY2F0aW9uOmZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5hcHBseShudWxsLFt0aGlzXS5jb25jYXQoW10uc2xpY2UuY2FsbCh0KSkpO3JldHVybiB0aGlzLl9yPW4uX3IsdGhpcy5fZz1uLl9nLHRoaXMuX2I9bi5fYix0aGlzLnNldEFscGhhKG4uX2EpLHRoaXN9LGxpZ2h0ZW46ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXBwbHlNb2RpZmljYXRpb24oeSxhcmd1bWVudHMpfSxicmlnaHRlbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hcHBseU1vZGlmaWNhdGlvbih2LGFyZ3VtZW50cyl9LGRhcmtlbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hcHBseU1vZGlmaWNhdGlvbih4LGFyZ3VtZW50cyl9LGRlc2F0dXJhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXBwbHlNb2RpZmljYXRpb24oZyxhcmd1bWVudHMpfSxzYXR1cmF0ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hcHBseU1vZGlmaWNhdGlvbihiLGFyZ3VtZW50cyl9LGdyZXlzY2FsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hcHBseU1vZGlmaWNhdGlvbihtLGFyZ3VtZW50cyl9LHNwaW46ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXBwbHlNb2RpZmljYXRpb24oayxhcmd1bWVudHMpfSxfYXBwbHlDb21iaW5hdGlvbjpmdW5jdGlvbihlLHQpe3JldHVybiBlLmFwcGx5KG51bGwsW3RoaXNdLmNvbmNhdChbXS5zbGljZS5jYWxsKHQpKSl9LGFuYWxvZ291czpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hcHBseUNvbWJpbmF0aW9uKE8sYXJndW1lbnRzKX0sY29tcGxlbWVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hcHBseUNvbWJpbmF0aW9uKHcsYXJndW1lbnRzKX0sbW9ub2Nocm9tYXRpYzpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hcHBseUNvbWJpbmF0aW9uKE0sYXJndW1lbnRzKX0sc3BsaXRjb21wbGVtZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FwcGx5Q29tYmluYXRpb24oUyxhcmd1bWVudHMpfSx0cmlhZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hcHBseUNvbWJpbmF0aW9uKF8sYXJndW1lbnRzKX0sdGV0cmFkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FwcGx5Q29tYmluYXRpb24oaixhcmd1bWVudHMpfX0saS5mcm9tUmF0aW89ZnVuY3Rpb24oZSx0KXtpZihcIm9iamVjdFwiPT10eXBlb2YgZSl7dmFyIG49e307Zm9yKHZhciBvIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShvKSYmKG5bb109XCJhXCI9PT1vP2Vbb106VChlW29dKSk7ZT1ufXJldHVybiBpKGUsdCl9LGkuZXF1YWxzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuISghZXx8IXQpJiZpKGUpLnRvUmdiU3RyaW5nKCk9PWkodCkudG9SZ2JTdHJpbmcoKX0saS5yYW5kb209ZnVuY3Rpb24oKXtyZXR1cm4gaS5mcm9tUmF0aW8oe3I6cSgpLGc6cSgpLGI6cSgpfSl9LGkubWl4PWZ1bmN0aW9uKGUsdCxuKXtuPTA9PT1uPzA6bnx8NTA7dmFyIG89aShlKS50b1JnYigpLHI9aSh0KS50b1JnYigpLGE9bi8xMDA7cmV0dXJuIGkoe3I6KHIuci1vLnIpKmErby5yLGc6KHIuZy1vLmcpKmErby5nLGI6KHIuYi1vLmIpKmErby5iLGE6KHIuYS1vLmEpKmErby5hfSl9LGkucmVhZGFiaWxpdHk9ZnVuY3Rpb24oZSx0KXt2YXIgbj1pKGUpLG89aSh0KTtyZXR1cm4oci5tYXgobi5nZXRMdW1pbmFuY2UoKSxvLmdldEx1bWluYW5jZSgpKSsuMDUpLyhyLm1pbihuLmdldEx1bWluYW5jZSgpLG8uZ2V0THVtaW5hbmNlKCkpKy4wNSl9LGkuaXNSZWFkYWJsZT1mdW5jdGlvbihlLHQsbil7dmFyIG8scixhPWkucmVhZGFiaWxpdHkoZSx0KTtzd2l0Y2gocj0hMSxvPU4obiksby5sZXZlbCtvLnNpemUpe2Nhc2VcIkFBc21hbGxcIjpjYXNlXCJBQUFsYXJnZVwiOnI9YT49NC41O2JyZWFrO2Nhc2VcIkFBbGFyZ2VcIjpyPWE+PTM7YnJlYWs7Y2FzZVwiQUFBc21hbGxcIjpyPWE+PTd9cmV0dXJuIHJ9LGkubW9zdFJlYWRhYmxlPWZ1bmN0aW9uKGUsdCxuKXt2YXIgbyxyLGEscyx1PW51bGwsbD0wO249bnx8e30scj1uLmluY2x1ZGVGYWxsYmFja0NvbG9ycyxhPW4ubGV2ZWwscz1uLnNpemU7Zm9yKHZhciBjPTA7Yzx0Lmxlbmd0aDtjKyspKG89aS5yZWFkYWJpbGl0eShlLHRbY10pKT5sJiYobD1vLHU9aSh0W2NdKSk7cmV0dXJuIGkuaXNSZWFkYWJsZShlLHUse2xldmVsOmEsc2l6ZTpzfSl8fCFyP3U6KG4uaW5jbHVkZUZhbGxiYWNrQ29sb3JzPSExLGkubW9zdFJlYWRhYmxlKGUsW1wiI2ZmZlwiLFwiIzAwMFwiXSxuKSl9O3ZhciBaPWkubmFtZXM9e2FsaWNlYmx1ZTpcImYwZjhmZlwiLGFudGlxdWV3aGl0ZTpcImZhZWJkN1wiLGFxdWE6XCIwZmZcIixhcXVhbWFyaW5lOlwiN2ZmZmQ0XCIsYXp1cmU6XCJmMGZmZmZcIixiZWlnZTpcImY1ZjVkY1wiLGJpc3F1ZTpcImZmZTRjNFwiLGJsYWNrOlwiMDAwXCIsYmxhbmNoZWRhbG1vbmQ6XCJmZmViY2RcIixibHVlOlwiMDBmXCIsYmx1ZXZpb2xldDpcIjhhMmJlMlwiLGJyb3duOlwiYTUyYTJhXCIsYnVybHl3b29kOlwiZGViODg3XCIsYnVybnRzaWVubmE6XCJlYTdlNWRcIixjYWRldGJsdWU6XCI1ZjllYTBcIixjaGFydHJldXNlOlwiN2ZmZjAwXCIsY2hvY29sYXRlOlwiZDI2OTFlXCIsY29yYWw6XCJmZjdmNTBcIixjb3JuZmxvd2VyYmx1ZTpcIjY0OTVlZFwiLGNvcm5zaWxrOlwiZmZmOGRjXCIsY3JpbXNvbjpcImRjMTQzY1wiLGN5YW46XCIwZmZcIixkYXJrYmx1ZTpcIjAwMDA4YlwiLGRhcmtjeWFuOlwiMDA4YjhiXCIsZGFya2dvbGRlbnJvZDpcImI4ODYwYlwiLGRhcmtncmF5OlwiYTlhOWE5XCIsZGFya2dyZWVuOlwiMDA2NDAwXCIsZGFya2dyZXk6XCJhOWE5YTlcIixkYXJra2hha2k6XCJiZGI3NmJcIixkYXJrbWFnZW50YTpcIjhiMDA4YlwiLGRhcmtvbGl2ZWdyZWVuOlwiNTU2YjJmXCIsZGFya29yYW5nZTpcImZmOGMwMFwiLGRhcmtvcmNoaWQ6XCI5OTMyY2NcIixkYXJrcmVkOlwiOGIwMDAwXCIsZGFya3NhbG1vbjpcImU5OTY3YVwiLGRhcmtzZWFncmVlbjpcIjhmYmM4ZlwiLGRhcmtzbGF0ZWJsdWU6XCI0ODNkOGJcIixkYXJrc2xhdGVncmF5OlwiMmY0ZjRmXCIsZGFya3NsYXRlZ3JleTpcIjJmNGY0ZlwiLGRhcmt0dXJxdW9pc2U6XCIwMGNlZDFcIixkYXJrdmlvbGV0OlwiOTQwMGQzXCIsZGVlcHBpbms6XCJmZjE0OTNcIixkZWVwc2t5Ymx1ZTpcIjAwYmZmZlwiLGRpbWdyYXk6XCI2OTY5NjlcIixkaW1ncmV5OlwiNjk2OTY5XCIsZG9kZ2VyYmx1ZTpcIjFlOTBmZlwiLGZpcmVicmljazpcImIyMjIyMlwiLGZsb3JhbHdoaXRlOlwiZmZmYWYwXCIsZm9yZXN0Z3JlZW46XCIyMjhiMjJcIixmdWNoc2lhOlwiZjBmXCIsZ2FpbnNib3JvOlwiZGNkY2RjXCIsZ2hvc3R3aGl0ZTpcImY4ZjhmZlwiLGdvbGQ6XCJmZmQ3MDBcIixnb2xkZW5yb2Q6XCJkYWE1MjBcIixncmF5OlwiODA4MDgwXCIsZ3JlZW46XCIwMDgwMDBcIixncmVlbnllbGxvdzpcImFkZmYyZlwiLGdyZXk6XCI4MDgwODBcIixob25leWRldzpcImYwZmZmMFwiLGhvdHBpbms6XCJmZjY5YjRcIixpbmRpYW5yZWQ6XCJjZDVjNWNcIixpbmRpZ286XCI0YjAwODJcIixpdm9yeTpcImZmZmZmMFwiLGtoYWtpOlwiZjBlNjhjXCIsbGF2ZW5kZXI6XCJlNmU2ZmFcIixsYXZlbmRlcmJsdXNoOlwiZmZmMGY1XCIsbGF3bmdyZWVuOlwiN2NmYzAwXCIsbGVtb25jaGlmZm9uOlwiZmZmYWNkXCIsbGlnaHRibHVlOlwiYWRkOGU2XCIsbGlnaHRjb3JhbDpcImYwODA4MFwiLGxpZ2h0Y3lhbjpcImUwZmZmZlwiLGxpZ2h0Z29sZGVucm9keWVsbG93OlwiZmFmYWQyXCIsbGlnaHRncmF5OlwiZDNkM2QzXCIsbGlnaHRncmVlbjpcIjkwZWU5MFwiLGxpZ2h0Z3JleTpcImQzZDNkM1wiLGxpZ2h0cGluazpcImZmYjZjMVwiLGxpZ2h0c2FsbW9uOlwiZmZhMDdhXCIsbGlnaHRzZWFncmVlbjpcIjIwYjJhYVwiLGxpZ2h0c2t5Ymx1ZTpcIjg3Y2VmYVwiLGxpZ2h0c2xhdGVncmF5OlwiNzg5XCIsbGlnaHRzbGF0ZWdyZXk6XCI3ODlcIixsaWdodHN0ZWVsYmx1ZTpcImIwYzRkZVwiLGxpZ2h0eWVsbG93OlwiZmZmZmUwXCIsbGltZTpcIjBmMFwiLGxpbWVncmVlbjpcIjMyY2QzMlwiLGxpbmVuOlwiZmFmMGU2XCIsbWFnZW50YTpcImYwZlwiLG1hcm9vbjpcIjgwMDAwMFwiLG1lZGl1bWFxdWFtYXJpbmU6XCI2NmNkYWFcIixtZWRpdW1ibHVlOlwiMDAwMGNkXCIsbWVkaXVtb3JjaGlkOlwiYmE1NWQzXCIsbWVkaXVtcHVycGxlOlwiOTM3MGRiXCIsbWVkaXVtc2VhZ3JlZW46XCIzY2IzNzFcIixtZWRpdW1zbGF0ZWJsdWU6XCI3YjY4ZWVcIixtZWRpdW1zcHJpbmdncmVlbjpcIjAwZmE5YVwiLG1lZGl1bXR1cnF1b2lzZTpcIjQ4ZDFjY1wiLG1lZGl1bXZpb2xldHJlZDpcImM3MTU4NVwiLG1pZG5pZ2h0Ymx1ZTpcIjE5MTk3MFwiLG1pbnRjcmVhbTpcImY1ZmZmYVwiLG1pc3R5cm9zZTpcImZmZTRlMVwiLG1vY2Nhc2luOlwiZmZlNGI1XCIsbmF2YWpvd2hpdGU6XCJmZmRlYWRcIixuYXZ5OlwiMDAwMDgwXCIsb2xkbGFjZTpcImZkZjVlNlwiLG9saXZlOlwiODA4MDAwXCIsb2xpdmVkcmFiOlwiNmI4ZTIzXCIsb3JhbmdlOlwiZmZhNTAwXCIsb3JhbmdlcmVkOlwiZmY0NTAwXCIsb3JjaGlkOlwiZGE3MGQ2XCIscGFsZWdvbGRlbnJvZDpcImVlZThhYVwiLHBhbGVncmVlbjpcIjk4ZmI5OFwiLHBhbGV0dXJxdW9pc2U6XCJhZmVlZWVcIixwYWxldmlvbGV0cmVkOlwiZGI3MDkzXCIscGFwYXlhd2hpcDpcImZmZWZkNVwiLHBlYWNocHVmZjpcImZmZGFiOVwiLHBlcnU6XCJjZDg1M2ZcIixwaW5rOlwiZmZjMGNiXCIscGx1bTpcImRkYTBkZFwiLHBvd2RlcmJsdWU6XCJiMGUwZTZcIixwdXJwbGU6XCI4MDAwODBcIixyZWJlY2NhcHVycGxlOlwiNjYzMzk5XCIscmVkOlwiZjAwXCIscm9zeWJyb3duOlwiYmM4ZjhmXCIscm95YWxibHVlOlwiNDE2OWUxXCIsc2FkZGxlYnJvd246XCI4YjQ1MTNcIixzYWxtb246XCJmYTgwNzJcIixzYW5keWJyb3duOlwiZjRhNDYwXCIsc2VhZ3JlZW46XCIyZThiNTdcIixzZWFzaGVsbDpcImZmZjVlZVwiLHNpZW5uYTpcImEwNTIyZFwiLHNpbHZlcjpcImMwYzBjMFwiLHNreWJsdWU6XCI4N2NlZWJcIixzbGF0ZWJsdWU6XCI2YTVhY2RcIixzbGF0ZWdyYXk6XCI3MDgwOTBcIixzbGF0ZWdyZXk6XCI3MDgwOTBcIixzbm93OlwiZmZmYWZhXCIsc3ByaW5nZ3JlZW46XCIwMGZmN2ZcIixzdGVlbGJsdWU6XCI0NjgyYjRcIix0YW46XCJkMmI0OGNcIix0ZWFsOlwiMDA4MDgwXCIsdGhpc3RsZTpcImQ4YmZkOFwiLHRvbWF0bzpcImZmNjM0N1wiLHR1cnF1b2lzZTpcIjQwZTBkMFwiLHZpb2xldDpcImVlODJlZVwiLHdoZWF0OlwiZjVkZWIzXCIsd2hpdGU6XCJmZmZcIix3aGl0ZXNtb2tlOlwiZjVmNWY1XCIseWVsbG93OlwiZmYwXCIseWVsbG93Z3JlZW46XCI5YWNkMzJcIn0sWD1pLmhleE5hbWVzPWZ1bmN0aW9uKGUpe3ZhciB0PXt9O2Zvcih2YXIgbiBpbiBlKWUuaGFzT3duUHJvcGVydHkobikmJih0W2Vbbl1dPW4pO3JldHVybiB0fShaKSxZPWZ1bmN0aW9uKCl7dmFyIGU9XCIoPzpbLVxcXFwrXT9cXFxcZCpcXFxcLlxcXFxkKyU/KXwoPzpbLVxcXFwrXT9cXFxcZCslPylcIix0PVwiW1xcXFxzfFxcXFwoXSsoXCIrZStcIilbLHxcXFxcc10rKFwiK2UrXCIpWyx8XFxcXHNdKyhcIitlK1wiKVxcXFxzKlxcXFwpP1wiLG49XCJbXFxcXHN8XFxcXChdKyhcIitlK1wiKVssfFxcXFxzXSsoXCIrZStcIilbLHxcXFxcc10rKFwiK2UrXCIpWyx8XFxcXHNdKyhcIitlK1wiKVxcXFxzKlxcXFwpP1wiO3JldHVybntDU1NfVU5JVDpuZXcgUmVnRXhwKGUpLHJnYjpuZXcgUmVnRXhwKFwicmdiXCIrdCkscmdiYTpuZXcgUmVnRXhwKFwicmdiYVwiK24pLGhzbDpuZXcgUmVnRXhwKFwiaHNsXCIrdCksaHNsYTpuZXcgUmVnRXhwKFwiaHNsYVwiK24pLGhzdjpuZXcgUmVnRXhwKFwiaHN2XCIrdCksaHN2YTpuZXcgUmVnRXhwKFwiaHN2YVwiK24pLGhleDM6L14jPyhbMC05YS1mQS1GXXsxfSkoWzAtOWEtZkEtRl17MX0pKFswLTlhLWZBLUZdezF9KSQvLGhleDY6L14jPyhbMC05YS1mQS1GXXsyfSkoWzAtOWEtZkEtRl17Mn0pKFswLTlhLWZBLUZdezJ9KSQvLGhleDQ6L14jPyhbMC05YS1mQS1GXXsxfSkoWzAtOWEtZkEtRl17MX0pKFswLTlhLWZBLUZdezF9KShbMC05YS1mQS1GXXsxfSkkLyxoZXg4Oi9eIz8oWzAtOWEtZkEtRl17Mn0pKFswLTlhLWZBLUZdezJ9KShbMC05YS1mQS1GXXsyfSkoWzAtOWEtZkEtRl17Mn0pJC99fSgpO3ZvaWQgMCE9PWUmJmUuZXhwb3J0cz9lLmV4cG9ydHM9aTp2b2lkIDAhPT0obz1mdW5jdGlvbigpe3JldHVybiBpfS5jYWxsKHQsbix0LGUpKSYmKGUuZXhwb3J0cz1vKX0oTWF0aCl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LkdVST12b2lkIDA7dmFyIG89bigxNykscj1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KG8pO3QuR1VJPXIuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fWZ1bmN0aW9uIHIoZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgbz10W25dO28uZW51bWVyYWJsZT1vLmVudW1lcmFibGV8fCExLG8uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG8mJihvLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxvLmtleSxvKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixvKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxvJiZlKHQsbyksdH19KCksYT1uKDApLHM9byhhKSx1PW4oMjMpLGw9byh1KSxjPW4oOSksZj1vKGMpLHA9big2KSxkPW4oMjQpLGg9big3MCksZz1uKDcyKSxiPW4oNzUpLG09big3NykseT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7cih0aGlzLGUpLHRoaXMub3B0cz10LHRoaXMuaGFzUm9vdD12b2lkIDAhPT10LnJvb3Q7dmFyIG49ZnVuY3Rpb24oZSx0KXt2b2lkIDA9PT1lJiYoZT10KX07bih0LHt9KSxuKHQud2lkdGgsMzAwKSx0LnRoZW1lPSgwLGwuZGVmYXVsdCkodC50aGVtZSk/Zi5kZWZhdWx0W3QudGhlbWVdOmYuZGVmYXVsdC5kYXJrLG4odC5yb290LGRvY3VtZW50LmJvZHkpLG4odC5hbGlnbixcInJpZ2h0XCIpLG4odC5vcGFjaXR5LDEpLG4odC5iYXJNb2RlLFwib2Zmc2V0XCIpLG4odC5wb2xsUmF0ZU1TLDEwMCkscC50aGVtZS5TZXQodC50aGVtZSksdGhpcy5fQ29uc3RydWN0RWxlbWVudHMoKSx0aGlzLl9Mb2FkU3R5bGVzKCksdGhpcy5jb21wb25lbnRNYW5hZ2VyPW5ldyBkLkNvbXBvbmVudE1hbmFnZXIsdGhpcy5sb2FkZWRDb21wb25lbnRzPVtdLHRoaXMuX1VwZGF0ZUNvbXBvbmVudHMoKX1yZXR1cm4gaShlLFt7a2V5OlwiX0xvYWRTdHlsZXNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWZ1bmN0aW9uKGUpe3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTt0LnNldEF0dHJpYnV0ZShcInR5cGVcIixcInRleHQvY3NzXCIpLHQuc2V0QXR0cmlidXRlKFwicmVsXCIsXCJzdHlsZXNoZWV0XCIpLHQuc2V0QXR0cmlidXRlKFwiaHJlZlwiLGUpLGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXS5hcHBlbmRDaGlsZCh0KX07ZShcIi8vY2RuLmpzZGVsaXZyLm5ldC9mb250LWhhY2svMi4wMTkvY3NzL2hhY2subWluLmNzc1wiKSx0aGlzLm9wdHMudGhlbWUuZm9udD8oZSh0aGlzLm9wdHMudGhlbWUuZm9udC5mb250VVJMKSwoMCxzLmRlZmF1bHQpKHRoaXMuY29udGFpbmVyLHtcImZvbnQtZmFtaWx5XCI6dGhpcy5vcHRzLnRoZW1lLmZvbnQuZm9udEZhbWlseX0pKTooMCxzLmRlZmF1bHQpKHRoaXMuY29udGFpbmVyLHtcImZvbnQtZmFtaWx5XCI6XCInSGFjaycsIG1vbm9zcGFjZVwifSl9fSx7a2V5OlwiX0NvbnN0cnVjdEVsZW1lbnRzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuY29udGFpbmVyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5jb250YWluZXIuY2xhc3NMaXN0LmFkZChtW1wiZ3VpZnktY29udGFpbmVyXCJdKSwoMCxzLmRlZmF1bHQpKHRoaXMuY29udGFpbmVyLHt0b3A6XCJhYm92ZVwiPT10aGlzLm9wdHMuYmFyTW9kZSYmdGhpcy5oYXNSb290P1wiLVwiK3RoaXMub3B0cy50aGVtZS5zaXppbmcubWVudUJhckhlaWdodDpcIjBcIn0pLHRoaXMub3B0cy5yb290LmFwcGVuZENoaWxkKHRoaXMuY29udGFpbmVyKSxcIm5vbmVcIiE9PXRoaXMub3B0cy5iYXJNb2RlJiYodGhpcy5iYXI9bmV3IGguTWVudUJhcih0aGlzLmNvbnRhaW5lcix0aGlzLm9wdHMpLHRoaXMuYmFyLmFkZExpc3RlbmVyKFwib250b2dnbGVwYW5lbFwiLGZ1bmN0aW9uKCl7ZS5wYW5lbC5Ub2dnbGVWaXNpYmxlKCl9KSksdGhpcy5wYW5lbD1uZXcgZy5QYW5lbCh0aGlzLmNvbnRhaW5lcix0aGlzLm9wdHMpLFwibm9uZVwiIT09dGhpcy5vcHRzLmJhck1vZGU/dGhpcy5wYW5lbC5TZXRWaXNpYmxlKCExKTp0aGlzLnBhbmVsLlNldFZpc2libGUoITApLHRoaXMudG9hc3Rlcj1uZXcgYi5Ub2FzdEFyZWEodGhpcy5jb250YWluZXIsdGhpcy5vcHRzKX19LHtrZXk6XCJfVXBkYXRlQ29tcG9uZW50c1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLmxvYWRlZENvbXBvbmVudHMuZm9yRWFjaChmdW5jdGlvbihlKXtlLmJpbmRpbmcmJmUuYmluZGluZy5vYmplY3RbZS5iaW5kaW5nLnByb3BlcnR5XSE9ZS5vbGRWYWx1ZSYmKGUuU2V0VmFsdWUoZS5iaW5kaW5nLm9iamVjdFtlLmJpbmRpbmcucHJvcGVydHldKSxlLm9sZFZhbHVlPWUuYmluZGluZy5vYmplY3RbZS5iaW5kaW5nLnByb3BlcnR5XSl9KSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbigpe2UuX1VwZGF0ZUNvbXBvbmVudHMoKX0pfSx0aGlzLm9wdHMucG9sbFJhdGVNUyl9fSx7a2V5OlwiUmVnaXN0ZXJcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O2lmKEFycmF5LmlzQXJyYXkoZSkpZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciBvPU9iamVjdC5hc3NpZ24oZSxuKTt0Ll9SZWdpc3RlcihvKX0pO2Vsc2V7dmFyIG89T2JqZWN0LmFzc2lnbihlLG4pO3RoaXMuX1JlZ2lzdGVyKG8pfX19LHtrZXk6XCJfUmVnaXN0ZXJcIix2YWx1ZTpmdW5jdGlvbihlKXtpZihlLm9iamVjdCYmZS5wcm9wZXJ0eSYmdm9pZCAwPT09ZS5vYmplY3RbZS5wcm9wZXJ0eV0pdGhyb3cgbmV3IEVycm9yKFwiT2JqZWN0IFwiK2Uub2JqZWN0K1wiIGhhcyBubyBwcm9wZXJ0eSAnXCIrZS5wcm9wZXJ0eStcIidcIik7ZS5vYmplY3QmJmUucHJvcGVydHkmJihlLmluaXRpYWw9ZS5vYmplY3RbZS5wcm9wZXJ0eV0pO3ZhciB0PXRoaXMucGFuZWwuZWxlbWVudDtpZihlLmZvbGRlcil7dmFyIG49dGhpcy5sb2FkZWRDb21wb25lbnRzLmZpbmQoZnVuY3Rpb24odCl7cmV0dXJuXCJmb2xkZXJcIj09PXQub3B0cy50eXBlJiZ0Lm9wdHMubGFiZWw9PT1lLmZvbGRlcn0pO2lmKCFuKXRocm93IG5ldyBFcnJvcihcIk5vIGZvbGRlciBleGlzdHMgd2l0aCB0aGUgbmFtZSBcIitlLmZvbGRlcik7dD1uLmZvbGRlckNvbnRhaW5lcn12YXIgbz10aGlzLmNvbXBvbmVudE1hbmFnZXIuQ3JlYXRlKGUudHlwZSx0LGUpO2Uub2JqZWN0JiZlLnByb3BlcnR5JiYoby5iaW5kaW5nPXtvYmplY3Q6ZS5vYmplY3QscHJvcGVydHk6ZS5wcm9wZXJ0eX0pLG8ub24mJihvLm9uKFwiaW5pdGlhbGl6ZWRcIixmdW5jdGlvbih0KXtlLm9uSW5pdGlhbGl6ZSYmZS5vbkluaXRpYWxpemUodCl9KSxvLm9uKFwiaW5wdXRcIixmdW5jdGlvbih0KXtlLm9iamVjdCYmZS5wcm9wZXJ0eSYmKGUub2JqZWN0W2UucHJvcGVydHldPXQpLGUub25DaGFuZ2UmJmUub25DaGFuZ2UodCl9KSksdGhpcy5sb2FkZWRDb21wb25lbnRzLnB1c2gobyl9fSx7a2V5OlwiVG9hc3RcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06NWUzLG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjEwMDt0aGlzLnRvYXN0ZXIuQ3JlYXRlVG9hc3QoZSx0LG4pfX1dKSxlfSgpO3QuZGVmYXVsdD15LGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCl7dmFyIG49bnVsbCxvPVtcIldlYmtpdFwiLFwiTW96XCIsXCJPXCIsXCJtc1wiXTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7bnx8KG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSk7dmFyIHQ9bi5zdHlsZTtpZihlIGluIHQpcmV0dXJuIGU7Zm9yKHZhciByPWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrZS5zbGljZSgxKSxpPW8ubGVuZ3RoO2k+PTA7aS0tKXt2YXIgYT1vW2ldK3I7aWYoYSBpbiB0KXJldHVybiBhfXJldHVybiExfX0sZnVuY3Rpb24oZSx0LG4pe2Z1bmN0aW9uIG8oZSl7cmV0dXJuIHIoZSkucmVwbGFjZSgvXFxzKFxcdykvZyxmdW5jdGlvbihlLHQpe3JldHVybiB0LnRvVXBwZXJDYXNlKCl9KX12YXIgcj1uKDIwKTtlLmV4cG9ydHM9b30sZnVuY3Rpb24oZSx0LG4pe2Z1bmN0aW9uIG8oZSl7cmV0dXJuIHIoZSkucmVwbGFjZSgvW1xcV19dKygufCQpL2csZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD9cIiBcIit0OlwiXCJ9KS50cmltKCl9dmFyIHI9bigyMSk7ZS5leHBvcnRzPW99LGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbihlKXtyZXR1cm4gaS50ZXN0KGUpP2UudG9Mb3dlckNhc2UoKTphLnRlc3QoZSk/KG8oZSl8fGUpLnRvTG93ZXJDYXNlKCk6cy50ZXN0KGUpP3IoZSkudG9Mb3dlckNhc2UoKTplLnRvTG93ZXJDYXNlKCl9ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZS5yZXBsYWNlKHUsZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD9cIiBcIit0OlwiXCJ9KX1mdW5jdGlvbiByKGUpe3JldHVybiBlLnJlcGxhY2UobCxmdW5jdGlvbihlLHQsbil7cmV0dXJuIHQrXCIgXCIrbi50b0xvd2VyQ2FzZSgpLnNwbGl0KFwiXCIpLmpvaW4oXCIgXCIpfSl9ZS5leHBvcnRzPW47dmFyIGk9L1xccy8sYT0vKF98LXxcXC58OikvLHM9LyhbYS16XVtBLVpdfFtBLVpdW2Etel0pLyx1PS9bXFxXX10rKC58JCkvZyxsPS8oLikoW0EtWl0rKS9nfSxmdW5jdGlvbihlLHQpe3ZhciBuPXthbmltYXRpb25JdGVyYXRpb25Db3VudDohMCxib3hGbGV4OiEwLGJveEZsZXhHcm91cDohMCxib3hPcmRpbmFsR3JvdXA6ITAsY29sdW1uQ291bnQ6ITAsZmxleDohMCxmbGV4R3JvdzohMCxmbGV4UG9zaXRpdmU6ITAsZmxleFNocmluazohMCxmbGV4TmVnYXRpdmU6ITAsZmxleE9yZGVyOiEwLGdyaWRSb3c6ITAsZ3JpZENvbHVtbjohMCxmb250V2VpZ2h0OiEwLGxpbmVDbGFtcDohMCxsaW5lSGVpZ2h0OiEwLG9wYWNpdHk6ITAsb3JkZXI6ITAsb3JwaGFuczohMCx0YWJTaXplOiEwLHdpZG93czohMCx6SW5kZXg6ITAsem9vbTohMCxmaWxsT3BhY2l0eTohMCxzdG9wT3BhY2l0eTohMCxzdHJva2VEYXNob2Zmc2V0OiEwLHN0cm9rZU9wYWNpdHk6ITAsc3Ryb2tlV2lkdGg6ITB9O2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVyblwibnVtYmVyXCIhPXR5cGVvZiB0fHxuW2VdP3Q6dCtcInB4XCJ9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG89U3RyaW5nLnByb3RvdHlwZS52YWx1ZU9mLHI9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiBvLmNhbGwoZSksITB9Y2F0Y2goZSl7cmV0dXJuITF9fSxpPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsYT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wudG9TdHJpbmdUYWc7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlfHxcIm9iamVjdFwiPT10eXBlb2YgZSYmKGE/cihlKTpcIltvYmplY3QgU3RyaW5nXVwiPT09aS5jYWxsKGUpKX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LkNvbXBvbmVudE1hbmFnZXI9dm9pZCAwO3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgbz10W25dO28uZW51bWVyYWJsZT1vLmVudW1lcmFibGV8fCExLG8uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG8mJihvLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxvLmtleSxvKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixvKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxvJiZlKHQsbyksdH19KCksaT1uKDI1KSxhPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0oaSkscz1uKDYpO3QuQ29tcG9uZW50TWFuYWdlcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtvKHRoaXMsZSksdGhpcy51dWlkPSgwLGEuZGVmYXVsdCkoKSx0aGlzLmNvbXBvbmVudHM9e3RpdGxlOm4oMjgpLHJhbmdlOm4oMjkpLGJ1dHRvbjpuKDQ2KSxjaGVja2JveDpuKDQ4KSxzZWxlY3Q6big1MCksdGV4dDpuKDUyKSxjb2xvcjpuKDUzKSxmb2xkZXI6big2NSksZmlsZTpuKDY3KSxkaXNwbGF5Om4oNjkpfX1yZXR1cm4gcihlLFt7a2V5OlwiQ3JlYXRlXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe2lmKHZvaWQgMD09PXRoaXMuY29tcG9uZW50c1tlXSl0aHJvdyBuZXcgRXJyb3IoXCJObyBjb21wb25lbnQgdHlwZSBuYW1lZCAnXCIrZStcIicgZXhpc3RzLlwiKTtyZXR1cm4gbmV3IHRoaXMuY29tcG9uZW50c1tlXSh0LG4scy50aGVtZSx0aGlzLnV1aWQpfX1dKSxlfSgpfSxmdW5jdGlvbihlLHQsbil7ZnVuY3Rpb24gbyhlLHQsbil7dmFyIG89dCYmbnx8MDtcInN0cmluZ1wiPT10eXBlb2YgZSYmKHQ9XCJiaW5hcnlcIj09ZT9uZXcgQXJyYXkoMTYpOm51bGwsZT1udWxsKSxlPWV8fHt9O3ZhciBhPWUucmFuZG9tfHwoZS5ybmd8fHIpKCk7aWYoYVs2XT0xNSZhWzZdfDY0LGFbOF09NjMmYVs4XXwxMjgsdClmb3IodmFyIHM9MDtzPDE2Oysrcyl0W28rc109YVtzXTtyZXR1cm4gdHx8aShhKX12YXIgcj1uKDI2KSxpPW4oMjcpO2UuZXhwb3J0cz1vfSxmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKHQpe3ZhciBuLG89dC5jcnlwdG98fHQubXNDcnlwdG87aWYobyYmby5nZXRSYW5kb21WYWx1ZXMpe3ZhciByPW5ldyBVaW50OEFycmF5KDE2KTtuPWZ1bmN0aW9uKCl7cmV0dXJuIG8uZ2V0UmFuZG9tVmFsdWVzKHIpLHJ9fWlmKCFuKXt2YXIgaT1uZXcgQXJyYXkoMTYpO249ZnVuY3Rpb24oKXtmb3IodmFyIGUsdD0wO3Q8MTY7dCsrKTA9PSgzJnQpJiYoZT00Mjk0OTY3Mjk2Kk1hdGgucmFuZG9tKCkpLGlbdF09ZT4+PigoMyZ0KTw8MykmMjU1O3JldHVybiBpfX1lLmV4cG9ydHM9bn0pLmNhbGwodCxuKDEwKSl9LGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbihlLHQpe3ZhciBuPXR8fDAscj1vO3JldHVybiByW2VbbisrXV0rcltlW24rK11dK3JbZVtuKytdXStyW2VbbisrXV0rXCItXCIrcltlW24rK11dK3JbZVtuKytdXStcIi1cIityW2VbbisrXV0rcltlW24rK11dK1wiLVwiK3JbZVtuKytdXStyW2VbbisrXV0rXCItXCIrcltlW24rK11dK3JbZVtuKytdXStyW2VbbisrXV0rcltlW24rK11dK3JbZVtuKytdXStyW2VbbisrXV19Zm9yKHZhciBvPVtdLHI9MDtyPDI1NjsrK3Ipb1tyXT0ocisyNTYpLnRvU3RyaW5nKDE2KS5zdWJzdHIoMSk7ZS5leHBvcnRzPW59LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcj1uKDApLGk9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShyKSxhPWZ1bmN0aW9uIGUodCxyLGEpe28odGhpcyxlKSx0aGlzLm9wdHM9cjt2YXIgcz1uKDEpKHQsci5sYWJlbCxhKTsoMCxpLmRlZmF1bHQpKHMse30pO3ZhciB1PXMuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSk7KDAsaS5kZWZhdWx0KSh1LHtcImJveC1zaXppbmdcIjpcImJvcmRlci1ib3hcIix3aWR0aDpcIjEwMCVcIixkaXNwbGF5OlwiaW5saW5lLWJsb2NrXCIsaGVpZ2h0OlwiMjBweFwiLHZlcnRpY2FsQWxpZ246XCJ0b3BcIn0pO3ZhciBsPXUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSk7bC5pbm5lckhUTUw9XCImIzk2MzI7IFwiK3IubGFiZWwrXCIgJiM5NjMyO1wiLCgwLGkuZGVmYXVsdCkobCx7ZGlzcGxheTpcImlubGluZS1ibG9ja1wiLHZlcnRpY2FsQWxpZ246XCJzdWJcIixoZWlnaHQ6XCIyMHB4XCIsXCJsaW5lLWhlaWdodFwiOlwiMjBweFwiLFwicGFkZGluZy1sZWZ0XCI6XCI1cHhcIixcInBhZGRpbmctcmlnaHRcIjpcIjVweFwiLFwiYmFja2dyb3VuZC1jb2xvclwiOmEuY29sb3JzLnRleHQyLGNvbG9yOmEuY29sb3JzLmJhY2tncm91bmQxfSl9O3QuZGVmYXVsdD1hLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1mdW5jdGlvbiByKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBpKGUsdCl7aWYoIWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiF0fHxcIm9iamVjdFwiIT10eXBlb2YgdCYmXCJmdW5jdGlvblwiIT10eXBlb2YgdD9lOnR9ZnVuY3Rpb24gYShlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiB0KTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihlLHQpOmUuX19wcm90b19fPXQpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgbz10W25dO28uZW51bWVyYWJsZT1vLmVudW1lcmFibGV8fCExLG8uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG8mJihvLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxvLmtleSxvKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixvKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxvJiZlKHQsbyksdH19KCksdT1uKDQpLGw9byh1KSxjPW4oMCksZj1vKGMpLHA9bigzMCksZD1vKHApLGg9bigzMSksZz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUsbyxhLHMpe3IodGhpcyx0KTt2YXIgdT1pKHRoaXMsKHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCkpLmNhbGwodGhpcykpO3Uub3B0cz1vO3ZhciBsPW4oMSkoZSxvLmxhYmVsLGEpO2lmKG4oNSkobCxvLmxhYmVsLGEpLG8uc3RlcCYmby5zdGVwcyl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3Qgc3BlY2lmeSBib3RoIHN0ZXAgYW5kIHN0ZXBzLiBHb3Qgc3RlcCA9IFwiK28uc3RlcCtcIiwgc3RlcHMgPSBcIixvLnN0ZXBzKTtpZih1LmlucHV0PWwuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpKSx1LmlucHV0LnR5cGU9XCJyYW5nZVwiLHUuaW5wdXQuY2xhc3NOYW1lPWhbXCJndWlmeS1yYW5nZVwiXSxvLmxhYmVsJiZ1LmlucHV0LnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIixvLmxhYmVsKSxcImxvZ1wiPT09by5zY2FsZSl7aWYoby5tYXg9KDAsZC5kZWZhdWx0KShvLm1heCk/by5tYXg6MTAwLG8ubWluPSgwLGQuZGVmYXVsdCkoby5taW4pP28ubWluOi4xLG8ubWluKm8ubWF4PD0wKXRocm93IG5ldyBFcnJvcihcIkxvZyByYW5nZSBtaW4vbWF4IG11c3QgaGF2ZSB0aGUgc2FtZSBzaWduIGFuZCBub3QgZXF1YWwgemVyby4gR290IG1pbiA9IFwiK28ubWluK1wiLCBtYXggPSBcIitvLm1heCk7aWYodS5sb2dtaW49by5taW4sdS5sb2dtYXg9by5tYXgsdS5sb2dzaWduPW8ubWluPjA/MTotMSx1LmxvZ21pbj1NYXRoLmFicyh1LmxvZ21pbiksdS5sb2dtYXg9TWF0aC5hYnModS5sb2dtYXgpLG8ubWluPTAsby5tYXg9MTAwLCgwLGQuZGVmYXVsdCkoby5zdGVwKSl0aHJvdyBuZXcgRXJyb3IoXCJMb2cgbWF5IG9ubHkgdXNlIHN0ZXBzIChpbnRlZ2VyIG51bWJlciBvZiBzdGVwcyksIG5vdCBhIHN0ZXAgdmFsdWUuIEdvdCBzdGVwID1cIitvLnN0ZXApO2lmKG8uc3RlcD0xLG8uaW5pdGlhbD11LkludmVyc2VTY2FsZVZhbHVlKCgwLGQuZGVmYXVsdCkoby5pbml0aWFsKT9vLmluaXRpYWw6c2NhbGVWYWx1ZSguNSooby5taW4rby5tYXgpKSksby5pbml0aWFsKnUuSW52ZXJzZVNjYWxlVmFsdWUoby5tYXgpPD0wKXRocm93IG5ldyBFcnJvcihcIkxvZyByYW5nZSBpbml0aWFsIHZhbHVlIG11c3QgaGF2ZSB0aGUgc2FtZSBzaWduIGFzIG1pbi9tYXggYW5kIG11c3Qgbm90IGVxdWFsIHplcm8uIEdvdCBpbml0aWFsIHZhbHVlID0gXCIrby5pbml0aWFsKX1lbHNlIG8ubWF4PSgwLGQuZGVmYXVsdCkoby5tYXgpP28ubWF4OjEwMCxvLm1pbj0oMCxkLmRlZmF1bHQpKG8ubWluKT9vLm1pbjowLG8uc3RlcD0oMCxkLmRlZmF1bHQpKG8uc3RlcCk/by5zdGVwOihvLm1heC1vLm1pbikvMTAwLG8uaW5pdGlhbD0oMCxkLmRlZmF1bHQpKG8uaW5pdGlhbCk/by5pbml0aWFsOi41KihvLm1pbitvLm1heCk7KDAsZC5kZWZhdWx0KShvLnN0ZXBzKSYmKG8uc3RlcD0oMCxkLmRlZmF1bHQpKG8uc3RlcHMpPyhvLm1heC1vLm1pbikvby5zdGVwczpvLnN0ZXApO3ZhciBjPU1hdGgucm91bmQoKG8uaW5pdGlhbC1vLm1pbikvby5zdGVwKTtyZXR1cm4gby5pbml0aWFsPW8ubWluK28uc3RlcCpjLHUuaW5wdXQubWluPW8ubWluLHUuaW5wdXQubWF4PW8ubWF4LHUuaW5wdXQuc3RlcD1vLnN0ZXAsdS5pbnB1dC52YWx1ZT1vLmluaXRpYWwsKDAsZi5kZWZhdWx0KSh1LmlucHV0LHt3aWR0aDpcImNhbGMoMTAwJSAtIFwiK2Euc2l6aW5nLmxhYmVsV2lkdGgrXCIgLSAxMSUgLSAwLjc1ZW0pXCJ9KSx1LnZhbHVlQ29tcG9uZW50PW4oMTQpKGwsdS5TY2FsZVZhbHVlKG8uaW5pdGlhbCksYSxcIjExJVwiKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dS5lbWl0KFwiaW5pdGlhbGl6ZWRcIixwYXJzZUZsb2F0KHUuaW5wdXQudmFsdWUpKX0pLHUudXNlcklzTW9kaWZ5aW5nPSExLHUuaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImZvY3VzXCIsZnVuY3Rpb24oKXt1LmZvY3VzZWQ9ITB9KSx1LmlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJibHVyXCIsZnVuY3Rpb24oKXt1LmZvY3VzZWQ9ITF9KSx1LmlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsZnVuY3Rpb24oKXt1LmlucHV0LmJsdXIoKX0pLHUuaW5wdXQub25pbnB1dD1mdW5jdGlvbihlKXt2YXIgdD11LlNjYWxlVmFsdWUocGFyc2VGbG9hdChlLnRhcmdldC52YWx1ZSkpO3UudmFsdWVDb21wb25lbnQuaW5uZXJIVE1MPXQsdS5lbWl0KFwiaW5wdXRcIix0KX0sdX1yZXR1cm4gYSh0LGUpLHModCxbe2tleTpcIlNjYWxlVmFsdWVcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm5cImxvZ1wiPT09dGhpcy5vcHRzLnNjYWxlP3RoaXMubG9nc2lnbipNYXRoLmV4cChNYXRoLmxvZyh0aGlzLmxvZ21pbikrKE1hdGgubG9nKHRoaXMubG9nbWF4KS1NYXRoLmxvZyh0aGlzLmxvZ21pbikpKmUvMTAwKTplfX0se2tleTpcIkludmVyc2VTY2FsZVZhbHVlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuXCJsb2dcIj09PXRoaXMub3B0cy5zY2FsZT8xMDAqKE1hdGgubG9nKGUqdGhpcy5sb2dzaWduKS1NYXRoLmxvZyh0aGlzLmxvZ21pbikpLyhNYXRoLmxvZyh0aGlzLmxvZ21heCktTWF0aC5sb2codGhpcy5sb2dtaW4pKTplfX0se2tleTpcIlNldFZhbHVlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7ITAhPT10aGlzLmZvY3VzZWQmJih0aGlzLnZhbHVlQ29tcG9uZW50LmlubmVySFRNTD1lLnRvU3RyaW5nKCksdGhpcy5pbnB1dC52YWx1ZT10aGlzLkludmVyc2VTY2FsZVZhbHVlKGUpKX19LHtrZXk6XCJHZXRWYWx1ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5wdXQudmFsdWV9fV0pLHR9KGwuZGVmYXVsdCk7dC5kZWZhdWx0PWcsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LG4peyFmdW5jdGlvbihuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiBlJiYhaXNOYU4oZSl8fCEhKGU9KGV8fFwiXCIpLnRvU3RyaW5nKCkudHJpbSgpKSYmIWlzTmFOKGUpfXZvaWQgMCE9PWUmJmUuZXhwb3J0cyYmKHQ9ZS5leHBvcnRzPW8pLHQuaXNOdW1lcmljPW99KCl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgbz1mdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3QuZnJlZXplKE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUse3Jhdzp7dmFsdWU6T2JqZWN0LmZyZWV6ZSh0KX19KSl9KFtcIlxcblxcbmlucHV0W3R5cGU9cmFuZ2VdLmd1aWZ5LXJhbmdlIHtcXG4gICAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lO1xcbiAgICB3aWR0aDogMTAwJTtcXG4gICAgbWFyZ2luOiAwcHggMDtcXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbn1cXG5cXG4vKiBSZW1vdmUgb3V0bGluZXMgc2luY2Ugd2UnbGwgYmUgYWRkaW5nIG91ciBvd24gKi9cXG5pbnB1dFt0eXBlPXJhbmdlXS5ndWlmeS1yYW5nZTpmb2N1cyB7XFxuICAgIG91dGxpbmU6IG5vbmU7XFxufVxcbmlucHV0W3R5cGU9cmFuZ2VdLmd1aWZ5LXJhbmdlOjotbW96LWZvY3VzLW91dGVyIHtcXG4gICAgYm9yZGVyOiAwO1xcbn1cXG5cXG4vKiBXZWJraXQgKi9cXG5pbnB1dFt0eXBlPXJhbmdlXS5ndWlmeS1yYW5nZTo6LXdlYmtpdC1zbGlkZXItcnVubmFibGUtdHJhY2sge1xcbiAgICB3aWR0aDogMTAwJTtcXG4gICAgaGVpZ2h0OiAyMHB4O1xcbiAgICBjdXJzb3I6IGV3LXJlc2l6ZTtcXG4gICAgYmFja2dyb3VuZDogXCIsXCI7XFxufVxcbmlucHV0W3R5cGU9cmFuZ2VdLmd1aWZ5LXJhbmdlOjotd2Via2l0LXNsaWRlci10aHVtYiB7XFxuICAgIGhlaWdodDogMjBweDtcXG4gICAgd2lkdGg6IDEwcHg7XFxuICAgIGJhY2tncm91bmQ6IFwiLFwiO1xcbiAgICBjdXJzb3I6IGV3LXJlc2l6ZTtcXG4gICAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lO1xcbiAgICBtYXJnaW4tdG9wOiAwcHg7XFxufVxcbmlucHV0W3R5cGU9cmFuZ2VdLmd1aWZ5LXJhbmdlOmZvY3VzOjotd2Via2l0LXNsaWRlci1ydW5uYWJsZS10cmFjayB7XFxuICAgIGJhY2tncm91bmQ6IFwiLFwiO1xcbiAgICBvdXRsaW5lOiBub25lO1xcbn1cXG5cXG4vKiBHZWNrbyAqL1xcbmlucHV0W3R5cGU9cmFuZ2VdLmd1aWZ5LXJhbmdlOjotbW96LXJhbmdlLXRyYWNrIHtcXG4gICAgd2lkdGg6IDEwMCU7XFxuICAgIGhlaWdodDogMjBweDtcXG4gICAgY3Vyc29yOiBldy1yZXNpemU7XFxuICAgIGJhY2tncm91bmQ6IFwiLFwiO1xcbn1cXG5pbnB1dFt0eXBlPXJhbmdlXS5ndWlmeS1yYW5nZTpmb2N1czo6LW1vei1yYW5nZS10cmFjayB7XFxuICAgIGJhY2tncm91bmQ6IFwiLFwiO1xcbn1cXG5pbnB1dFt0eXBlPXJhbmdlXS5ndWlmeS1yYW5nZTo6LW1vei1yYW5nZS10aHVtYiB7XFxuICAgIGhlaWdodDogMjBweDtcXG4gICAgd2lkdGg6IDEwcHg7XFxuICAgIGJhY2tncm91bmQ6IFwiLFwiO1xcbiAgICBjdXJzb3I6IGV3LXJlc2l6ZTtcXG59XFxuXFxuLyogSUUgKi9cXG5pbnB1dFt0eXBlPXJhbmdlXS5ndWlmeS1yYW5nZTo6LW1zLXRyYWNrIHtcXG4gICAgd2lkdGg6IDEwMCU7XFxuICAgIGhlaWdodDogMjBweDtcXG4gICAgY3Vyc29yOiBldy1yZXNpemU7XFxuICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xcbiAgICBib3JkZXItY29sb3I6IHRyYW5zcGFyZW50O1xcbiAgICBjb2xvcjogdHJhbnNwYXJlbnQ7XFxufVxcbmlucHV0W3R5cGU9cmFuZ2VdLmd1aWZ5LXJhbmdlOjotbXMtZmlsbC1sb3dlciB7XFxuICAgIGJhY2tncm91bmQ6IFwiLFwiO1xcbn1cXG5pbnB1dFt0eXBlPXJhbmdlXS5ndWlmeS1yYW5nZTo6LW1zLWZpbGwtdXBwZXIge1xcbiAgICBiYWNrZ3JvdW5kOiBcIixcIjtcXG59XFxuaW5wdXRbdHlwZT1yYW5nZV0uZ3VpZnktcmFuZ2U6Zm9jdXM6Oi1tcy1maWxsLWxvd2VyIHtcXG4gICAgYmFja2dyb3VuZDogXCIsXCI7XFxufVxcbmlucHV0W3R5cGU9cmFuZ2VdLmd1aWZ5LXJhbmdlOmZvY3VzOjotbXMtZmlsbC11cHBlciB7XFxuICAgIGJhY2tncm91bmQ6IFwiLFwiO1xcbn1cXG5pbnB1dFt0eXBlPXJhbmdlXS5ndWlmeS1yYW5nZTo6LW1zLXRodW1iIHtcXG4gICAgd2lkdGg6IDEwcHg7XFxuICAgIGJvcmRlci1yYWRpdXM6IDBweDtcXG4gICAgYmFja2dyb3VuZDogXCIsXCI7XFxuICAgIGN1cnNvcjogZXctcmVzaXplO1xcbiAgICBoZWlnaHQ6IDIwcHg7XFxufVxcbmlucHV0W3R5cGU9cmFuZ2VdLmd1aWZ5LXJhbmdlOmZvY3VzOjotbXMtZmlsbC1sb3dlciB7XFxuICAgIGJhY2tncm91bmQ6IFwiLFwiO1xcbiAgICBvdXRsaW5lOiBub25lO1xcbn1cXG5pbnB1dFt0eXBlPXJhbmdlXS5ndWlmeS1yYW5nZTpmb2N1czo6LW1zLWZpbGwtdXBwZXIge1xcbiAgICBiYWNrZ3JvdW5kOiBcIixcIjtcXG4gICAgb3V0bGluZTogbm9uZTtcXG59XFxuXFxuXCJdLFtcIlxcblxcbmlucHV0W3R5cGU9cmFuZ2VdLmd1aWZ5LXJhbmdlIHtcXG4gICAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lO1xcbiAgICB3aWR0aDogMTAwJTtcXG4gICAgbWFyZ2luOiAwcHggMDtcXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbn1cXG5cXG4vKiBSZW1vdmUgb3V0bGluZXMgc2luY2Ugd2UnbGwgYmUgYWRkaW5nIG91ciBvd24gKi9cXG5pbnB1dFt0eXBlPXJhbmdlXS5ndWlmeS1yYW5nZTpmb2N1cyB7XFxuICAgIG91dGxpbmU6IG5vbmU7XFxufVxcbmlucHV0W3R5cGU9cmFuZ2VdLmd1aWZ5LXJhbmdlOjotbW96LWZvY3VzLW91dGVyIHtcXG4gICAgYm9yZGVyOiAwO1xcbn1cXG5cXG4vKiBXZWJraXQgKi9cXG5pbnB1dFt0eXBlPXJhbmdlXS5ndWlmeS1yYW5nZTo6LXdlYmtpdC1zbGlkZXItcnVubmFibGUtdHJhY2sge1xcbiAgICB3aWR0aDogMTAwJTtcXG4gICAgaGVpZ2h0OiAyMHB4O1xcbiAgICBjdXJzb3I6IGV3LXJlc2l6ZTtcXG4gICAgYmFja2dyb3VuZDogXCIsXCI7XFxufVxcbmlucHV0W3R5cGU9cmFuZ2VdLmd1aWZ5LXJhbmdlOjotd2Via2l0LXNsaWRlci10aHVtYiB7XFxuICAgIGhlaWdodDogMjBweDtcXG4gICAgd2lkdGg6IDEwcHg7XFxuICAgIGJhY2tncm91bmQ6IFwiLFwiO1xcbiAgICBjdXJzb3I6IGV3LXJlc2l6ZTtcXG4gICAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lO1xcbiAgICBtYXJnaW4tdG9wOiAwcHg7XFxufVxcbmlucHV0W3R5cGU9cmFuZ2VdLmd1aWZ5LXJhbmdlOmZvY3VzOjotd2Via2l0LXNsaWRlci1ydW5uYWJsZS10cmFjayB7XFxuICAgIGJhY2tncm91bmQ6IFwiLFwiO1xcbiAgICBvdXRsaW5lOiBub25lO1xcbn1cXG5cXG4vKiBHZWNrbyAqL1xcbmlucHV0W3R5cGU9cmFuZ2VdLmd1aWZ5LXJhbmdlOjotbW96LXJhbmdlLXRyYWNrIHtcXG4gICAgd2lkdGg6IDEwMCU7XFxuICAgIGhlaWdodDogMjBweDtcXG4gICAgY3Vyc29yOiBldy1yZXNpemU7XFxuICAgIGJhY2tncm91bmQ6IFwiLFwiO1xcbn1cXG5pbnB1dFt0eXBlPXJhbmdlXS5ndWlmeS1yYW5nZTpmb2N1czo6LW1vei1yYW5nZS10cmFjayB7XFxuICAgIGJhY2tncm91bmQ6IFwiLFwiO1xcbn1cXG5pbnB1dFt0eXBlPXJhbmdlXS5ndWlmeS1yYW5nZTo6LW1vei1yYW5nZS10aHVtYiB7XFxuICAgIGhlaWdodDogMjBweDtcXG4gICAgd2lkdGg6IDEwcHg7XFxuICAgIGJhY2tncm91bmQ6IFwiLFwiO1xcbiAgICBjdXJzb3I6IGV3LXJlc2l6ZTtcXG59XFxuXFxuLyogSUUgKi9cXG5pbnB1dFt0eXBlPXJhbmdlXS5ndWlmeS1yYW5nZTo6LW1zLXRyYWNrIHtcXG4gICAgd2lkdGg6IDEwMCU7XFxuICAgIGhlaWdodDogMjBweDtcXG4gICAgY3Vyc29yOiBldy1yZXNpemU7XFxuICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xcbiAgICBib3JkZXItY29sb3I6IHRyYW5zcGFyZW50O1xcbiAgICBjb2xvcjogdHJhbnNwYXJlbnQ7XFxufVxcbmlucHV0W3R5cGU9cmFuZ2VdLmd1aWZ5LXJhbmdlOjotbXMtZmlsbC1sb3dlciB7XFxuICAgIGJhY2tncm91bmQ6IFwiLFwiO1xcbn1cXG5pbnB1dFt0eXBlPXJhbmdlXS5ndWlmeS1yYW5nZTo6LW1zLWZpbGwtdXBwZXIge1xcbiAgICBiYWNrZ3JvdW5kOiBcIixcIjtcXG59XFxuaW5wdXRbdHlwZT1yYW5nZV0uZ3VpZnktcmFuZ2U6Zm9jdXM6Oi1tcy1maWxsLWxvd2VyIHtcXG4gICAgYmFja2dyb3VuZDogXCIsXCI7XFxufVxcbmlucHV0W3R5cGU9cmFuZ2VdLmd1aWZ5LXJhbmdlOmZvY3VzOjotbXMtZmlsbC11cHBlciB7XFxuICAgIGJhY2tncm91bmQ6IFwiLFwiO1xcbn1cXG5pbnB1dFt0eXBlPXJhbmdlXS5ndWlmeS1yYW5nZTo6LW1zLXRodW1iIHtcXG4gICAgd2lkdGg6IDEwcHg7XFxuICAgIGJvcmRlci1yYWRpdXM6IDBweDtcXG4gICAgYmFja2dyb3VuZDogXCIsXCI7XFxuICAgIGN1cnNvcjogZXctcmVzaXplO1xcbiAgICBoZWlnaHQ6IDIwcHg7XFxufVxcbmlucHV0W3R5cGU9cmFuZ2VdLmd1aWZ5LXJhbmdlOmZvY3VzOjotbXMtZmlsbC1sb3dlciB7XFxuICAgIGJhY2tncm91bmQ6IFwiLFwiO1xcbiAgICBvdXRsaW5lOiBub25lO1xcbn1cXG5pbnB1dFt0eXBlPXJhbmdlXS5ndWlmeS1yYW5nZTpmb2N1czo6LW1zLWZpbGwtdXBwZXIge1xcbiAgICBiYWNrZ3JvdW5kOiBcIixcIjtcXG4gICAgb3V0bGluZTogbm9uZTtcXG59XFxuXFxuXCJdKSxyPW4oMiksaT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KHIpLGE9bigzKSxzPWkuZGVmYXVsdC50aGVtZS5jb2xvcnMuYmFja2dyb3VuZDIsdT1pLmRlZmF1bHQudGhlbWUuY29sb3JzLmZvcmVncm91bmQxLGw9aS5kZWZhdWx0LnRoZW1lLmNvbG9ycy5iYWNrZ3JvdW5kMmhvdmVyO2UuZXhwb3J0cz1hKG8scyx1LGwscyxpLmRlZmF1bHQudGhlbWUuY29sb3JzLmJhY2tncm91bmQyaG92ZXIsdSxzLHMsaS5kZWZhdWx0LnRoZW1lLmNvbG9ycy5iYWNrZ3JvdW5kMmhvdmVyLGkuZGVmYXVsdC50aGVtZS5jb2xvcnMuYmFja2dyb3VuZDJob3Zlcix1LGwsbCl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24odCl7ZnVuY3Rpb24gbygpe3ZhciBlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyksbj1yLmFwcGx5KG51bGwsZSk7cmV0dXJuIHQuZG9jdW1lbnQmJmkoci5nZXRDc3MobikpLG59dmFyIHI9bigzMyksaT1uKDEzKTtlLmV4cG9ydHM9b30pLmNhbGwodCxuKDEwKSl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgbz1uKDM0KTtlLmV4cG9ydHM9bygpLGUuZXhwb3J0cy5jc2pzPW8sZS5leHBvcnRzLm5vU2NvcGU9byh7bm9zY29wZTohMH0pLGUuZXhwb3J0cy5nZXRDc3M9bigxMil9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9bigzNSl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUpe3JldHVybiB1KGUpP2Uuc2VsZWN0b3I6ZX1mdW5jdGlvbiByKGUsdCl7cmV0dXJuIGUubWFwKGZ1bmN0aW9uKGUsbil7cmV0dXJuIG4hPT10Lmxlbmd0aD9lK3Rbbl06ZX0pLmpvaW4oXCJcIil9ZnVuY3Rpb24gaShlLHQpe3JldHVybiBPYmplY3Qua2V5cyhlKS5yZWR1Y2UoZnVuY3Rpb24obixvKXtyZXR1cm4gdFtvXXx8KG5bb109ZVtvXSksbn0se30pfXZhciBhPW4oMzYpLHM9big3KSx1PXMuaXNDb21wb3NpdGlvbixsPXMuaWdub3JlQ29tcG9zaXRpb24sYz1uKDM3KSxmPW4oMzgpLHA9bigxMSksZD1uKDQzKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7ZT12b2lkIDA9PT1lP3t9OmU7dmFyIHQ9dm9pZCAwIT09ZS5ub3Njb3BlJiZlLm5vc2NvcGU7cmV0dXJuIGZ1bmN0aW9uKGUsbil7Zm9yKHZhciBuPUFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMSkscz0xO3M8YXJndW1lbnRzLmxlbmd0aDtzKyspbltzLTFdPWFyZ3VtZW50c1tzXTt2YXIgdT1yKGUsbi5tYXAobykpLGg9bChuKSxnPXQ/ZCh1KTpmKHUsaCksYj1hKGcuY3NzKSxtPWkoZy5jbGFzc2VzLGgpLHk9aShnLmtleWZyYW1lcyxoKSx2PWIuY29tcG9zaXRpb25zLHg9YyhtLHksdik7cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh4LHAse2VudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiExLHdyaXRlYWJsZTohMSx2YWx1ZTpiLmNzc30pfX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUpe3JldHVybiBlLnNwbGl0KFwiLFwiKS5tYXAocil9ZnVuY3Rpb24gcihlKXt2YXIgdD1lLnRyaW0oKTtyZXR1cm5cIi5cIj09PXRbMF0/dC5zdWJzdHIoMSk6dH12YXIgaT0obig3KS5tYWtlQ29tcG9zaXRpb24sL1xcLihbXlxcc10rKShcXHMrKShleHRlbmRzXFxzKykoXFwuW157XSspL2cpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUsdCl7dmFyIG49cih0WzFdKSxpPXRbM10sYT10WzRdLHM9dC5pbmRleCt0WzFdLmxlbmd0aCt0WzJdLmxlbmd0aCx1PWkubGVuZ3RoK2EubGVuZ3RoO3JldHVybiBlLmNzcz1lLmNzcy5zbGljZSgwLHMpK1wiIFwiK2UuY3NzLnNsaWNlKHMrdSsxKSxvKGEpLmZvckVhY2goZnVuY3Rpb24odCl7ZS5jb21wb3NpdGlvbnNbbl18fChlLmNvbXBvc2l0aW9uc1tuXT17fSksZS5jb21wb3NpdGlvbnNbdF18fChlLmNvbXBvc2l0aW9uc1t0XT17fSksZS5jb21wb3NpdGlvbnNbbl1bdF09ZS5jb21wb3NpdGlvbnNbdF19KSxlfWZvcih2YXIgbixhPVtdO249aS5leGVjKGUpOylhLnVuc2hpZnQobik7cmV0dXJuIGEucmVkdWNlKHQse2NzczplLGNvbXBvc2l0aW9uczp7fX0pfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oZSl7ZnVuY3Rpb24gdChlKXtyZXR1cm4gT2JqZWN0LmtleXMoZSkuZm9yRWFjaChmdW5jdGlvbihyKXtuW3JdfHwobltyXT0hMCxvLnB1c2gociksdChlW3JdKSl9KX12YXIgbj17fSxvPVtdO3JldHVybiB0KGUpLG99dmFyIHI9big3KS5tYWtlQ29tcG9zaXRpb247ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgaT1PYmplY3Qua2V5cyh0KS5yZWR1Y2UoZnVuY3Rpb24oZSxuKXt2YXIgbz10W25dO3JldHVybiBlW29dPXIoW25dLFtvXSwhMCksZX0se30pO3JldHVybiBPYmplY3Qua2V5cyhlKS5yZWR1Y2UoZnVuY3Rpb24odCxpKXt2YXIgYT1lW2ldLHM9bltpXSx1PXM/byhzKTpbXSxsPVtpXS5jb25jYXQodSksYz1sLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gZVt0XT9lW3RdOnR9KTtyZXR1cm4gdFthXT1yKGwsYyksdH0saSl9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbyhlLHQpe2Z1bmN0aW9uIG4oZSxuKXtmdW5jdGlvbiByKHIsaSxhKXt2YXIgcz10W2FdP2E6byhhKTtyZXR1cm4gZVtuXVtzXT1hLGkrc312YXIgaT1hW25dO3JldHVybntjc3M6ZS5jc3MucmVwbGFjZShpLHIpLGtleWZyYW1lczplLmtleWZyYW1lcyxjbGFzc2VzOmUuY2xhc3Nlc319dmFyIG89cihlKSxhPXtjbGFzc2VzOnMsa2V5ZnJhbWVzOnV9LGw9T2JqZWN0LmtleXMoYSkucmVkdWNlKG4se2NzczplLGtleWZyYW1lczp7fSxjbGFzc2VzOnt9fSk7cmV0dXJuIGkobCl9dmFyIHI9bigzOSksaT1uKDQyKSxhPW4oOCkscz1hLmNsYXNzUmVnZXgsdT1hLmtleWZyYW1lc1JlZ2V4O2UuZXhwb3J0cz1vfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG89big0MCkscj1uKDQxKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9byhyKGUpKTtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGUrXCJfXCIrdH19fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKDA9PT1lKXJldHVyblwiMFwiO2Zvcih2YXIgdD1cIlwiO2U+MDspdD1cIjAxMjM0NTY3ODlhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ekFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaXCJbZSU2Ml0rdCxlPU1hdGguZmxvb3IoZS82Mik7cmV0dXJuIHR9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD01MzgxLG49ZS5sZW5ndGg7bjspdD0zMyp0XmUuY2hhckNvZGVBdCgtLW4pO3JldHVybiB0Pj4+MH19LGZ1bmN0aW9uKGUsdCxuKXtmdW5jdGlvbiBvKGUpe3ZhciB0PU9iamVjdC5rZXlzKGUua2V5ZnJhbWVzKS5yZWR1Y2UoZnVuY3Rpb24odCxuKXtyZXR1cm4gdFtlLmtleWZyYW1lc1tuXV09bix0fSx7fSksbj1PYmplY3Qua2V5cyh0KTtpZihuLmxlbmd0aCl7dmFyIG89XCIoKD86YW5pbWF0aW9ufGFuaW1hdGlvbi1uYW1lKVxcXFxzKjpbXn07XSopKFwiK24uam9pbihcInxcIikrXCIpKFs7XFxcXHNdKVwiK3IsaT1uZXcgUmVnRXhwKG8sXCJnXCIpO3JldHVybntjc3M6ZS5jc3MucmVwbGFjZShpLGZ1bmN0aW9uKGUsbixvLHIpe3JldHVybiBuK3Rbb10rcn0pLGtleWZyYW1lczplLmtleWZyYW1lcyxjbGFzc2VzOmUuY2xhc3Nlc319cmV0dXJuIGV9dmFyIHI9big4KS5pZ25vcmVDb21tZW50cztlLmV4cG9ydHM9b30sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oZSl7cmV0dXJue2NzczplLGtleWZyYW1lczpyKGUscyksY2xhc3NlczpyKGUsYSl9fWZ1bmN0aW9uIHIoZSx0KXtmb3IodmFyIG4sbz17fTtudWxsIT09KG49dC5leGVjKGUpKTspe3ZhciByPW5bMl07b1tyXT1yfXJldHVybiBvfXZhciBpPW4oOCksYT1pLmNsYXNzUmVnZXgscz1pLmtleWZyYW1lc1JlZ2V4O2UuZXhwb3J0cz1vfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG89bigxMSk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBlW29dfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1uKDEyKX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fWZ1bmN0aW9uIHIoZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIGkoZSx0KXtpZighZSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIXR8fFwib2JqZWN0XCIhPXR5cGVvZiB0JiZcImZ1bmN0aW9uXCIhPXR5cGVvZiB0P2U6dH1mdW5jdGlvbiBhKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIHQpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKGUsdCk6ZS5fX3Byb3RvX189dCl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHM9big0KSx1PW8ocyksbD1uKDApLGM9KG8obCksbig0NykpLGY9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLG8sYSxzKXtyKHRoaXMsdCk7dmFyIHU9aSh0aGlzLCh0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpKS5jYWxsKHRoaXMpKTt1Lm9wdHM9bzt2YXIgbD1uKDEpKGUsby5sYWJlbCxhKTtuKDUpKGwsXCJcIixhKTt2YXIgZj1sLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIikpO3JldHVybiBmLmNsYXNzTmFtZT1jW1wiZ3VpZnktYnV0dG9uXCJdLGYudGV4dENvbnRlbnQ9by5sYWJlbCxmLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLG8uYWN0aW9uKSxmLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsZnVuY3Rpb24oKXtmLmJsdXIoKX0pLHV9cmV0dXJuIGEodCxlKSx0fSh1LmRlZmF1bHQpO3QuZGVmYXVsdD1mLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgbz1mdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3QuZnJlZXplKE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUse3Jhdzp7dmFsdWU6T2JqZWN0LmZyZWV6ZSh0KX19KSl9KFtcIlxcblxcbi5ndWlmeS1idXR0b24ge1xcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94ICFpbXBvcnRhbnQ7XFxuICAgIGNvbG9yOiBcIixcIjtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogXCIsXCI7XFxuXFxuICAgIHBvc2l0aW9uOiBhYnNvbHVlO1xcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICAgIGhlaWdodDogMjBweDtcXG4gICAgd2lkdGg6IGNhbGMoMTAwJSAtIFwiLFwiKTtcXG4gICAgYm9yZGVyOiBub25lO1xcbiAgICBjdXJzb3I6IHBvaW50ZXI7XFxuICAgIHJpZ2h0OiAwO1xcbiAgICBmb250LWZhbWlseTogaW5oZXJpdDtcXG59XFxuXFxuXFxuLmd1aWZ5LWJ1dHRvbjpmb2N1cyB7XFxuICAgIG91dGxpbmU6bm9uZTtcXG59XFxuLmd1aWZ5LWJ1dHRvbjo6LW1vei1mb2N1cy1pbm5lciB7XFxuICAgIGJvcmRlcjowO1xcbn1cXG5cXG4uZ3VpZnktYnV0dG9uOmhvdmVyLFxcbi5ndWlmeS1idXR0b246Zm9jdXMge1xcbiAgICBjb2xvcjogXCIsXCI7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IFwiLFwiO1xcbn1cXG5cXG4uZ3VpZnktYnV0dG9uOmFjdGl2ZSB7XFxuICAgIGNvbG9yOiBcIixcIiAhaW1wb3J0YW50O1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBcIixcIiAhaW1wb3J0YW50O1xcbn1cXG5cXG5cIl0sW1wiXFxuXFxuLmd1aWZ5LWJ1dHRvbiB7XFxuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3ggIWltcG9ydGFudDtcXG4gICAgY29sb3I6IFwiLFwiO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBcIixcIjtcXG5cXG4gICAgcG9zaXRpb246IGFic29sdWU7XFxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gICAgaGVpZ2h0OiAyMHB4O1xcbiAgICB3aWR0aDogY2FsYygxMDAlIC0gXCIsXCIpO1xcbiAgICBib3JkZXI6IG5vbmU7XFxuICAgIGN1cnNvcjogcG9pbnRlcjtcXG4gICAgcmlnaHQ6IDA7XFxuICAgIGZvbnQtZmFtaWx5OiBpbmhlcml0O1xcbn1cXG5cXG5cXG4uZ3VpZnktYnV0dG9uOmZvY3VzIHtcXG4gICAgb3V0bGluZTpub25lO1xcbn1cXG4uZ3VpZnktYnV0dG9uOjotbW96LWZvY3VzLWlubmVyIHtcXG4gICAgYm9yZGVyOjA7XFxufVxcblxcbi5ndWlmeS1idXR0b246aG92ZXIsXFxuLmd1aWZ5LWJ1dHRvbjpmb2N1cyB7XFxuICAgIGNvbG9yOiBcIixcIjtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogXCIsXCI7XFxufVxcblxcbi5ndWlmeS1idXR0b246YWN0aXZlIHtcXG4gICAgY29sb3I6IFwiLFwiICFpbXBvcnRhbnQ7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IFwiLFwiICFpbXBvcnRhbnQ7XFxufVxcblxcblwiXSkscj1uKDIpLGk9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShyKSxhPW4oMyk7ZS5leHBvcnRzPWEobyxpLmRlZmF1bHQudGhlbWUuY29sb3JzLnRleHQyLGkuZGVmYXVsdC50aGVtZS5jb2xvcnMuYmFja2dyb3VuZDIsaS5kZWZhdWx0LnRoZW1lLnNpemluZy5sYWJlbFdpZHRoLGkuZGVmYXVsdC50aGVtZS5jb2xvcnMudGV4dDIsaS5kZWZhdWx0LnRoZW1lLmNvbG9ycy5iYWNrZ3JvdW5kMmhvdmVyLGkuZGVmYXVsdC50aGVtZS5jb2xvcnMuYmFja2dyb3VuZDIsaS5kZWZhdWx0LnRoZW1lLmNvbG9ycy50ZXh0Mil9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1mdW5jdGlvbiByKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBpKGUsdCl7aWYoIWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiF0fHxcIm9iamVjdFwiIT10eXBlb2YgdCYmXCJmdW5jdGlvblwiIT10eXBlb2YgdD9lOnR9ZnVuY3Rpb24gYShlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiB0KTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihlLHQpOmUuX19wcm90b19fPXQpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgbz10W25dO28uZW51bWVyYWJsZT1vLmVudW1lcmFibGV8fCExLG8uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG8mJihvLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxvLmtleSxvKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixvKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxvJiZlKHQsbyksdH19KCksdT1uKDQpLGw9byh1KSxjPW4oMCksZj0obyhjKSxuKDQ5KSkscD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUsbyxhLHMpe3IodGhpcyx0KTt2YXIgdT1pKHRoaXMsKHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCkpLmNhbGwodGhpcykpO3Uub3B0cz1vO3ZhciBsPW4oMSkoZSxvLmxhYmVsLGEpO3JldHVybiBuKDUpKGwsby5sYWJlbCxhKSx1LmlucHV0PWwuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpKSx1LmlucHV0LmlkPVwiY2hlY2tib3gtXCIrby5sYWJlbCtzLHUuaW5wdXQudHlwZT1cImNoZWNrYm94XCIsdS5pbnB1dC5jaGVja2VkPW8uaW5pdGlhbCx1LmlucHV0LmNsYXNzTmFtZT1mW1wiZ3VpZnktY2hlY2tib3hcIl0sby5sYWJlbCYmdS5pbnB1dC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsby5sYWJlbCksbC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIikpLmh0bWxGb3I9dS5pbnB1dC5pZCxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dS5lbWl0KFwiaW5pdGlhbGl6ZWRcIix1LmlucHV0LmNoZWNrZWQpfSksdS5pbnB1dC5vbmNoYW5nZT1mdW5jdGlvbihlKXt1LmVtaXQoXCJpbnB1dFwiLGUudGFyZ2V0LmNoZWNrZWQpfSx1fXJldHVybiBhKHQsZSkscyh0LFt7a2V5OlwiU2V0VmFsdWVcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLmlucHV0LmNoZWNrZWQ9ZX19LHtrZXk6XCJHZXRWYWx1ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5wdXQuY2hlY2tlZH19XSksdH0obC5kZWZhdWx0KTt0LmRlZmF1bHQ9cCxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0LmZyZWV6ZShPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLHtyYXc6e3ZhbHVlOk9iamVjdC5mcmVlemUodCl9fSkpfShbJ1xcblxcbmlucHV0W3R5cGU9Y2hlY2tib3hdLmd1aWZ5LWNoZWNrYm94IHtcXG4gICAgYXBwZWFyYW5jZTogbm9uZTtcXG4gICAgLW1vei1hcHBlYXJhbmNlOiBub25lO1xcbiAgICAtd2Via2l0LWFwcGVhcmFuY2U6IG5vbmU7XFxuICAgIG1hcmdpbjogMDtcXG4gICAgY3Vyc29yOiBwb2ludGVyO1xcbn1cXG5cXG5pbnB1dFt0eXBlPWNoZWNrYm94XSArIGxhYmVsIHtcXG4gICAgbWFyZ2luOiAwO1xcbn1cXG5cXG5pbnB1dFt0eXBlPWNoZWNrYm94XS5ndWlmeS1jaGVja2JveCArIGxhYmVsOmJlZm9yZSB7XFxuICAgIGNvbnRlbnQ6IFwiXCI7XFxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gICAgd2lkdGg6IDE4cHg7XFxuICAgIGhlaWdodDogMThweDtcXG4gICAgcGFkZGluZzogMHB4O1xcbiAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xcbiAgICBtYXJnaW4tcmlnaHQ6IDhweDtcXG4gICAgbWFyZ2luLXRvcDogMXB4O1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAnLFwiO1xcbiAgICBib3JkZXItcmFkaXVzOiAwcHg7XFxuICAgIGN1cnNvcjogcG9pbnRlcjtcXG4gICAgYm94LXNpemluZzogY29udGVudC1ib3g7XFxuICAgIC1tb3otYm94LXNpemluZzogY29udGVudC1ib3g7XFxuICAgIC13ZWJraXQtYm94LXNpemluZzogY29udGVudC1ib3g7XFxuXFxufVxcblxcbi8qIEhvdmVyIHN0eWxlICovXFxuaW5wdXRbdHlwZT1jaGVja2JveF0uZ3VpZnktY2hlY2tib3g6aG92ZXIgKyBsYWJlbDpiZWZvcmUge1xcbiAgICB3aWR0aDogMTBweDtcXG4gICAgaGVpZ2h0OiAxMHB4O1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBcIixcIjtcXG4gICAgYm9yZGVyOiBzb2xpZCA0cHggXCIsXCI7XFxufVxcblxcbi8qIEZvY3VzIHdoZW4gY2hlY2tlZCAqL1xcbmlucHV0W3R5cGU9Y2hlY2tib3hdOmNoZWNrZWQuZ3VpZnktY2hlY2tib3g6Zm9jdXMgKyBsYWJlbDpiZWZvcmUge1xcbiAgICB3aWR0aDogMTBweDtcXG4gICAgaGVpZ2h0OiAxMHB4O1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBcIixcIjtcXG4gICAgYm9yZGVyOiBzb2xpZCA0cHggXCIsXCI7XFxufVxcblxcbi8qIEZvY3VzIHdoZW4gdW5jaGVja2VkICovXFxuaW5wdXRbdHlwZT1jaGVja2JveF0uZ3VpZnktY2hlY2tib3g6Zm9jdXMgKyBsYWJlbDpiZWZvcmUge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBcIixcIjtcXG59XFxuXFxuLyogQ2hlY2tlZCBzdHlsZSAqL1xcbmlucHV0W3R5cGU9Y2hlY2tib3hdOmNoZWNrZWQuZ3VpZnktY2hlY2tib3ggKyBsYWJlbDpiZWZvcmUge1xcbiAgICB3aWR0aDogMTBweDtcXG4gICAgaGVpZ2h0OiAxMHB4O1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBcIixcIjtcXG4gICAgYm9yZGVyOiBzb2xpZCA0cHggXCIsXCI7XFxufVxcblxcblwiXSxbJ1xcblxcbmlucHV0W3R5cGU9Y2hlY2tib3hdLmd1aWZ5LWNoZWNrYm94IHtcXG4gICAgYXBwZWFyYW5jZTogbm9uZTtcXG4gICAgLW1vei1hcHBlYXJhbmNlOiBub25lO1xcbiAgICAtd2Via2l0LWFwcGVhcmFuY2U6IG5vbmU7XFxuICAgIG1hcmdpbjogMDtcXG4gICAgY3Vyc29yOiBwb2ludGVyO1xcbn1cXG5cXG5pbnB1dFt0eXBlPWNoZWNrYm94XSArIGxhYmVsIHtcXG4gICAgbWFyZ2luOiAwO1xcbn1cXG5cXG5pbnB1dFt0eXBlPWNoZWNrYm94XS5ndWlmeS1jaGVja2JveCArIGxhYmVsOmJlZm9yZSB7XFxuICAgIGNvbnRlbnQ6IFwiXCI7XFxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gICAgd2lkdGg6IDE4cHg7XFxuICAgIGhlaWdodDogMThweDtcXG4gICAgcGFkZGluZzogMHB4O1xcbiAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xcbiAgICBtYXJnaW4tcmlnaHQ6IDhweDtcXG4gICAgbWFyZ2luLXRvcDogMXB4O1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAnLFwiO1xcbiAgICBib3JkZXItcmFkaXVzOiAwcHg7XFxuICAgIGN1cnNvcjogcG9pbnRlcjtcXG4gICAgYm94LXNpemluZzogY29udGVudC1ib3g7XFxuICAgIC1tb3otYm94LXNpemluZzogY29udGVudC1ib3g7XFxuICAgIC13ZWJraXQtYm94LXNpemluZzogY29udGVudC1ib3g7XFxuXFxufVxcblxcbi8qIEhvdmVyIHN0eWxlICovXFxuaW5wdXRbdHlwZT1jaGVja2JveF0uZ3VpZnktY2hlY2tib3g6aG92ZXIgKyBsYWJlbDpiZWZvcmUge1xcbiAgICB3aWR0aDogMTBweDtcXG4gICAgaGVpZ2h0OiAxMHB4O1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBcIixcIjtcXG4gICAgYm9yZGVyOiBzb2xpZCA0cHggXCIsXCI7XFxufVxcblxcbi8qIEZvY3VzIHdoZW4gY2hlY2tlZCAqL1xcbmlucHV0W3R5cGU9Y2hlY2tib3hdOmNoZWNrZWQuZ3VpZnktY2hlY2tib3g6Zm9jdXMgKyBsYWJlbDpiZWZvcmUge1xcbiAgICB3aWR0aDogMTBweDtcXG4gICAgaGVpZ2h0OiAxMHB4O1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBcIixcIjtcXG4gICAgYm9yZGVyOiBzb2xpZCA0cHggXCIsXCI7XFxufVxcblxcbi8qIEZvY3VzIHdoZW4gdW5jaGVja2VkICovXFxuaW5wdXRbdHlwZT1jaGVja2JveF0uZ3VpZnktY2hlY2tib3g6Zm9jdXMgKyBsYWJlbDpiZWZvcmUge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBcIixcIjtcXG59XFxuXFxuLyogQ2hlY2tlZCBzdHlsZSAqL1xcbmlucHV0W3R5cGU9Y2hlY2tib3hdOmNoZWNrZWQuZ3VpZnktY2hlY2tib3ggKyBsYWJlbDpiZWZvcmUge1xcbiAgICB3aWR0aDogMTBweDtcXG4gICAgaGVpZ2h0OiAxMHB4O1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBcIixcIjtcXG4gICAgYm9yZGVyOiBzb2xpZCA0cHggXCIsXCI7XFxufVxcblxcblwiXSkscj1uKDIpLGk9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShyKSxhPW4oMyk7ZS5leHBvcnRzPWEobyxpLmRlZmF1bHQudGhlbWUuY29sb3JzLmJhY2tncm91bmQyLGkuZGVmYXVsdC50aGVtZS5jb2xvcnMuYmFja2dyb3VuZDJob3ZlcixpLmRlZmF1bHQudGhlbWUuY29sb3JzLmJhY2tncm91bmQyLGkuZGVmYXVsdC50aGVtZS5jb2xvcnMuZm9yZWdyb3VuZDEsaS5kZWZhdWx0LnRoZW1lLmNvbG9ycy5iYWNrZ3JvdW5kMmhvdmVyLGkuZGVmYXVsdC50aGVtZS5jb2xvcnMuYmFja2dyb3VuZDJob3ZlcixpLmRlZmF1bHQudGhlbWUuY29sb3JzLmZvcmVncm91bmQxLGkuZGVmYXVsdC50aGVtZS5jb2xvcnMuYmFja2dyb3VuZDIpfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbyhlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gcihlLHQpe2lmKCFlKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hdHx8XCJvYmplY3RcIiE9dHlwZW9mIHQmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHQ/ZTp0fWZ1bmN0aW9uIGkoZSx0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgdCk7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoZSx0KTplLl9fcHJvdG9fXz10KX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIG89dFtuXTtvLmVudW1lcmFibGU9by5lbnVtZXJhYmxlfHwhMSxvLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBvJiYoby53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsby5rZXksbyl9fXJldHVybiBmdW5jdGlvbih0LG4sbyl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksbyYmZSh0LG8pLHR9fSgpLHM9big0KSx1PWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0ocyksbD1uKDUxKSxjPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxpLGEscyl7byh0aGlzLHQpO3ZhciB1PXIodGhpcywodC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KSkuY2FsbCh0aGlzKSk7dS5vcHRzPWk7dmFyIGMsZixwLGQsaCxnLGIsbTtpZihmPW4oMSkoZSxpLmxhYmVsLGEpLG4oNSkoZixpLmxhYmVsLGEpLHUuaW5wdXQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNlbGVjdFwiKSx1LmlucHV0LmNsYXNzTmFtZT1sW1wiZ3VpZnktc2VsZWN0LWRyb3Bkb3duXCJdLGkubGFiZWwmJnUuaW5wdXQuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLGkubGFiZWwpLHA9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIikscC5jbGFzc0xpc3QuYWRkKGxbXCJndWlmeS1zZWxlY3QtdHJpYW5nbGVcIl0sbFtcImd1aWZ5LXNlbGVjdC10cmlhbmdsZS0tZG93blwiXSksZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKSxkLmNsYXNzTGlzdC5hZGQobFtcImd1aWZ5LXNlbGVjdC10cmlhbmdsZVwiXSxsW1wiZ3VpZnktc2VsZWN0LXRyaWFuZ2xlLS11cFwiXSksZi5hcHBlbmRDaGlsZChwKSxmLmFwcGVuZENoaWxkKGQpLEFycmF5LmlzQXJyYXkoaS5vcHRpb25zKSlmb3IoYz0wO2M8aS5vcHRpb25zLmxlbmd0aDtjKyspZz1pLm9wdGlvbnNbY10sYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpLGIudmFsdWU9Yi50ZXh0Q29udGVudD1nLGkuaW5pdGlhbD09PWcmJihiLnNlbGVjdGVkPVwic2VsZWN0ZWRcIiksdS5pbnB1dC5hcHBlbmRDaGlsZChiKTtlbHNlIGZvcihtPU9iamVjdC5rZXlzKGkub3B0aW9ucyksYz0wO2M8bS5sZW5ndGg7YysrKWg9bVtjXSxiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIiksYi52YWx1ZT1oLGkuaW5pdGlhbD09PWgmJihiLnNlbGVjdGVkPVwic2VsZWN0ZWRcIiksYi50ZXh0Q29udGVudD1pLm9wdGlvbnNbaF0sdS5pbnB1dC5hcHBlbmRDaGlsZChiKTtyZXR1cm4gZi5hcHBlbmRDaGlsZCh1LmlucHV0KSx1LmlucHV0Lm9uY2hhbmdlPWZ1bmN0aW9uKGUpe3UuZW1pdChcImlucHV0XCIsZS50YXJnZXQudmFsdWUpfSx1fXJldHVybiBpKHQsZSksYSh0LFt7a2V5OlwiU2V0VmFsdWVcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLmlucHV0LnZhbHVlPWV9fSx7a2V5OlwiR2V0VmFsdWVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlucHV0LnZhbHVlfX1dKSx0fSh1LmRlZmF1bHQpO3QuZGVmYXVsdD1jLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgbz1mdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3QuZnJlZXplKE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUse3Jhdzp7dmFsdWU6T2JqZWN0LmZyZWV6ZSh0KX19KSl9KFtcIlxcblxcbi5ndWlmeS1zZWxlY3QtZHJvcGRvd24ge1xcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgd2lkdGg6IGNhbGMoMTAwJSAtIFwiLFwiKTtcXG4gICAgcGFkZGluZy1sZWZ0OiAxLjUlO1xcbiAgICBoZWlnaHQ6IDIwcHg7XFxuICAgIGJvcmRlcjogbm9uZTtcXG4gICAgYm9yZGVyLXJhZGl1czogMDtcXG4gICAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lO1xcbiAgICAtbW96LWFwcGVhcmFuY2U6IG5vbmU7XFxuICAgIC1vLWFwcGVhcmFuY2U6bm9uZTtcXG4gICAgYXBwZWFyYW5jZTogbm9uZTtcXG4gICAgZm9udC1mYW1pbHk6IGluaGVyaXQ7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IFwiLFwiO1xcbiAgICBjb2xvcjogXCIsXCI7XFxuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3ggIWltcG9ydGFudDtcXG4gICAgLW1vei1ib3gtc2l6aW5nOiBib3JkZXItYm94ICFpbXBvcnRhbnQ7XFxuICAgIC13ZWJraXQtYm94LXNpemluZzogYm9yZGVyLWJveCAhaW1wb3J0YW50O1xcblxcbiAgICAmOmZvY3VzIHtcXG4gICAgICAgIG91dGxpbmU6IG5vbmU7XFxuICAgIH1cXG4gICAgJjo6LW1vei1mb2N1cy1pbm5lciB7XFxuICAgICAgICBib3JkZXI6IDA7XFxuICAgIH1cXG59XFxuLmd1aWZ5LXNlbGVjdC1kcm9wZG93bjpmb2N1cyxcXG4uZ3VpZnktc2VsZWN0LWRyb3Bkb3duOmhvdmVyIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogXCIsXCI7XFxufVxcbi5ndWlmeS1zZWxlY3QtZHJvcGRvd246Oi1tcy1leHBhbmQge1xcbiAgICBkaXNwbGF5Om5vbmU7XFxufVxcbi5ndWlmeS1zZWxlY3QtdHJpYW5nbGUge1xcbiAgICBjb250ZW50OiAnICc7XFxuICAgIGJvcmRlci1yaWdodDogM3B4IHNvbGlkIHRyYW5zcGFyZW50O1xcbiAgICBib3JkZXItbGVmdDogM3B4IHNvbGlkIHRyYW5zcGFyZW50O1xcbiAgICBsaW5lLWhlaWdodDogMjBweDtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICByaWdodDogMi41JTtcXG4gICAgei1pbmRleDogMTtcXG59XFxuLmd1aWZ5LXNlbGVjdC10cmlhbmdsZS0tZG93biB7XFxuICAgIHRvcDogMTFweDtcXG4gICAgYm9yZGVyLXRvcDogNXB4IHNvbGlkIFwiLFwiO1xcbiAgICBib3JkZXItYm90dG9tOiAwcHggdHJhbnNwYXJlbnQ7XFxufVxcbi5ndWlmeS1zZWxlY3QtdHJpYW5nbGUtLXVwIHtcXG4gICAgdG9wOiA0cHg7XFxuICAgIGJvcmRlci1ib3R0b206IDVweCBzb2xpZCBcIixcIjtcXG4gICAgYm9yZGVyLXRvcDogMHB4IHRyYW5zcGFyZW50O1xcbn1cXG5cXG5cIl0sW1wiXFxuXFxuLmd1aWZ5LXNlbGVjdC1kcm9wZG93biB7XFxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICB3aWR0aDogY2FsYygxMDAlIC0gXCIsXCIpO1xcbiAgICBwYWRkaW5nLWxlZnQ6IDEuNSU7XFxuICAgIGhlaWdodDogMjBweDtcXG4gICAgYm9yZGVyOiBub25lO1xcbiAgICBib3JkZXItcmFkaXVzOiAwO1xcbiAgICAtd2Via2l0LWFwcGVhcmFuY2U6IG5vbmU7XFxuICAgIC1tb3otYXBwZWFyYW5jZTogbm9uZTtcXG4gICAgLW8tYXBwZWFyYW5jZTpub25lO1xcbiAgICBhcHBlYXJhbmNlOiBub25lO1xcbiAgICBmb250LWZhbWlseTogaW5oZXJpdDtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogXCIsXCI7XFxuICAgIGNvbG9yOiBcIixcIjtcXG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveCAhaW1wb3J0YW50O1xcbiAgICAtbW96LWJveC1zaXppbmc6IGJvcmRlci1ib3ggIWltcG9ydGFudDtcXG4gICAgLXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94ICFpbXBvcnRhbnQ7XFxuXFxuICAgICY6Zm9jdXMge1xcbiAgICAgICAgb3V0bGluZTogbm9uZTtcXG4gICAgfVxcbiAgICAmOjotbW96LWZvY3VzLWlubmVyIHtcXG4gICAgICAgIGJvcmRlcjogMDtcXG4gICAgfVxcbn1cXG4uZ3VpZnktc2VsZWN0LWRyb3Bkb3duOmZvY3VzLFxcbi5ndWlmeS1zZWxlY3QtZHJvcGRvd246aG92ZXIge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBcIixcIjtcXG59XFxuLmd1aWZ5LXNlbGVjdC1kcm9wZG93bjo6LW1zLWV4cGFuZCB7XFxuICAgIGRpc3BsYXk6bm9uZTtcXG59XFxuLmd1aWZ5LXNlbGVjdC10cmlhbmdsZSB7XFxuICAgIGNvbnRlbnQ6ICcgJztcXG4gICAgYm9yZGVyLXJpZ2h0OiAzcHggc29saWQgdHJhbnNwYXJlbnQ7XFxuICAgIGJvcmRlci1sZWZ0OiAzcHggc29saWQgdHJhbnNwYXJlbnQ7XFxuICAgIGxpbmUtaGVpZ2h0OiAyMHB4O1xcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgIHJpZ2h0OiAyLjUlO1xcbiAgICB6LWluZGV4OiAxO1xcbn1cXG4uZ3VpZnktc2VsZWN0LXRyaWFuZ2xlLS1kb3duIHtcXG4gICAgdG9wOiAxMXB4O1xcbiAgICBib3JkZXItdG9wOiA1cHggc29saWQgXCIsXCI7XFxuICAgIGJvcmRlci1ib3R0b206IDBweCB0cmFuc3BhcmVudDtcXG59XFxuLmd1aWZ5LXNlbGVjdC10cmlhbmdsZS0tdXAge1xcbiAgICB0b3A6IDRweDtcXG4gICAgYm9yZGVyLWJvdHRvbTogNXB4IHNvbGlkIFwiLFwiO1xcbiAgICBib3JkZXItdG9wOiAwcHggdHJhbnNwYXJlbnQ7XFxufVxcblxcblwiXSkscj1uKDIpLGk9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShyKSxhPW4oMyk7ZS5leHBvcnRzPWEobyxpLmRlZmF1bHQudGhlbWUuc2l6aW5nLmxhYmVsV2lkdGgsaS5kZWZhdWx0LnRoZW1lLmNvbG9ycy5iYWNrZ3JvdW5kMixpLmRlZmF1bHQudGhlbWUuY29sb3JzLnRleHQyLGkuZGVmYXVsdC50aGVtZS5jb2xvcnMuYmFja2dyb3VuZDJob3ZlcixpLmRlZmF1bHQudGhlbWUuY29sb3JzLnRleHQyLGkuZGVmYXVsdC50aGVtZS5jb2xvcnMudGV4dDIpfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19ZnVuY3Rpb24gcihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gaShlLHQpe2lmKCFlKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hdHx8XCJvYmplY3RcIiE9dHlwZW9mIHQmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHQ/ZTp0fWZ1bmN0aW9uIGEoZSx0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgdCk7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoZSx0KTplLl9fcHJvdG9fXz10KX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIG89dFtuXTtvLmVudW1lcmFibGU9by5lbnVtZXJhYmxlfHwhMSxvLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBvJiYoby53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsby5rZXksbyl9fXJldHVybiBmdW5jdGlvbih0LG4sbyl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksbyYmZSh0LG8pLHR9fSgpLHU9big0KSxsPW8odSksYz1uKDApLGY9byhjKSxwPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxvLGEscyl7cih0aGlzLHQpO3ZhciB1PWkodGhpcywodC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KSkuY2FsbCh0aGlzKSk7dS5vcHRzPW87dmFyIGw9bigxKShlLG8ubGFiZWwsYSk7cmV0dXJuIG4oNSkobCxvLmxhYmVsLGEpLHUuaW5wdXQ9bC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIikpLHUuaW5wdXQudHlwZT1cInRleHRcIix1LmlucHV0LmNsYXNzTmFtZT1cImd1aWZ5LXRleHRcIixvLmluaXRpYWwmJih1LmlucHV0LnZhbHVlPW8uaW5pdGlhbCksby5sYWJlbCYmdS5pbnB1dC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsby5sYWJlbCksKDAsZi5kZWZhdWx0KSh1LmlucHV0LHtwb3NpdGlvbjpcImFic29sdXRlXCIscGFkZGluZ0xlZnQ6XCI2cHhcIixoZWlnaHQ6XCIyMHB4XCIsd2lkdGg6XCJjYWxjKDEwMCUgLSBcIithLnNpemluZy5sYWJlbFdpZHRoK1wiKVwiLGJvcmRlcjpcIm5vbmVcIixiYWNrZ3JvdW5kOmEuY29sb3JzLmJhY2tncm91bmQyLGNvbG9yOmEuY29sb3JzLnRleHQyLGZvbnRGYW1pbHk6XCJpbmhlcml0XCIsXCJib3gtc2l6aW5nXCI6XCJib3JkZXItYm94XCIsXCItbW96LWJveC1zaXppbmdcIjpcImJvcmRlci1ib3hcIixcIi13ZWJraXQtYm94LXNpemluZ1wiOlwiYm9yZGVyLWJveFwiLHJlc2l6ZTpcInZlcnRpY2FsXCJ9KSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dS5lbWl0KFwiaW5pdGlhbGl6ZWRcIix1LmlucHV0LnZhbHVlKX0pLHUuaW5wdXQub25pbnB1dD1mdW5jdGlvbihlKXt1LmVtaXQoXCJpbnB1dFwiLGUudGFyZ2V0LnZhbHVlKX0sdS5pbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNcIixmdW5jdGlvbigpeygwLGYuZGVmYXVsdCkodS5pbnB1dCx7b3V0bGluZTpcIm5vbmVcIn0pLHUuZm9jdXNlZD0hMH0pLHUuaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImJsdXJcIixmdW5jdGlvbigpe3UuZm9jdXNlZD0hMX0pLHV9cmV0dXJuIGEodCxlKSxzKHQsW3trZXk6XCJTZXRWYWx1ZVwiLHZhbHVlOmZ1bmN0aW9uKGUpeyEwIT09dGhpcy5mb2N1c2VkJiYodGhpcy5pbnB1dC52YWx1ZT1lKX19LHtrZXk6XCJHZXRWYWx1ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5wdXQudmFsdWV9fV0pLHR9KGwuZGVmYXVsdCk7dC5kZWZhdWx0PXAsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fWZ1bmN0aW9uIHIoZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIGkoZSx0KXtpZighZSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIXR8fFwib2JqZWN0XCIhPXR5cGVvZiB0JiZcImZ1bmN0aW9uXCIhPXR5cGVvZiB0P2U6dH1mdW5jdGlvbiBhKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIHQpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKGUsdCk6ZS5fX3Byb3RvX189dCl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBvPXRbbl07by5lbnVtZXJhYmxlPW8uZW51bWVyYWJsZXx8ITEsby5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbyYmKG8ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG8ua2V5LG8pfX1yZXR1cm4gZnVuY3Rpb24odCxuLG8pe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLG8mJmUodCxvKSx0fX0oKSx1PW4oNCksbD1vKHUpLGM9big1NCksZj1vKGMpLHA9bigwKSxkPW8ocCksaD1uKDE1KSxnPW8oaCksYj1uKDEzKSxtPW8oYikseT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUsbyxhLHMpe3IodGhpcyx0KTt2YXIgdT1pKHRoaXMsKHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCkpLmNhbGwodGhpcykpO3Uub3B0cz1vLG8uZm9ybWF0PW8uZm9ybWF0fHxcInJnYlwiLG8uaW5pdGlhbD1vLmluaXRpYWx8fFwiIzEyMzQ1NlwiO3ZhciBsPW4oMSkoZSxvLmxhYmVsLGEpO24oNSkobCxvLmxhYmVsLGEpO3ZhciBjPWwuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIikpO2MuY2xhc3NOYW1lPVwiZ3VpZnktY29sb3ItXCIrczt2YXIgcD1uKDE0KShsLFwiXCIsYSxcImNhbGMoMTAwJSAtIFwiK2Euc2l6aW5nLmxhYmVsV2lkdGgrXCIgLSAxMi41JSAtIDAuNzVlbSlcIik7Yy5vbm1vdXNlb3Zlcj1mdW5jdGlvbigpe3UucGlja2VyLiRlbC5zdHlsZS5kaXNwbGF5PVwiXCJ9O3ZhciBoPW8uaW5pdGlhbDtzd2l0Y2goby5mb3JtYXQpe2Nhc2VcInJnYlwiOmNhc2VcImhleFwiOmg9KDAsZy5kZWZhdWx0KShoKS50b0hleFN0cmluZygpO2JyZWFrO2Nhc2VcImFycmF5XCI6aD1nLmRlZmF1bHQuZnJvbVJhdGlvKHtyOmhbMF0sZzpoWzFdLGI6aFsyXX0pLnRvSGV4U3RyaW5nKCl9cmV0dXJuIHUucGlja2VyPW5ldyBmLmRlZmF1bHQoe2VsOmMsY29sb3I6aCxiYWNrZ3JvdW5kOmEuY29sb3JzLmJhY2tncm91bmQxLHdpZHRoOjEyNSxoZWlnaHQ6MTAwfSksKDAsZC5kZWZhdWx0KSh1LnBpY2tlci4kZWwse21hcmdpblRvcDpcIjIwcHhcIixkaXNwbGF5Olwibm9uZVwiLHBvc2l0aW9uOlwiYWJzb2x1dGVcIn0pLCgwLGQuZGVmYXVsdCkoYyx7cG9zaXRpb246XCJyZWxhdGl2ZVwiLGRpc3BsYXk6XCJpbmxpbmUtYmxvY2tcIix3aWR0aDpcIjEyLjUlXCIsaGVpZ2h0OlwiMjBweFwiLGJhY2tncm91bmRDb2xvcjp1LnBpY2tlci5nZXRIZXhTdHJpbmcoKX0pLHUuSW5qZWN0U3R5bGVzKCksYy5vbm1vdXNlb3V0PWZ1bmN0aW9uKGUpe3UucGlja2VyLiRlbC5zdHlsZS5kaXNwbGF5PVwibm9uZVwifSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dS5lbWl0KFwiaW5pdGlhbGl6ZWRcIixoKX0pLHUucGlja2VyLm9uQ2hhbmdlKGZ1bmN0aW9uKGUpe3AuaW5uZXJIVE1MPXUuRm9ybWF0KGUpLCgwLGQuZGVmYXVsdCkoYyx7YmFja2dyb3VuZENvbG9yOmV9KSx1LmVtaXQoXCJpbnB1dFwiLHUuRm9ybWF0KGUpKX0pLHV9cmV0dXJuIGEodCxlKSxzKHQsW3trZXk6XCJGb3JtYXRcIix2YWx1ZTpmdW5jdGlvbihlKXtzd2l0Y2godGhpcy5vcHRzLmZvcm1hdCl7Y2FzZVwicmdiXCI6cmV0dXJuKDAsZy5kZWZhdWx0KShlKS50b1JnYlN0cmluZygpO2Nhc2VcImhleFwiOnJldHVybigwLGcuZGVmYXVsdCkoZSkudG9IZXhTdHJpbmcoKTtjYXNlXCJhcnJheVwiOnZhciB0PSgwLGcuZGVmYXVsdCkoZSkudG9SZ2IoKTtyZXR1cm5bdC5yLzI1NSx0LmcvMjU1LHQuYi8yNTVdLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS50b0ZpeGVkKDIpfSk7ZGVmYXVsdDpyZXR1cm4gZX19fSx7a2V5OlwiU2V0VmFsdWVcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLnBpY2tlci5zZXRDb2xvcihlKX19LHtrZXk6XCJHZXRWYWx1ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuRm9ybWF0KHRoaXMucGlja2VyLmdldENvbG9yKCkpfX0se2tleTpcIkluamVjdFN0eWxlc1wiLHZhbHVlOmZ1bmN0aW9uKCl7KDAsbS5kZWZhdWx0KShcIlxcblxcbiAgICAgICAgLlNjcCB7XFxuICAgICAgICAgICAgd2lkdGg6IDEyNXB4O1xcbiAgICAgICAgICAgIGhlaWdodDogMTAwcHg7XFxuICAgICAgICAgICAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTtcXG4gICAgICAgICAgICAtbW96LXVzZXItc2VsZWN0OiBub25lO1xcbiAgICAgICAgICAgICAgICAtbXMtdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAgICAgICAgICAgICAgICAgICB1c2VyLXNlbGVjdDogbm9uZTtcXG4gICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICAgICAgICAgICAgei1pbmRleDogMTAwMDtcXG4gICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XFxuICAgICAgICB9XFxuICAgICAgICAuU2NwLXNhdHVyYXRpb24ge1xcbiAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gICAgICAgICAgICB3aWR0aDogY2FsYygxMDAlIC0gMjVweCk7XFxuICAgICAgICAgICAgaGVpZ2h0OiAxMDAlO1xcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0byByaWdodCwgI2ZmZiAwJSwgI2YwMCAxMDAlKTtcXG4gICAgICAgICAgICBmbG9hdDogbGVmdDtcXG4gICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDVweDtcXG4gICAgICAgIH1cXG4gICAgICAgIC5TY3AtYnJpZ2h0bmVzcyB7XFxuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XFxuICAgICAgICAgICAgaGVpZ2h0OiAxMDAlO1xcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0byB0b3AsICMwMDAgMCUsIHJnYmEoMjU1LDI1NSwyNTUsMCkgMTAwJSk7XFxuICAgICAgICB9XFxuICAgICAgICAuU2NwLXNiU2VsZWN0b3Ige1xcbiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkO1xcbiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgICAgICAgICB3aWR0aDogMTRweDtcXG4gICAgICAgICAgICBoZWlnaHQ6IDE0cHg7XFxuICAgICAgICAgICAgYmFja2dyb3VuZDogI2ZmZjtcXG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xcbiAgICAgICAgICAgIHRvcDogLTdweDtcXG4gICAgICAgICAgICBsZWZ0OiAtN3B4O1xcbiAgICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICAgICAgICAgICAgei1pbmRleDogMTA7XFxuICAgICAgICB9XFxuICAgICAgICAuU2NwLWh1ZSB7XFxuICAgICAgICAgICAgd2lkdGg6IDIwcHg7XFxuICAgICAgICAgICAgaGVpZ2h0OiAxMDAlO1xcbiAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gICAgICAgICAgICBmbG9hdDogbGVmdDtcXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQodG8gYm90dG9tLCAjZjAwIDAlLCAjZjBmIDE3JSwgIzAwZiAzNCUsICMwZmYgNTAlLCAjMGYwIDY3JSwgI2ZmMCA4NCUsICNmMDAgMTAwJSk7XFxuICAgICAgICB9XFxuICAgICAgICAuU2NwLWhTZWxlY3RvciB7XFxuICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICAgICAgICAgIGJhY2tncm91bmQ6ICNmZmY7XFxuICAgICAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICMwMDA7XFxuICAgICAgICAgICAgcmlnaHQ6IC0zcHg7XFxuICAgICAgICAgICAgd2lkdGg6IDEwcHg7XFxuICAgICAgICAgICAgaGVpZ2h0OiAycHg7XFxuICAgICAgICB9XFxuXFxuICAgICAgICBcIil9fV0pLHR9KGwuZGVmYXVsdCk7dC5kZWZhdWx0PXksZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiOyFmdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7cmV0dXJuIGU9ZXx8e30sdGhpcy5jb2xvcj1udWxsLHRoaXMud2lkdGg9MCx0aGlzLndpZHRoVW5pdHM9XCJweFwiLHRoaXMuaGVpZ2h0PTAsdGhpcy5oZWlnaHRVbml0cz1cInB4XCIsdGhpcy5odWU9MCx0aGlzLnBvc2l0aW9uPXt4OjAseTowfSx0aGlzLmh1ZVBvc2l0aW9uPTAsdGhpcy5zYXR1cmF0aW9uV2lkdGg9MCx0aGlzLmh1ZUhlaWdodD0wLHRoaXMubWF4SHVlPTAsdGhpcy5pbnB1dElzTnVtYmVyPSExLHRoaXMuX29uU2F0dXJhdGlvbk1vdXNlRG93bj10aGlzLl9vblNhdHVyYXRpb25Nb3VzZURvd24uYmluZCh0aGlzKSx0aGlzLl9vblNhdHVyYXRpb25Nb3VzZU1vdmU9dGhpcy5fb25TYXR1cmF0aW9uTW91c2VNb3ZlLmJpbmQodGhpcyksdGhpcy5fb25TYXR1cmF0aW9uTW91c2VVcD10aGlzLl9vblNhdHVyYXRpb25Nb3VzZVVwLmJpbmQodGhpcyksdGhpcy5fb25IdWVNb3VzZURvd249dGhpcy5fb25IdWVNb3VzZURvd24uYmluZCh0aGlzKSx0aGlzLl9vbkh1ZU1vdXNlTW92ZT10aGlzLl9vbkh1ZU1vdXNlTW92ZS5iaW5kKHRoaXMpLHRoaXMuX29uSHVlTW91c2VVcD10aGlzLl9vbkh1ZU1vdXNlVXAuYmluZCh0aGlzKSx0aGlzLiRlbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMuJGVsLmNsYXNzTmFtZT1cIlNjcFwiLHRoaXMuJGVsLmlubmVySFRNTD1bJzxkaXYgY2xhc3M9XCJTY3Atc2F0dXJhdGlvblwiPicsJzxkaXYgY2xhc3M9XCJTY3AtYnJpZ2h0bmVzc1wiPjwvZGl2PicsJzxkaXYgY2xhc3M9XCJTY3Atc2JTZWxlY3RvclwiPjwvZGl2PicsXCI8L2Rpdj5cIiwnPGRpdiBjbGFzcz1cIlNjcC1odWVcIj4nLCc8ZGl2IGNsYXNzPVwiU2NwLWhTZWxlY3RvclwiPjwvZGl2PicsXCI8L2Rpdj5cIl0uam9pbihcIlwiKSx0aGlzLiRzYXR1cmF0aW9uPXRoaXMuJGVsLnF1ZXJ5U2VsZWN0b3IoXCIuU2NwLXNhdHVyYXRpb25cIiksdGhpcy4kaHVlPXRoaXMuJGVsLnF1ZXJ5U2VsZWN0b3IoXCIuU2NwLWh1ZVwiKSx0aGlzLiRzYlNlbGVjdG9yPXRoaXMuJGVsLnF1ZXJ5U2VsZWN0b3IoXCIuU2NwLXNiU2VsZWN0b3JcIiksdGhpcy4kaFNlbGVjdG9yPXRoaXMuJGVsLnF1ZXJ5U2VsZWN0b3IoXCIuU2NwLWhTZWxlY3RvclwiKSx0aGlzLiRzYXR1cmF0aW9uLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIix0aGlzLl9vblNhdHVyYXRpb25Nb3VzZURvd24pLHRoaXMuJHNhdHVyYXRpb24uYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIix0aGlzLl9vblNhdHVyYXRpb25Nb3VzZURvd24pLHRoaXMuJGh1ZS5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsdGhpcy5fb25IdWVNb3VzZURvd24pLHRoaXMuJGh1ZS5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLHRoaXMuX29uSHVlTW91c2VEb3duKSxlLmVsJiZ0aGlzLmFwcGVuZFRvKGUuZWwpLGUuYmFja2dyb3VuZCYmdGhpcy5zZXRCYWNrZ3JvdW5kQ29sb3IoZS5iYWNrZ3JvdW5kKSxlLndpZHRoVW5pdHMmJih0aGlzLndpZHRoVW5pdHM9ZS53aWR0aFVuaXRzKSxlLmhlaWdodFVuaXRzJiYodGhpcy5oZWlnaHRVbml0cz1lLmhlaWdodFVuaXRzKSx0aGlzLnNldFNpemUoZS53aWR0aHx8MTc1LGUuaGVpZ2h0fHwxNTApLHRoaXMuc2V0Q29sb3IoZS5jb2xvciksdGhpc31mdW5jdGlvbiBvKGUsdCxuKXtyZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgoZSx0KSxuKX1mdW5jdGlvbiByKGUpe3JldHVybiBlPTA9PT1lLnR5cGUuaW5kZXhPZihcInRvdWNoXCIpP2UudG91Y2hlc1swXTplLHt4OmUuY2xpZW50WCx5OmUuY2xpZW50WX19ZnVuY3Rpb24gaShlKXtyZXR1cm4gZT1cIiNcIisoXCIwMDAwMFwiKygwfGUpLnRvU3RyaW5nKDE2KSkuc3Vic3RyKC02KX12YXIgYT1uKDU1KSxzPW4oNTYpLHU9bigxNSksbD1uKDU5KTthKHQucHJvdG90eXBlKSx0LnByb3RvdHlwZS5hcHBlbmRUbz1mdW5jdGlvbihlKXtyZXR1cm4gZS5hcHBlbmRDaGlsZCh0aGlzLiRlbCksdGhpc30sdC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7dGhpcy5fb25TYXR1cmF0aW9uTW91c2VVcCgpLHRoaXMuX29uSHVlTW91c2VVcCgpLHRoaXMuJHNhdHVyYXRpb24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLHRoaXMuX29uU2F0dXJhdGlvbk1vdXNlRG93biksdGhpcy4kc2F0dXJhdGlvbi5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLHRoaXMuX29uU2F0dXJhdGlvbk1vdXNlRG93biksdGhpcy4kaHVlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIix0aGlzLl9vbkh1ZU1vdXNlRG93biksdGhpcy4kaHVlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsdGhpcy5fb25IdWVNb3VzZURvd24pLHRoaXMub2ZmKCksdGhpcy4kZWwucGFyZW50Tm9kZSYmdGhpcy4kZWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLiRlbCl9LHQucHJvdG90eXBlLnNldENvbG9yPWZ1bmN0aW9uKGUpe3MoZSk/KHRoaXMuaW5wdXRJc051bWJlcj0hMCxlPWkoZSkpOnRoaXMuaW5wdXRJc051bWJlcj0hMSx0aGlzLmNvbG9yPXUoZSk7dmFyIHQ9dGhpcy5jb2xvci50b0hzdigpO3JldHVybiBpc05hTih0LmgpfHwodGhpcy5odWU9dC5oKSx0aGlzLl9tb3ZlU2VsZWN0b3JUbyh0aGlzLnNhdHVyYXRpb25XaWR0aCp0LnMsKDEtdC52KSp0aGlzLmh1ZUhlaWdodCksdGhpcy5fbW92ZUh1ZVRvKCgxLXRoaXMuaHVlLzM2MCkqdGhpcy5odWVIZWlnaHQpLHRoaXMuX3VwZGF0ZUh1ZSgpLHRoaXN9LHQucHJvdG90eXBlLnNldFNpemU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy53aWR0aD1lLHRoaXMuaGVpZ2h0PXQsdGhpcy4kZWwuc3R5bGUud2lkdGg9dGhpcy53aWR0aCt0aGlzLndpZHRoVW5pdHMsdGhpcy4kZWwuc3R5bGUuaGVpZ2h0PXRoaXMuaGVpZ2h0K3RoaXMuaGVpZ2h0VW5pdHMsdGhpcy5zYXR1cmF0aW9uV2lkdGg9dGhpcy53aWR0aC0yNSx0aGlzLiRzYXR1cmF0aW9uLnN0eWxlLndpZHRoPXRoaXMuc2F0dXJhdGlvbldpZHRoK1wicHhcIix0aGlzLmh1ZUhlaWdodD10aGlzLmhlaWdodCx0aGlzLm1heEh1ZT10aGlzLmh1ZUhlaWdodC0yLHRoaXN9LHQucHJvdG90eXBlLnNldEJhY2tncm91bmRDb2xvcj1mdW5jdGlvbihlKXtyZXR1cm4gcyhlKSYmKGU9aShlKSksdGhpcy4kZWwuc3R5bGUucGFkZGluZz1cIjVweFwiLHRoaXMuJGVsLnN0eWxlLmJhY2tncm91bmQ9dShlKS50b0hleFN0cmluZygpLHRoaXN9LHQucHJvdG90eXBlLnNldE5vQmFja2dyb3VuZD1mdW5jdGlvbigpe3RoaXMuJGVsLnN0eWxlLnBhZGRpbmc9XCIwcHhcIix0aGlzLiRlbC5zdHlsZS5iYWNrZ3JvdW5kPVwibm9uZVwifSx0LnByb3RvdHlwZS5vbkNoYW5nZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5vbihcInVwZGF0ZVwiLGUpLHRoaXMuZW1pdChcInVwZGF0ZVwiLHRoaXMuZ2V0SGV4U3RyaW5nKCkpLHRoaXN9LHQucHJvdG90eXBlLmdldENvbG9yPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5wdXRJc051bWJlcj90aGlzLmdldEhleE51bWJlcigpOnRoaXMuY29sb3IudG9TdHJpbmcoKX0sdC5wcm90b3R5cGUuZ2V0SGV4U3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29sb3IudG9IZXhTdHJpbmcoKS50b1VwcGVyQ2FzZSgpfSx0LnByb3RvdHlwZS5nZXRIZXhOdW1iZXI9ZnVuY3Rpb24oKXtyZXR1cm4gcGFyc2VJbnQodGhpcy5jb2xvci50b0hleCgpLDE2KX0sdC5wcm90b3R5cGUuZ2V0UkdCPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29sb3IudG9SZ2IoKX0sdC5wcm90b3R5cGUuZ2V0SFNWPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29sb3IudG9Ic3YoKX0sdC5wcm90b3R5cGUuaXNEYXJrPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29sb3IuaXNEYXJrKCl9LHQucHJvdG90eXBlLmlzTGlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb2xvci5pc0xpZ2h0KCl9LHQucHJvdG90eXBlLl9tb3ZlU2VsZWN0b3JUbz1mdW5jdGlvbihlLHQpe3RoaXMucG9zaXRpb24ueD1vKGUsMCx0aGlzLnNhdHVyYXRpb25XaWR0aCksdGhpcy5wb3NpdGlvbi55PW8odCwwLHRoaXMuaHVlSGVpZ2h0KSxsKHRoaXMuJHNiU2VsZWN0b3Ise3g6dGhpcy5wb3NpdGlvbi54LHk6dGhpcy5wb3NpdGlvbi55fSl9LHQucHJvdG90eXBlLl91cGRhdGVDb2xvckZyb21Qb3NpdGlvbj1mdW5jdGlvbigpe3RoaXMuY29sb3I9dSh7aDp0aGlzLmh1ZSxzOnRoaXMucG9zaXRpb24ueC90aGlzLnNhdHVyYXRpb25XaWR0aCx2OjEtdGhpcy5wb3NpdGlvbi55L3RoaXMuaHVlSGVpZ2h0fSksdGhpcy5fdXBkYXRlQ29sb3IoKX0sdC5wcm90b3R5cGUuX21vdmVIdWVUbz1mdW5jdGlvbihlKXt0aGlzLmh1ZVBvc2l0aW9uPW8oZSwwLHRoaXMubWF4SHVlKSxsKHRoaXMuJGhTZWxlY3Rvcix7eTp0aGlzLmh1ZVBvc2l0aW9ufSl9LHQucHJvdG90eXBlLl91cGRhdGVIdWVGcm9tUG9zaXRpb249ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmNvbG9yLnRvSHN2KCk7dGhpcy5odWU9MzYwKigxLXRoaXMuaHVlUG9zaXRpb24vdGhpcy5tYXhIdWUpLHRoaXMuY29sb3I9dSh7aDp0aGlzLmh1ZSxzOmUucyx2OmUudn0pLHRoaXMuX3VwZGF0ZUh1ZSgpfSx0LnByb3RvdHlwZS5fdXBkYXRlSHVlPWZ1bmN0aW9uKCl7dmFyIGU9dSh7aDp0aGlzLmh1ZSxzOjEsdjoxfSk7dGhpcy4kc2F0dXJhdGlvbi5zdHlsZS5iYWNrZ3JvdW5kPVwibGluZWFyLWdyYWRpZW50KHRvIHJpZ2h0LCAjZmZmLCBcIitlLnRvSGV4U3RyaW5nKCkrXCIpXCIsdGhpcy5fdXBkYXRlQ29sb3IoKX0sdC5wcm90b3R5cGUuX3VwZGF0ZUNvbG9yPWZ1bmN0aW9uKCl7dGhpcy4kc2JTZWxlY3Rvci5zdHlsZS5iYWNrZ3JvdW5kPXRoaXMuY29sb3IudG9IZXhTdHJpbmcoKSx0aGlzLiRzYlNlbGVjdG9yLnN0eWxlLmJvcmRlckNvbG9yPXRoaXMuY29sb3IuaXNEYXJrKCk/XCIjZmZmXCI6XCIjMDAwXCIsdGhpcy5lbWl0KFwidXBkYXRlXCIsdGhpcy5jb2xvci50b0hleFN0cmluZygpKX0sdC5wcm90b3R5cGUuX29uU2F0dXJhdGlvbk1vdXNlRG93bj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLiRzYXR1cmF0aW9uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLG49cihlKS54LG89cihlKS55O3RoaXMuX21vdmVTZWxlY3RvclRvKG4tdC5sZWZ0LG8tdC50b3ApLHRoaXMuX3VwZGF0ZUNvbG9yRnJvbVBvc2l0aW9uKCksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsdGhpcy5fb25TYXR1cmF0aW9uTW91c2VVcCksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLHRoaXMuX29uU2F0dXJhdGlvbk1vdXNlVXApLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsdGhpcy5fb25TYXR1cmF0aW9uTW91c2VNb3ZlKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLHRoaXMuX29uU2F0dXJhdGlvbk1vdXNlTW92ZSksZS5wcmV2ZW50RGVmYXVsdCgpfSx0LnByb3RvdHlwZS5fb25TYXR1cmF0aW9uTW91c2VNb3ZlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuJHNhdHVyYXRpb24uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbj1yKGUpLngsbz1yKGUpLnk7dGhpcy5fbW92ZVNlbGVjdG9yVG8obi10LmxlZnQsby10LnRvcCksdGhpcy5fdXBkYXRlQ29sb3JGcm9tUG9zaXRpb24oKX0sdC5wcm90b3R5cGUuX29uU2F0dXJhdGlvbk1vdXNlVXA9ZnVuY3Rpb24oKXt3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIix0aGlzLl9vblNhdHVyYXRpb25Nb3VzZVVwKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsdGhpcy5fb25TYXR1cmF0aW9uTW91c2VVcCksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIix0aGlzLl9vblNhdHVyYXRpb25Nb3VzZU1vdmUpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsdGhpcy5fb25TYXR1cmF0aW9uTW91c2VNb3ZlKX0sdC5wcm90b3R5cGUuX29uSHVlTW91c2VEb3duPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuJGh1ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxuPXIoZSkueTt0aGlzLl9tb3ZlSHVlVG8obi10LnRvcCksdGhpcy5fdXBkYXRlSHVlRnJvbVBvc2l0aW9uKCksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsdGhpcy5fb25IdWVNb3VzZVVwKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsdGhpcy5fb25IdWVNb3VzZVVwKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLHRoaXMuX29uSHVlTW91c2VNb3ZlKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLHRoaXMuX29uSHVlTW91c2VNb3ZlKSxlLnByZXZlbnREZWZhdWx0KCl9LHQucHJvdG90eXBlLl9vbkh1ZU1vdXNlTW92ZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLiRodWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbj1yKGUpLnk7dGhpcy5fbW92ZUh1ZVRvKG4tdC50b3ApLHRoaXMuX3VwZGF0ZUh1ZUZyb21Qb3NpdGlvbigpfSx0LnByb3RvdHlwZS5fb25IdWVNb3VzZVVwPWZ1bmN0aW9uKCl7d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsdGhpcy5fb25IdWVNb3VzZVVwKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsdGhpcy5fb25IdWVNb3VzZVVwKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLHRoaXMuX29uSHVlTW91c2VNb3ZlKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLHRoaXMuX29uSHVlTW91c2VNb3ZlKX0sdm9pZCAwIT09ZSYmZS5leHBvcnRzJiYoZS5leHBvcnRzPXQpfSgpfSxmdW5jdGlvbihlLHQsbil7ZnVuY3Rpb24gbyhlKXtpZihlKXJldHVybiByKGUpfWZ1bmN0aW9uIHIoZSl7Zm9yKHZhciB0IGluIG8ucHJvdG90eXBlKWVbdF09by5wcm90b3R5cGVbdF07cmV0dXJuIGV9ZS5leHBvcnRzPW8sby5wcm90b3R5cGUub249by5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9jYWxsYmFja3M9dGhpcy5fY2FsbGJhY2tzfHx7fSwodGhpcy5fY2FsbGJhY2tzW1wiJFwiK2VdPXRoaXMuX2NhbGxiYWNrc1tcIiRcIitlXXx8W10pLnB1c2godCksdGhpc30sby5wcm90b3R5cGUub25jZT1mdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4oKXt0aGlzLm9mZihlLG4pLHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBuLmZuPXQsdGhpcy5vbihlLG4pLHRoaXN9LG8ucHJvdG90eXBlLm9mZj1vLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcj1vLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnM9by5wcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihlLHQpe2lmKHRoaXMuX2NhbGxiYWNrcz10aGlzLl9jYWxsYmFja3N8fHt9LDA9PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMuX2NhbGxiYWNrcz17fSx0aGlzO3ZhciBuPXRoaXMuX2NhbGxiYWNrc1tcIiRcIitlXTtpZighbilyZXR1cm4gdGhpcztpZigxPT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiBkZWxldGUgdGhpcy5fY2FsbGJhY2tzW1wiJFwiK2VdLHRoaXM7Zm9yKHZhciBvLHI9MDtyPG4ubGVuZ3RoO3IrKylpZigobz1uW3JdKT09PXR8fG8uZm49PT10KXtuLnNwbGljZShyLDEpO2JyZWFrfXJldHVybiB0aGlzfSxvLnByb3RvdHlwZS5lbWl0PWZ1bmN0aW9uKGUpe3RoaXMuX2NhbGxiYWNrcz10aGlzLl9jYWxsYmFja3N8fHt9O3ZhciB0PVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLG49dGhpcy5fY2FsbGJhY2tzW1wiJFwiK2VdO2lmKG4pe249bi5zbGljZSgwKTtmb3IodmFyIG89MCxyPW4ubGVuZ3RoO288cjsrK28pbltvXS5hcHBseSh0aGlzLHQpfXJldHVybiB0aGlzfSxvLnByb3RvdHlwZS5saXN0ZW5lcnM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2NhbGxiYWNrcz10aGlzLl9jYWxsYmFja3N8fHt9LHRoaXMuX2NhbGxiYWNrc1tcIiRcIitlXXx8W119LG8ucHJvdG90eXBlLmhhc0xpc3RlbmVycz1mdW5jdGlvbihlKXtyZXR1cm4hIXRoaXMubGlzdGVuZXJzKGUpLmxlbmd0aH19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjsvKiFcbiAqIGlzLW51bWJlciA8aHR0cHM6Ly9naXRodWIuY29tL2pvbnNjaGxpbmtlcnQvaXMtbnVtYmVyPlxuICpcbiAqIENvcHlyaWdodCAoYykgMjAxNC0yMDE1LCBKb24gU2NobGlua2VydC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqL1xudmFyIG89big1Nyk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PW8oZSk7aWYoXCJudW1iZXJcIiE9PXQmJlwic3RyaW5nXCIhPT10KXJldHVybiExO3ZhciBuPStlO3JldHVybiBuLW4rMT49MCYmXCJcIiE9PWV9fSxmdW5jdGlvbihlLHQsbil7dmFyIG89big1OCkscj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtpZih2b2lkIDA9PT1lKXJldHVyblwidW5kZWZpbmVkXCI7aWYobnVsbD09PWUpcmV0dXJuXCJudWxsXCI7aWYoITA9PT1lfHwhMT09PWV8fGUgaW5zdGFuY2VvZiBCb29sZWFuKXJldHVyblwiYm9vbGVhblwiO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlfHxlIGluc3RhbmNlb2YgU3RyaW5nKXJldHVyblwic3RyaW5nXCI7aWYoXCJudW1iZXJcIj09dHlwZW9mIGV8fGUgaW5zdGFuY2VvZiBOdW1iZXIpcmV0dXJuXCJudW1iZXJcIjtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlfHxlIGluc3RhbmNlb2YgRnVuY3Rpb24pcmV0dXJuXCJmdW5jdGlvblwiO2lmKHZvaWQgMCE9PUFycmF5LmlzQXJyYXkmJkFycmF5LmlzQXJyYXkoZSkpcmV0dXJuXCJhcnJheVwiO2lmKGUgaW5zdGFuY2VvZiBSZWdFeHApcmV0dXJuXCJyZWdleHBcIjtpZihlIGluc3RhbmNlb2YgRGF0ZSlyZXR1cm5cImRhdGVcIjt2YXIgdD1yLmNhbGwoZSk7cmV0dXJuXCJbb2JqZWN0IFJlZ0V4cF1cIj09PXQ/XCJyZWdleHBcIjpcIltvYmplY3QgRGF0ZV1cIj09PXQ/XCJkYXRlXCI6XCJbb2JqZWN0IEFyZ3VtZW50c11cIj09PXQ/XCJhcmd1bWVudHNcIjpcIltvYmplY3QgRXJyb3JdXCI9PT10P1wiZXJyb3JcIjpvKGUpP1wiYnVmZmVyXCI6XCJbb2JqZWN0IFNldF1cIj09PXQ/XCJzZXRcIjpcIltvYmplY3QgV2Vha1NldF1cIj09PXQ/XCJ3ZWFrc2V0XCI6XCJbb2JqZWN0IE1hcF1cIj09PXQ/XCJtYXBcIjpcIltvYmplY3QgV2Vha01hcF1cIj09PXQ/XCJ3ZWFrbWFwXCI6XCJbb2JqZWN0IFN5bWJvbF1cIj09PXQ/XCJzeW1ib2xcIjpcIltvYmplY3QgSW50OEFycmF5XVwiPT09dD9cImludDhhcnJheVwiOlwiW29iamVjdCBVaW50OEFycmF5XVwiPT09dD9cInVpbnQ4YXJyYXlcIjpcIltvYmplY3QgVWludDhDbGFtcGVkQXJyYXldXCI9PT10P1widWludDhjbGFtcGVkYXJyYXlcIjpcIltvYmplY3QgSW50MTZBcnJheV1cIj09PXQ/XCJpbnQxNmFycmF5XCI6XCJbb2JqZWN0IFVpbnQxNkFycmF5XVwiPT09dD9cInVpbnQxNmFycmF5XCI6XCJbb2JqZWN0IEludDMyQXJyYXldXCI9PT10P1wiaW50MzJhcnJheVwiOlwiW29iamVjdCBVaW50MzJBcnJheV1cIj09PXQ/XCJ1aW50MzJhcnJheVwiOlwiW29iamVjdCBGbG9hdDMyQXJyYXldXCI9PT10P1wiZmxvYXQzMmFycmF5XCI6XCJbb2JqZWN0IEZsb2F0NjRBcnJheV1cIj09PXQ/XCJmbG9hdDY0YXJyYXlcIjpcIm9iamVjdFwifX0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKGUpe3JldHVybiEhZS5jb25zdHJ1Y3RvciYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5jb25zdHJ1Y3Rvci5pc0J1ZmZlciYmZS5jb25zdHJ1Y3Rvci5pc0J1ZmZlcihlKX1mdW5jdGlvbiBvKGUpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGUucmVhZEZsb2F0TEUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuc2xpY2UmJm4oZS5zbGljZSgwLDApKX0vKiFcbiAqIERldGVybWluZSBpZiBhbiBvYmplY3QgaXMgYSBCdWZmZXJcbiAqXG4gKiBAYXV0aG9yICAgRmVyb3NzIEFib3VraGFkaWplaCA8ZmVyb3NzQGZlcm9zcy5vcmc+IDxodHRwOi8vZmVyb3NzLm9yZz5cbiAqIEBsaWNlbnNlICBNSVRcbiAqL1xuZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsIT1lJiYobihlKXx8byhlKXx8ISFlLl9pc0J1ZmZlcil9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbyhlLHQpe3ZhciBuLG8scixpPVtdO3ModCk7Zm9yKG4gaW4gdClkLmNhbGwodCxuKSYmKG89dFtuXSxkLmNhbGwoZi50cmFuc2Zvcm0sbik/KHI9Zi50cmFuc2Zvcm1bbl0sYyhvKSYmKG89by5qb2luKHIuc2VwYXJhdG9yKSksaS5wdXNoKG4rXCIoXCIrcChvLHIuZGVmYXVsdFVuaXQsci5zZXBhcmF0b3IpK1wiKVwiKSk6ZC5jYWxsKGYsbik/KHI9ZltuXSxjKG8pJiYobz1vLmpvaW4oci5zZXBhcmF0b3IpKSxlLnN0eWxlW2wobildPXAobyxyLmRlZmF1bHRVbml0LHIuc2VwYXJhdG9yKSk6Y29uc29sZS53YXJuKFwiZG9tLXRyYW5zZm9ybTogdGhpcyBwcm9wZXJ0eSAoYFwiK24rXCJgKSBpcyBub3Qgc3VwcG9ydGVkLlwiKSk7ZS5zdHlsZVtoXT1pLmpvaW4oXCIgXCIpfWZ1bmN0aW9uIHIoZSx0KXt2YXIgbj1lLnN0eWxlO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVybiBkLmNhbGwoZi50cmFuc2Zvcm0sdCk/bltoXTpuW2wodCldO3R8fCh0PXUoKSk7dmFyIG89e307cmV0dXJuIHQuZm9yRWFjaChmdW5jdGlvbihlKXtvW2VdPW5bbChlKV19KSxvfWZ1bmN0aW9uIGkoZSx0KXt2YXIgbj1lLnN0eWxlO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVybiB2b2lkKG5bbCh0KV09bnVsbCk7dHx8KHQ9dSgpKSx0LmZvckVhY2goZnVuY3Rpb24oZSl7bltsKGUpXT1udWxsfSl9ZnVuY3Rpb24gYSgpe3JldHVybiBoLmxlbmd0aD4wfWZ1bmN0aW9uIHMoZSl7dmFyIHQ7Zm9yKHQgaW4gZSlkLmNhbGwoZyx0KSYmKGVbZ1t0XV09ZVt0XSxkZWxldGUgZVt0XSl9ZnVuY3Rpb24gdSgpe3JldHVybiBPYmplY3Qua2V5cyhmKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGV9KX12YXIgbD1uKDYwKSxjPW4oNjEpLGY9big2MikscD1uKDYzKSxkPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksaD1sKFwidHJhbnNmb3JtXCIpLGc9e3g6XCJ0cmFuc2xhdGVYXCIseTpcInRyYW5zbGF0ZVlcIix6OlwidHJhbnNsYXRlWlwiLG9yaWdpbjpcInRyYW5zZm9ybU9yaWdpblwifTt0PWUuZXhwb3J0cz1vLHQuZ2V0PXIsdC5yZXNldD1pLHQuaXNTdXBwb3J0ZWQ9YX0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKGUpe2lmKGU9ZS5yZXBsYWNlKC8tKFthLXpdKS9nLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQudG9VcHBlckNhc2UoKX0pLHZvaWQgMCE9PWlbZV0pcmV0dXJuIGU7Zm9yKHZhciB0PWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrZS5zbGljZSgxKSxuPWEubGVuZ3RoO24tLTspe3ZhciBvPWFbbl0rdDtpZih2b2lkIDAhPT1pW29dKXJldHVybiBvfXJldHVybiBlfWZ1bmN0aW9uIG8oZSl7cmV0dXJuIGUgaW4gdT91W2VdOnVbZV09bihlKX1mdW5jdGlvbiByKGUpe3JldHVybiBlPW4oZSkscy50ZXN0KGUpJiYoZT1cIi1cIitlLnJlcGxhY2UocyxcIi0kMVwiKSxzLmxhc3RJbmRleD0wKSxlLnRvTG93ZXJDYXNlKCl9dmFyIGk9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGRvY3VtZW50P2RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpLnN0eWxlOnt9LGE9W1wiT1wiLFwibXNcIixcIk1velwiLFwiV2Via2l0XCJdLHM9LyhbQS1aXSkvZyx1PXt9O2UuZXhwb3J0cz1vLGUuZXhwb3J0cy5kYXNoPXJ9LGZ1bmN0aW9uKGUsdCl7dmFyIG49QXJyYXkuaXNBcnJheSxvPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7ZS5leHBvcnRzPW58fGZ1bmN0aW9uKGUpe3JldHVybiEhZSYmXCJbb2JqZWN0IEFycmF5XVwiPT1vLmNhbGwoZSl9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPXt0cmFuc2Zvcm06e3RyYW5zbGF0ZTp7ZGVmYXVsdFVuaXQ6XCJweFwifSx0cmFuc2xhdGUzZDp7ZGVmYXVsdFVuaXQ6XCJweFwifSx0cmFuc2xhdGVYOntkZWZhdWx0VW5pdDpcInB4XCJ9LHRyYW5zbGF0ZVk6e2RlZmF1bHRVbml0OlwicHhcIn0sdHJhbnNsYXRlWjp7ZGVmYXVsdFVuaXQ6XCJweFwifSxzY2FsZTp7ZGVmYXVsdFVuaXQ6XCJcIn0sc2NhbGUzZDp7ZGVmYXVsdFVuaXQ6XCJcIn0sc2NhbGVYOntkZWZhdWx0VW5pdDpcIlwifSxzY2FsZVk6e2RlZmF1bHRVbml0OlwiXCJ9LHNjYWxlWjp7ZGVmYXVsdFVuaXQ6XCJcIn0scm90YXRlOntkZWZhdWx0VW5pdDpcImRlZ1wifSxyb3RhdGUzZDp7ZGVmYXVsdFVuaXQ6XCJcIn0scm90YXRlWDp7ZGVmYXVsdFVuaXQ6XCJkZWdcIn0scm90YXRlWTp7ZGVmYXVsdFVuaXQ6XCJkZWdcIn0scm90YXRlWjp7ZGVmYXVsdFVuaXQ6XCJkZWdcIn0sc2tldzp7ZGVmYXVsdFVuaXQ6XCJkZWdcIn0sc2tld1g6e2RlZmF1bHRVbml0OlwiZGVnXCJ9LHNrZXdZOntkZWZhdWx0VW5pdDpcImRlZ1wifSxwZXJzcGVjdGl2ZTp7ZGVmYXVsdFVuaXQ6XCJweFwifSxtYXRyaXg6e2RlZmF1bHRVbml0OlwiXCJ9LG1hdHJpeDNkOntkZWZhdWx0VW5pdDpcIlwifX0sdHJhbnNmb3JtT3JpZ2luOntkZWZhdWx0VW5pdDpcInB4XCIsc2VwYXJhdG9yOlwiIFwifX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgbz1uKDY0KSxyPS9eLT9cXGQrKFxcLlxcZCspPyQvO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQsbil7aWYobj1ufHxcIixcIixcIm51bWJlclwiPT10eXBlb2YgZSlyZXR1cm5cIlwiK2UrdDt2YXIgaT1uZXcgUmVnRXhwKG4sXCJnXCIpO3JldHVybiBlLnNwbGl0KGkudGVzdChlKT9uOlwiIFwiKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGU9byhlKSxyLnRlc3QoZSkmJihlKz10KSxlfSkuam9pbihuKX19LGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZS5yZXBsYWNlKC9eXFxzKnxcXHMqJC9nLFwiXCIpfXQ9ZS5leHBvcnRzPW4sdC5sZWZ0PWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoL15cXHMqLyxcIlwiKX0sdC5yaWdodD1mdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKC9cXHMqJC8sXCJcIil9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbyhlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBvPXRbbl07by5lbnVtZXJhYmxlPW8uZW51bWVyYWJsZXx8ITEsby5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbyYmKG8ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG8ua2V5LG8pfX1yZXR1cm4gZnVuY3Rpb24odCxuLG8pe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLG8mJmUodCxvKSx0fX0oKSxpPW4oMCksYT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KGkpLHM9big2NiksdT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyLGksdSl7dmFyIGw9dGhpcztvKHRoaXMsZSksdGhpcy5vcHRzPXI7dmFyIGM9bigxKSh0LHIubGFiZWwsaSk7Yy5jbGFzc0xpc3QuYWRkKHNbXCJndWlmeS1mb2xkZXJcIl0pLGMuc2V0QXR0cmlidXRlKFwicm9sZVwiLFwiYnV0dG9uXCIpLGMuc2V0QXR0cmlidXRlKFwidGFiSW5kZXhcIixcIjBcIiksKDAsYS5kZWZhdWx0KShjLHtjb2xvcjppLmNvbG9ycy50ZXh0MX0pLHRoaXMuYXJyb3c9Yy5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKSx0aGlzLmFycm93LmlubmVySFRNTD1cIiYjOTY2MjtcIiwoMCxhLmRlZmF1bHQpKHRoaXMuYXJyb3cse3dpZHRoOlwiNSVcIn0pLHRoaXMubGFiZWw9Yy5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKSx0aGlzLmxhYmVsLmlubmVySFRNTD1yLmxhYmVsLGMub25jbGljaz1mdW5jdGlvbigpe2wuVG9nZ2xlKCl9LGMuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIixmdW5jdGlvbihlKXsxMyE9PWUud2hpY2gmJjMyIT09ZS53aGljaHx8bC5Ub2dnbGUoKX0pLHRoaXMuZm9sZGVyQ29udGFpbmVyPXQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSksdGhpcy5mb2xkZXJDb250YWluZXIuY2xhc3NMaXN0LmFkZChzW1wiZ3VpZnktZm9sZGVyLWNvbnRlbnRzXCJdKSx0aGlzLm9wZW49dGhpcy5vcHRzLm9wZW58fCExLHRoaXMuU2V0T3Blbih0aGlzLm9wZW4pfXJldHVybiByKGUsW3trZXk6XCJUb2dnbGVcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMub3Blbj0hdGhpcy5vcGVuLHRoaXMuU2V0T3Blbih0aGlzLm9wZW4pfX0se2tleTpcIlNldE9wZW5cIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLm9wZW49ZSxlPyh0aGlzLmZvbGRlckNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKHNbXCJndWlmeS1mb2xkZXItY2xvc2VkXCJdKSx0aGlzLmFycm93LmlubmVySFRNTD1cIiYjOTY2MjtcIik6KHRoaXMuZm9sZGVyQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoc1tcImd1aWZ5LWZvbGRlci1jbG9zZWRcIl0pLHRoaXMuYXJyb3cuaW5uZXJIVE1MPVwiJiM5NjU2O1wiKX19XSksZX0oKTt0LmRlZmF1bHQ9dSxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0LmZyZWV6ZShPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLHtyYXc6e3ZhbHVlOk9iamVjdC5mcmVlemUodCl9fSkpfShbXCJcXG5cXG4uZ3VpZnktZm9sZGVyIHtcXG4gICAgY3Vyc29yOiBwb2ludGVyO1xcbiAgICBwYWRkaW5nLWxlZnQ6IDJweDtcXG59XFxuXFxuLmd1aWZ5LWZvbGRlciBkaXYge1xcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICAgIHZlcnRpY2FsLWFsaWduOiBzdWI7XFxuICAgIGxpbmUtaGVpZ2h0OiAyNXB4O1xcbn1cXG5cXG4uZ3VpZnktZm9sZGVyOmhvdmVyLFxcbi5ndWlmeS1mb2xkZXI6Zm9jdXMge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBcIixcIjtcXG4gICAgb3V0bGluZTogbm9uZTtcXG59XFxuXFxuXFxuLmd1aWZ5LWZvbGRlci1jb250ZW50cyB7XFxuICAgIGRpc3BsYXk6IGJsb2NrO1xcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgICBwYWRkaW5nLWxlZnQ6IDE0cHg7XFxuICAgIG1hcmdpbi1ib3R0b206IDVweDtcXG59XFxuXFxuLmd1aWZ5LWZvbGRlci1jb250ZW50cy5ndWlmeS1mb2xkZXItY2xvc2VkIHtcXG4gICAgaGVpZ2h0OiAwO1xcbiAgICBkaXNwbGF5OiBub25lO1xcbn1cXG5cXG5cXG5cIl0sW1wiXFxuXFxuLmd1aWZ5LWZvbGRlciB7XFxuICAgIGN1cnNvcjogcG9pbnRlcjtcXG4gICAgcGFkZGluZy1sZWZ0OiAycHg7XFxufVxcblxcbi5ndWlmeS1mb2xkZXIgZGl2IHtcXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgICB2ZXJ0aWNhbC1hbGlnbjogc3ViO1xcbiAgICBsaW5lLWhlaWdodDogMjVweDtcXG59XFxuXFxuLmd1aWZ5LWZvbGRlcjpob3ZlcixcXG4uZ3VpZnktZm9sZGVyOmZvY3VzIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogXCIsXCI7XFxuICAgIG91dGxpbmU6IG5vbmU7XFxufVxcblxcblxcbi5ndWlmeS1mb2xkZXItY29udGVudHMge1xcbiAgICBkaXNwbGF5OiBibG9jaztcXG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gICAgcGFkZGluZy1sZWZ0OiAxNHB4O1xcbiAgICBtYXJnaW4tYm90dG9tOiA1cHg7XFxufVxcblxcbi5ndWlmeS1mb2xkZXItY29udGVudHMuZ3VpZnktZm9sZGVyLWNsb3NlZCB7XFxuICAgIGhlaWdodDogMDtcXG4gICAgZGlzcGxheTogbm9uZTtcXG59XFxuXFxuXFxuXCJdKSxyPW4oMiksaT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KHIpLGE9bigzKTtlLmV4cG9ydHM9YShvLGkuZGVmYXVsdC50aGVtZS5jb2xvcnMuYmFja2dyb3VuZDJob3Zlcil9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1mdW5jdGlvbiByKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBpKGUsdCl7aWYoIWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiF0fHxcIm9iamVjdFwiIT10eXBlb2YgdCYmXCJmdW5jdGlvblwiIT10eXBlb2YgdD9lOnR9ZnVuY3Rpb24gYShlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiB0KTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihlLHQpOmUuX19wcm90b19fPXQpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgbz10W25dO28uZW51bWVyYWJsZT1vLmVudW1lcmFibGV8fCExLG8uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG8mJihvLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxvLmtleSxvKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixvKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxvJiZlKHQsbyksdH19KCksdT1uKDQpLGw9byh1KSxjPW4oMCksZj1vKGMpLHA9big2OCksZD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUsbyxhLHMpe3IodGhpcyx0KTt2YXIgdT1pKHRoaXMsKHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCkpLmNhbGwodGhpcykpO3Uub3B0cz1vLHUub3B0cy5maWxlUmVhZEZ1bmM9dS5vcHRzLmZpbGVSZWFkRnVuY3x8XCJyZWFkQXNEYXRhVVJMXCIsdS5maWxlPW51bGwsdS5maWxlTmFtZT1udWxsO3ZhciBsPW4oMSkoZSxvLmxhYmVsLGEpO2wuY2xhc3NMaXN0LmFkZChwW1wiZ3VpZnktZmlsZS1jb250YWluZXJcIl0pLGwuc2V0QXR0cmlidXRlKFwicm9sZVwiLFwiYnV0dG9uXCIpLGwuc2V0QXR0cmlidXRlKFwidGFiSW5kZXhcIixcIjBcIiksKDAsZi5kZWZhdWx0KShsLHt3aWR0aDpcIjEwMCVcIixcImJveC1zaXppbmdcIjpcImJvcmRlci1ib3hcIixcIi1tb3otYm94LXNpemluZ1wiOlwiYm9yZGVyLWJveFwiLFwiLXdlYmtpdC1ib3gtc2l6aW5nXCI6XCJib3JkZXItYm94XCIsaGVpZ2h0OlwidW5zZXRcIixwYWRkaW5nOlwiOHB4XCIsY29sb3I6YS5jb2xvcnMudGV4dDF9KTt2YXIgYz1sLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpO2MuaW5uZXJIVE1MPW8ubGFiZWwsKDAsZi5kZWZhdWx0KShjLHtcInBhZGRpbmctYm90dG9tXCI6XCI1cHhcIn0pO3ZhciBkPWwuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpKTtkLnNldEF0dHJpYnV0ZShcInR5cGVcIixcImZpbGVcIiksZC5zZXRBdHRyaWJ1dGUoXCJtdWx0aXBsZVwiLCExKSxkLnN0eWxlLmRpc3BsYXk9XCJub25lXCIsby5sYWJlbCYmZC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsby5sYWJlbCksdS5maWxlTGFiZWw9bC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKSx1LmZpbGVMYWJlbC5pbm5lckhUTUw9XCJDaG9vc2UgYSBmaWxlLi4uXCI7dmFyIGg9ZnVuY3Rpb24oZSl7dmFyIHQ7ZS5kYXRhVHJhbnNmZXI/dD1lLmRhdGFUcmFuc2Zlci5maWxlczplLnRhcmdldCYmKHQ9ZS50YXJnZXQuZmlsZXMpO3ZhciBuPSh0WzBdLG5ldyBGaWxlUmVhZGVyKTtuLm9ubG9hZD1mdW5jdGlvbigpe3UuZmlsZT1uLnJlc3VsdCx1LmZpbGVMYWJlbC5pbm5lckhUTUw9dFswXS5uYW1lLHUuZW1pdChcImlucHV0XCIsdS5maWxlKX0sblt1Lm9wdHMuZmlsZVJlYWRGdW5jXSh0WzBdKX07cmV0dXJuIGQuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLGgpLGwuYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdvdmVyXCIsZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpLGUuc3RvcFByb3BhZ2F0aW9uKCksbC5jbGFzc0xpc3QuYWRkKHBbXCJndWlmeS1kcmFnb3ZlclwiXSl9KSxsLmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnbGVhdmVcIixmdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKSxsLmNsYXNzTGlzdC5yZW1vdmUocFtcImd1aWZ5LWRyYWdvdmVyXCJdKX0pLGwuYWRkRXZlbnRMaXN0ZW5lcihcImRyb3BcIixmdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKSxsLmNsYXNzTGlzdC5yZW1vdmUocFtcImd1aWZ5LWRyYWdvdmVyXCJdKSxoKGUpfSksbC5vbmNsaWNrPWZ1bmN0aW9uKCl7ZC5jbGljaygpfSxsLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsZnVuY3Rpb24oZSl7MTMhPT1lLndoaWNoJiYzMiE9PWUud2hpY2h8fGQuY2xpY2soKX0pLHV9cmV0dXJuIGEodCxlKSxzKHQsW3trZXk6XCJTZXRWYWx1ZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe319LHtrZXk6XCJHZXRWYWx1ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZmlsZX19XSksdH0obC5kZWZhdWx0KTt0LmRlZmF1bHQ9ZCxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0LmZyZWV6ZShPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLHtyYXc6e3ZhbHVlOk9iamVjdC5mcmVlemUodCl9fSkpfShbXCJcXG5cXG4uZ3VpZnktZmlsZS1jb250YWluZXIge1xcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICAgIG91dGxpbmU6IG5vbmU7XFxuICAgIHBhZGRpbmctdG9wOiA4cHg7XFxuICAgIHBhZGRpbmctYm90dG9tOiA4cHg7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IFwiLFwiO1xcbn1cXG5cXG4uZ3VpZnktZmlsZS1jb250YWluZXI6aG92ZXIsXFxuLmd1aWZ5LWZpbGUtY29udGFpbmVyOmZvY3VzIHtcXG4gICAgY29sb3I6IFwiLFwiO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBcIixcIjtcXG59XFxuXFxuLmd1aWZ5LWZpbGUtY29udGFpbmVyOmFjdGl2ZSB7XFxuICAgIGNvbG9yOiBcIixcIiAhaW1wb3J0YW50O1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBcIixcIiAhaW1wb3J0YW50O1xcbn1cXG5cXG4uZ3VpZnktZHJhZ292ZXIge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBcIixcIjtcXG4gICAgYm94LXNoYWRvdzogaW5zZXQgMCAwIDAgM3B4IFwiLFwiO1xcbn1cXG5cXG5cXG5cIl0sW1wiXFxuXFxuLmd1aWZ5LWZpbGUtY29udGFpbmVyIHtcXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgICBvdXRsaW5lOiBub25lO1xcbiAgICBwYWRkaW5nLXRvcDogOHB4O1xcbiAgICBwYWRkaW5nLWJvdHRvbTogOHB4O1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBcIixcIjtcXG59XFxuXFxuLmd1aWZ5LWZpbGUtY29udGFpbmVyOmhvdmVyLFxcbi5ndWlmeS1maWxlLWNvbnRhaW5lcjpmb2N1cyB7XFxuICAgIGNvbG9yOiBcIixcIjtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogXCIsXCI7XFxufVxcblxcbi5ndWlmeS1maWxlLWNvbnRhaW5lcjphY3RpdmUge1xcbiAgICBjb2xvcjogXCIsXCIgIWltcG9ydGFudDtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogXCIsXCIgIWltcG9ydGFudDtcXG59XFxuXFxuLmd1aWZ5LWRyYWdvdmVyIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogXCIsXCI7XFxuICAgIGJveC1zaGFkb3c6IGluc2V0IDAgMCAwIDNweCBcIixcIjtcXG59XFxuXFxuXFxuXCJdKSxyPW4oMiksaT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KHIpLGE9bigzKTtlLmV4cG9ydHM9YShvLGkuZGVmYXVsdC50aGVtZS5jb2xvcnMuYmFja2dyb3VuZDIsaS5kZWZhdWx0LnRoZW1lLmNvbG9ycy50ZXh0MixpLmRlZmF1bHQudGhlbWUuY29sb3JzLmJhY2tncm91bmQyaG92ZXIsaS5kZWZhdWx0LnRoZW1lLmNvbG9ycy5iYWNrZ3JvdW5kMixpLmRlZmF1bHQudGhlbWUuY29sb3JzLnRleHQyLGkuZGVmYXVsdC50aGVtZS5jb2xvcnMuYmFja2dyb3VuZDIsaS5kZWZhdWx0LnRoZW1lLmNvbG9ycy5iYWNrZ3JvdW5kMmhvdmVyKX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgbz10W25dO28uZW51bWVyYWJsZT1vLmVudW1lcmFibGV8fCExLG8uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG8mJihvLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxvLmtleSxvKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixvKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxvJiZlKHQsbyksdH19KCksaT1uKDApLGE9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShpKSxzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsaSxzKXtvKHRoaXMsZSksdGhpcy5vcHRzPXI7dmFyIHU9bigxKSh0LHIubGFiZWwsaSk7big1KSh1LHIubGFiZWwsaSksdGhpcy50ZXh0PXUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSksKDAsYS5kZWZhdWx0KSh0aGlzLnRleHQse2Rpc3BsYXk6XCJpbmxpbmUtYmxvY2tcIixoZWlnaHQ6XCJ1bnNldFwiLHdpZHRoOlwiY2FsYygxMDAlIC0gXCIraS5zaXppbmcubGFiZWxXaWR0aCtcIilcIixib3JkZXI6XCJub25lXCIsY29sb3I6aS5jb2xvcnMudGV4dDIsZm9udEZhbWlseTpcImluaGVyaXRcIixcImJveC1zaXppbmdcIjpcImJvcmRlci1ib3hcIixcIi1tb3otYm94LXNpemluZ1wiOlwiYm9yZGVyLWJveFwiLFwiLXdlYmtpdC1ib3gtc2l6aW5nXCI6XCJib3JkZXItYm94XCIsdmVydGljYWxBbGlnbjpcInN1YlwiLFwibGluZS1oZWlnaHRcIjpcIjIwcHhcIixcInVzZXItc2VsZWN0XCI6XCJ0ZXh0XCJ9KSxyLmxhYmVsJiZ0aGlzLnRleHQuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLHIubGFiZWwpfXJldHVybiByKGUsW3trZXk6XCJTZXRWYWx1ZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMudGV4dC5pbm5lckhUTUw9ZS50b1N0cmluZygpfX0se2tleTpcIkdldFZhbHVlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50ZXh0LmlubmVySFRNTC50b1N0cmluZygpfX1dKSxlfSgpO3QuZGVmYXVsdD1zLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1mdW5jdGlvbiByKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBpKGUsdCl7aWYoIWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiF0fHxcIm9iamVjdFwiIT10eXBlb2YgdCYmXCJmdW5jdGlvblwiIT10eXBlb2YgdD9lOnR9ZnVuY3Rpb24gYShlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiB0KTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihlLHQpOmUuX19wcm90b19fPXQpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuTWVudUJhcj12b2lkIDA7dmFyIHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBvPXRbbl07by5lbnVtZXJhYmxlPW8uZW51bWVyYWJsZXx8ITEsby5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbyYmKG8ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG8ua2V5LG8pfX1yZXR1cm4gZnVuY3Rpb24odCxuLG8pe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLG8mJmUodCxvKSx0fX0oKSx1PW4oMCksbD1vKHUpLGM9big0KSxmPW8oYyk7dC5NZW51QmFyPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxvKXtyKHRoaXMsdCk7dmFyIGE9aSh0aGlzLCh0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpKS5jYWxsKHRoaXMpKSxzPW4oNzEpO2lmKGEuZWxlbWVudD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGEuZWxlbWVudC5jbGFzc05hbWU9c1tcImd1aWZ5LWJhclwiXSxlLmFwcGVuZENoaWxkKGEuZWxlbWVudCksby50aXRsZSl7dmFyIHU9YS5lbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpO3UuY2xhc3NOYW1lPXNbXCJndWlmeS1iYXItdGl0bGVcIl0sdS5pbm5lckhUTUw9by50aXRsZSwoMCxsLmRlZmF1bHQpKHUse2NvbG9yOm8udGhlbWUuY29sb3JzLnRleHQxfSl9dmFyIGM9YS5lbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIikpO2lmKGMuY2xhc3NOYW1lPXNbXCJndWlmeS1iYXItYnV0dG9uXCJdLGMuaW5uZXJIVE1MPVwiQ29udHJvbHNcIiwoMCxsLmRlZmF1bHQpKGMse2xlZnQ6XCJsZWZ0XCI9PW8uYWxpZ24/XCI4cHhcIjpcInVuc2V0XCIscmlnaHQ6XCJsZWZ0XCI9PW8uYWxpZ24/XCJ1bnNldFwiOlwiOHB4XCJ9KSxjLm9uY2xpY2s9ZnVuY3Rpb24oKXthLmVtaXQoXCJvbnRvZ2dsZXBhbmVsXCIpfSxcIm9mZnNldFwiPT1vLmJhck1vZGUpe28ucm9vdC5zdHlsZS5oZWlnaHQ9by5yb290Lm9mZnNldEhlaWdodCthLmVsZW1lbnQub2Zmc2V0SGVpZ2h0K1wicHhcIjt2YXIgZj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2Yuc3R5bGUud2lkdGg9XCIxMDAlXCIsZi5zdHlsZS5oZWlnaHQ9YS5lbGVtZW50Lm9mZnNldEhlaWdodCxvLnJvb3QuaW5zZXJ0QmVmb3JlKGYsby5yb290LmNoaWxkTm9kZXNbMF0pfXJldHVybiBhfXJldHVybiBhKHQsZSkscyh0LFt7a2V5OlwiU2V0VmlzaWJsZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuZWxlbWVudC5zdHlsZS5kaXNwbGF5PWU/XCJibG9ja1wiOlwibm9uZVwifX1dKSx0fShmLmRlZmF1bHQpfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0LmZyZWV6ZShPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLHtyYXc6e3ZhbHVlOk9iamVjdC5mcmVlemUodCl9fSkpfShbXCJcXG5cXG4uZ3VpZnktYmFyIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogXCIsXCI7XFxuICAgIGhlaWdodDogXCIsXCI7XFxuICAgIHdpZHRoOiAxMDAlO1xcbiAgICBvcGFjaXR5OiAxLjA7XFxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gICAgbGVmdDogMDtcXG4gICAgdG9wOiAwO1xcbiAgICBjdXJzb3I6IGRlZmF1bHQ7XFxufVxcblxcbi5ndWlmeS1iYXItdGl0bGUge1xcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICAgIHdpZHRoOiAxMDAlO1xcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgIHRvcDogY2FsYygoXCIsXCIgLSBcIixcIikgLyAyKTtcXG4gICAgbGluZS1oZWlnaHQ6IFwiLFwiO1xcbiAgICBjb2xvcjogXCIsXCI7XFxuICAgIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAgIC1tb3otdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAgIC1tcy11c2VyLXNlbGVjdDogbm9uZTtcXG4gICAgdXNlci1zZWxlY3Q6IG5vbmU7XFxufVxcblxcbi5ndWlmeS1iYXItYnV0dG9uIHtcXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgICBib3JkZXI6IG5vbmU7XFxuICAgIGN1cnNvcjogcG9pbnRlcjtcXG4gICAgZm9udC1mYW1pbHk6IGluaGVyaXQ7XFxuICAgIGhlaWdodDogXCIsXCI7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgdG9wOiBjYWxjKChcIixcIiAtIFwiLFwiKSAvIDIpO1xcbiAgICBjb2xvcjogXCIsXCI7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IFwiLFwiO1xcbiAgICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xcbiAgICAtbW96LXVzZXItc2VsZWN0OiBub25lO1xcbiAgICAtbXMtdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAgIHVzZXItc2VsZWN0OiBub25lO1xcblxcbn1cXG5cXG4uZ3VpZnktYmFyLWJ1dHRvbjpob3ZlcixcXG4uZ3VpZnktYmFyLWJ1dHRvbjpmb2N1cyB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IFwiLFwiO1xcbn1cXG5cXG4uZ3VpZnktYmFyLWJ1dHRvbjphY3RpdmUge1xcbiAgICBjb2xvcjogXCIsXCIgIWltcG9ydGFudDtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogXCIsXCIgIWltcG9ydGFudDtcXG59XFxuXFxuXFxuXCJdLFtcIlxcblxcbi5ndWlmeS1iYXIge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBcIixcIjtcXG4gICAgaGVpZ2h0OiBcIixcIjtcXG4gICAgd2lkdGg6IDEwMCU7XFxuICAgIG9wYWNpdHk6IDEuMDtcXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgICBsZWZ0OiAwO1xcbiAgICB0b3A6IDA7XFxuICAgIGN1cnNvcjogZGVmYXVsdDtcXG59XFxuXFxuLmd1aWZ5LWJhci10aXRsZSB7XFxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gICAgd2lkdGg6IDEwMCU7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgdG9wOiBjYWxjKChcIixcIiAtIFwiLFwiKSAvIDIpO1xcbiAgICBsaW5lLWhlaWdodDogXCIsXCI7XFxuICAgIGNvbG9yOiBcIixcIjtcXG4gICAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTtcXG4gICAgLW1vei11c2VyLXNlbGVjdDogbm9uZTtcXG4gICAgLW1zLXVzZXItc2VsZWN0OiBub25lO1xcbiAgICB1c2VyLXNlbGVjdDogbm9uZTtcXG59XFxuXFxuLmd1aWZ5LWJhci1idXR0b24ge1xcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICAgIGJvcmRlcjogbm9uZTtcXG4gICAgY3Vyc29yOiBwb2ludGVyO1xcbiAgICBmb250LWZhbWlseTogaW5oZXJpdDtcXG4gICAgaGVpZ2h0OiBcIixcIjtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICB0b3A6IGNhbGMoKFwiLFwiIC0gXCIsXCIpIC8gMik7XFxuICAgIGNvbG9yOiBcIixcIjtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogXCIsXCI7XFxuICAgIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAgIC1tb3otdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAgIC1tcy11c2VyLXNlbGVjdDogbm9uZTtcXG4gICAgdXNlci1zZWxlY3Q6IG5vbmU7XFxuXFxufVxcblxcbi5ndWlmeS1iYXItYnV0dG9uOmhvdmVyLFxcbi5ndWlmeS1iYXItYnV0dG9uOmZvY3VzIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogXCIsXCI7XFxufVxcblxcbi5ndWlmeS1iYXItYnV0dG9uOmFjdGl2ZSB7XFxuICAgIGNvbG9yOiBcIixcIiAhaW1wb3J0YW50O1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBcIixcIiAhaW1wb3J0YW50O1xcbn1cXG5cXG5cXG5cIl0pLHI9bigyKSxpPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0ociksYT1uKDMpO2UuZXhwb3J0cz1hKG8saS5kZWZhdWx0LnRoZW1lLmNvbG9ycy5iYWNrZ3JvdW5kMSxpLmRlZmF1bHQudGhlbWUuc2l6aW5nLm1lbnVCYXJIZWlnaHQsaS5kZWZhdWx0LnRoZW1lLnNpemluZy5tZW51QmFySGVpZ2h0LGkuZGVmYXVsdC50aGVtZS5zaXppbmcubWVudUJhckNvbnRlbnRIZWlnaHQsaS5kZWZhdWx0LnRoZW1lLnNpemluZy5tZW51QmFyQ29udGVudEhlaWdodCxpLmRlZmF1bHQudGhlbWUuY29sb3JzLnRleHQxLGkuZGVmYXVsdC50aGVtZS5zaXppbmcubWVudUJhckNvbnRlbnRIZWlnaHQsaS5kZWZhdWx0LnRoZW1lLnNpemluZy5tZW51QmFySGVpZ2h0LGkuZGVmYXVsdC50aGVtZS5zaXppbmcubWVudUJhckNvbnRlbnRIZWlnaHQsaS5kZWZhdWx0LnRoZW1lLmNvbG9ycy50ZXh0MSxpLmRlZmF1bHQudGhlbWUuY29sb3JzLmJhY2tncm91bmQyLGkuZGVmYXVsdC50aGVtZS5jb2xvcnMuYmFja2dyb3VuZDJob3ZlcixpLmRlZmF1bHQudGhlbWUuY29sb3JzLmJhY2tncm91bmQyLGkuZGVmYXVsdC50aGVtZS5jb2xvcnMudGV4dDIpfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbyhlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5QYW5lbD12b2lkIDA7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBvPXRbbl07by5lbnVtZXJhYmxlPW8uZW51bWVyYWJsZXx8ITEsby5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbyYmKG8ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG8ua2V5LG8pfX1yZXR1cm4gZnVuY3Rpb24odCxuLG8pe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLG8mJmUodCxvKSx0fX0oKSxpPW4oMCksYT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KGkpO3QuUGFuZWw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscil7byh0aGlzLGUpLHRoaXMuc3R5bGVzPW4oNzMpLHRoaXMuZWxlbWVudD10LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpLHRoaXMuZWxlbWVudC5jbGFzc05hbWU9dGhpcy5zdHlsZXNbXCJndWlmeS1wYW5lbFwiXSwoMCxhLmRlZmF1bHQpKHRoaXMuZWxlbWVudCx7YmFja2dyb3VuZDpyLnRoZW1lLmNvbG9ycy5iYWNrZ3JvdW5kMSx3aWR0aDpyLndpZHRoLG9wYWNpdHk6ci5vcGFjaXR5fHwxLGxlZnQ6XCJsZWZ0XCI9PXIuYWxpZ24/XCIwcHhcIjpcInVuc2V0XCIscmlnaHQ6XCJsZWZ0XCI9PXIuYWxpZ24/XCJ1bnNldFwiOlwiMHB4XCIsdHJhbnNpdGlvbjpcImhlaWdodCAwLjNzIGVhc2UsIG1hcmdpbiAwLjNzIGVhc2VcIn0pLHIudGl0bGUmJlwibm9uZVwiPT09ci5iYXJNb2RlJiZuKDc0KSh0aGlzLmVsZW1lbnQsci50aXRsZSxyLnRoZW1lKX1yZXR1cm4gcihlLFt7a2V5OlwiU2V0VmlzaWJsZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe2U/dGhpcy5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5zdHlsZXNbXCJndWlmeS1wYW5lbC1oaWRkZW5cIl0pOnRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuc3R5bGVzW1wiZ3VpZnktcGFuZWwtaGlkZGVuXCJdKX19LHtrZXk6XCJUb2dnbGVWaXNpYmxlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuc3R5bGVzW1wiZ3VpZnktcGFuZWwtaGlkZGVuXCJdKT90aGlzLlNldFZpc2libGUoITApOnRoaXMuU2V0VmlzaWJsZSghMSl9fV0pLGV9KCl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgbz1mdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3QuZnJlZXplKE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUse3Jhdzp7dmFsdWU6T2JqZWN0LmZyZWV6ZSh0KX19KSl9KFtcIlxcblxcbi5ndWlmeS1wYW5lbCB7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgcGFkZGluZzogMTRweDtcXG4gICAgLyogTGFzdCBjb21wb25lbnQgd2lsbCBoYXZlIGEgbWFyZ2luLCBzbyByZWR1Y2UgcGFkZGluZyB0byBhY2NvdW50IGZvciB0aGlzICovXFxuICAgIHBhZGRpbmctYm90dG9tOiBjYWxjKDE0cHggLSBcIixcIik7XFxuXFxuICAgIC8qIGFsbDogaW5pdGlhbDsgICovXFxuICAgIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAgIC1tb3otdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAgIC1tcy11c2VyLXNlbGVjdDogbm9uZTtcXG4gICAgdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAgIGN1cnNvcjogZGVmYXVsdDtcXG4gICAgdGV4dC1hbGlnbjogbGVmdDtcXG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG59XFxuXFxuLmd1aWZ5LXBhbmVsLmd1aWZ5LXBhbmVsLWhpZGRlbiB7XFxuICAgIGhlaWdodDogMHB4O1xcbiAgICBkaXNwbGF5OiBub25lO1xcbiAgICAvKiB0cmFuc2l0aW9uOiBoZWlnaHQgMC4zcyBlYXNlLCBwYWRkaW5nLXRvcCAwLjNzIGVhc2UsIHBhZGRpbmctYm90dG9tIDAuM3MgZWFzZTsgKi9cXG59XFxuXFxuLmd1aWZ5LXBhbmVsICoge1xcbiAgICBib3gtc2l6aW5nOiBpbml0aWFsO1xcbiAgICAtd2Via2l0LWJveC1zaXppbmc6IGluaXRpYWw7XFxuICAgIC1tb3otYm94LXNpemluZzogaW5pdGlhbDtcXG59XFxuXFxuLmd1aWZ5LXBhbmVsICogaW5wdXQge1xcbiAgICBmb250LWZhbWlseTogJ0hhY2snO1xcbiAgICBmb250LXNpemU6IDExcHg7XFxuICAgIGRpc3BsYXk6IGlubGluZTtcXG59XFxuXFxuLmd1aWZ5LXBhbmVsICogYSB7XFxuICAgIGNvbG9yOiBpbmhlcml0O1xcbiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XFxufVxcblxcblwiXSxbXCJcXG5cXG4uZ3VpZnktcGFuZWwge1xcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgIHBhZGRpbmc6IDE0cHg7XFxuICAgIC8qIExhc3QgY29tcG9uZW50IHdpbGwgaGF2ZSBhIG1hcmdpbiwgc28gcmVkdWNlIHBhZGRpbmcgdG8gYWNjb3VudCBmb3IgdGhpcyAqL1xcbiAgICBwYWRkaW5nLWJvdHRvbTogY2FsYygxNHB4IC0gXCIsXCIpO1xcblxcbiAgICAvKiBhbGw6IGluaXRpYWw7ICAqL1xcbiAgICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xcbiAgICAtbW96LXVzZXItc2VsZWN0OiBub25lO1xcbiAgICAtbXMtdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAgIHVzZXItc2VsZWN0OiBub25lO1xcbiAgICBjdXJzb3I6IGRlZmF1bHQ7XFxuICAgIHRleHQtYWxpZ246IGxlZnQ7XFxuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxufVxcblxcbi5ndWlmeS1wYW5lbC5ndWlmeS1wYW5lbC1oaWRkZW4ge1xcbiAgICBoZWlnaHQ6IDBweDtcXG4gICAgZGlzcGxheTogbm9uZTtcXG4gICAgLyogdHJhbnNpdGlvbjogaGVpZ2h0IDAuM3MgZWFzZSwgcGFkZGluZy10b3AgMC4zcyBlYXNlLCBwYWRkaW5nLWJvdHRvbSAwLjNzIGVhc2U7ICovXFxufVxcblxcbi5ndWlmeS1wYW5lbCAqIHtcXG4gICAgYm94LXNpemluZzogaW5pdGlhbDtcXG4gICAgLXdlYmtpdC1ib3gtc2l6aW5nOiBpbml0aWFsO1xcbiAgICAtbW96LWJveC1zaXppbmc6IGluaXRpYWw7XFxufVxcblxcbi5ndWlmeS1wYW5lbCAqIGlucHV0IHtcXG4gICAgZm9udC1mYW1pbHk6ICdIYWNrJztcXG4gICAgZm9udC1zaXplOiAxMXB4O1xcbiAgICBkaXNwbGF5OiBpbmxpbmU7XFxufVxcblxcbi5ndWlmeS1wYW5lbCAqIGEge1xcbiAgICBjb2xvcjogaW5oZXJpdDtcXG4gICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xcbn1cXG5cXG5cIl0pLHI9bigyKSxpPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0ociksYT1uKDMpO2UuZXhwb3J0cz1hKG8saS5kZWZhdWx0LnRoZW1lLnNpemluZy5jb21wb25lbnRTcGFjaW5nKX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1mdW5jdGlvbihlLHQsbil7dmFyIG89ZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKTtyZXR1cm4gby5pbm5lckhUTUw9dCwoMCxyLmRlZmF1bHQpKG8se3dpZHRoOlwiMTAwJVwiLHRleHRBbGlnbjpcImNlbnRlclwiLGNvbG9yOm4uY29sb3JzLnRleHQyLGhlaWdodDpcIjIwcHhcIixtYXJnaW5Cb3R0b206XCI0cHhcIn0pLG99O3ZhciBvPW4oMCkscj1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KG8pO2UuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LlRvYXN0QXJlYT12b2lkIDA7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBvPXRbbl07by5lbnVtZXJhYmxlPW8uZW51bWVyYWJsZXx8ITEsby5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbyYmKG8ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG8ua2V5LG8pfX1yZXR1cm4gZnVuY3Rpb24odCxuLG8pe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLG8mJmUodCxvKSx0fX0oKSxpPW4oMCksYT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KGkpO3QuVG9hc3RBcmVhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIpe28odGhpcyxlKSx0aGlzLm9wdHM9cix0aGlzLnN0eWxlcz1uKDc2KSx0aGlzLmVsZW1lbnQ9dC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKSx0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLnN0eWxlc1tcImd1aWZ5LXRvYXN0LWFyZWFcIl0pLCgwLGEuZGVmYXVsdCkodGhpcy5lbGVtZW50LHtwb3NpdGlvbjpcImFic29sdXRlXCIsd2lkdGg6XCIxMDAlXCJ9KX1yZXR1cm4gcihlLFt7a2V5OlwiQ3JlYXRlVG9hc3RcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06NWUzLG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjEwMDtjb25zb2xlLmxvZyhcIltUb2FzdF0gXCIrZSk7dmFyIG89dGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpO28uY2xhc3NMaXN0LmFkZCh0aGlzLnN0eWxlc1tcImd1aWZ5LXRvYXN0LW5vdGlmaWNhdGlvblwiXSksby5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxpdmVcIixcInBvbGl0ZVwiKSwoMCxhLmRlZmF1bHQpKG8se1wiYm94LXNpemluZ1wiOlwiYm9yZGVyLWJveFwiLGNvbG9yOnRoaXMub3B0cy50aGVtZS5jb2xvcnMudGV4dDEscG9zaXRpb246XCJyZWxhdGl2ZVwiLHdpZHRoOlwiMTAwJVwiLHBhZGRpbmc6XCI4cHhcIixcInBhZGRpbmctbGVmdFwiOlwiMjBweFwiLFwicGFkZGluZy1yaWdodFwiOlwiMjBweFwiLFwidGV4dC1hbGlnblwiOlwiY2VudGVyXCIsXCJmb250LWZhbWlseVwiOlwiSGFjaycsIG1vbm9zcGFjZVwiLFwiZm9udC1zaXplXCI6XCIxMXB4XCJ9KSxvLmlubmVySFRNTD1lO3ZhciByPW8uYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKSk7ci5pbm5lckhUTUw9XCImIzEwMDA2O1wiLCgwLGEuZGVmYXVsdCkocix7YmFja2dyb3VuZDpcInJnYmEoMCwgMCwgMCwgMClcIixjb2xvcjp0aGlzLm9wdHMudGhlbWUuY29sb3JzLnRleHQxLHBvc2l0aW9uOlwiYWJzb2x1dGVcIix0ZXh0QWxpZ246XCJjZW50ZXJcIixcIm1hcmdpbi10b3BcIjpcImF1dG9cIixcIm1hcmdpbi1ib3R0b21cIjpcImF1dG9cIixib3JkZXI6XCJub25lXCIsY3Vyc29yOlwicG9pbnRlclwiLGZvbnRGYW1pbHk6XCJpbmhlcml0XCIsdG9wOlwiMFwiLGJvdHRvbTpcIjBcIixyaWdodDpcIjhweFwifSk7dmFyIGk9dm9pZCAwLHM9ZnVuY3Rpb24oKXsoMCxhLmRlZmF1bHQpKG8se1wiLXdlYmtpdC10cmFuc2l0aW9uXCI6XCItd2Via2l0LW9wYWNpdHkgXCIrbitcIm1zIGxpbmVhclwiLHRyYW5zaXRpb246XCJvcGFjaXR5IFwiK24rXCJtcyBsaW5lYXJcIixvcGFjaXR5OlwiMFwifSksY2xlYXJUaW1lb3V0KGkpLGk9c2V0VGltZW91dChmdW5jdGlvbigpe28mJm8ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvKX0sbil9O2k9c2V0VGltZW91dChzLHQpLHIub25jbGljaz1zfX1dKSxlfSgpfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0LmZyZWV6ZShPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLHtyYXc6e3ZhbHVlOk9iamVjdC5mcmVlemUodCl9fSkpfShbXCJcXG5cXG4uZ3VpZnktdG9hc3QtYXJlYSAuZ3VpZnktdG9hc3Qtbm90aWZpY2F0aW9uOm50aC1jaGlsZChvZGQpIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogXCIsXCI7XFxufVxcblxcbi5ndWlmeS10b2FzdC1hcmVhIC5ndWlmeS10b2FzdC1ub3RpZmljYXRpb246bnRoLWNoaWxkKGV2ZW4pIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogXCIsXCI7XFxufVxcblxcblwiXSxbXCJcXG5cXG4uZ3VpZnktdG9hc3QtYXJlYSAuZ3VpZnktdG9hc3Qtbm90aWZpY2F0aW9uOm50aC1jaGlsZChvZGQpIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogXCIsXCI7XFxufVxcblxcbi5ndWlmeS10b2FzdC1hcmVhIC5ndWlmeS10b2FzdC1ub3RpZmljYXRpb246bnRoLWNoaWxkKGV2ZW4pIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogXCIsXCI7XFxufVxcblxcblwiXSkscj1uKDIpLGk9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShyKSxhPW4oMyk7ZS5leHBvcnRzPWEobyxpLmRlZmF1bHQudGhlbWUuY29sb3JzLmJhY2tncm91bmQyLGkuZGVmYXVsdC50aGVtZS5jb2xvcnMuYmFja2dyb3VuZDEpfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0LmZyZWV6ZShPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLHtyYXc6e3ZhbHVlOk9iamVjdC5mcmVlemUodCl9fSkpfShbXCJcXG5cXG4uZ3VpZnktY29udGFpbmVyIHtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICBsZWZ0OiAwO1xcbiAgICB3aWR0aDogMTAwJTtcXG4gICAgZm9udC1zaXplOiAxMXB4O1xcbn1cXG5cXG5cIl0sW1wiXFxuXFxuLmd1aWZ5LWNvbnRhaW5lciB7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgbGVmdDogMDtcXG4gICAgd2lkdGg6IDEwMCU7XFxuICAgIGZvbnQtc2l6ZTogMTFweDtcXG59XFxuXFxuXCJdKSxyPW4oMiksaT0oZnVuY3Rpb24oZSl7ZSYmZS5fX2VzTW9kdWxlfShyKSxuKDMpKTtlLmV4cG9ydHM9aShvKX1dKX0pOyIsIiFmdW5jdGlvbih0LGUpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPWUoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtdLGUpOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMuTWlkaUNvbnZlcnQ9ZSgpOnQuTWlkaUNvbnZlcnQ9ZSgpfSh0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUocil7aWYobltyXSlyZXR1cm4gbltyXS5leHBvcnRzO3ZhciBpPW5bcl09e2V4cG9ydHM6e30saWQ6cixsb2FkZWQ6ITF9O3JldHVybiB0W3JdLmNhbGwoaS5leHBvcnRzLGksaS5leHBvcnRzLGUpLGkubG9hZGVkPSEwLGkuZXhwb3J0c312YXIgbj17fTtyZXR1cm4gZS5tPXQsZS5jPW4sZS5wPVwiXCIsZSgwKX0oW2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcj1uKDcpLGk9bigyKSxhPXtpbnN0cnVtZW50QnlQYXRjaElEOmkuaW5zdHJ1bWVudEJ5UGF0Y2hJRCxpbnN0cnVtZW50RmFtaWx5QnlJRDppLmluc3RydW1lbnRGYW1pbHlCeUlELHBhcnNlOmZ1bmN0aW9uKHQpe3JldHVybihuZXcgci5NaWRpKS5kZWNvZGUodCl9LGxvYWQ6ZnVuY3Rpb24odCxlKXt2YXIgbj0obmV3IHIuTWlkaSkubG9hZCh0KTtyZXR1cm4gZSYmbi50aGVuKGUpLG59LGNyZWF0ZTpmdW5jdGlvbigpe3JldHVybiBuZXcgci5NaWRpfX07ZVtcImRlZmF1bHRcIl09YSx0LmV4cG9ydHM9YX0sZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQpe3JldHVybiB0LnJlcGxhY2UoL1xcdTAwMDAvZyxcIlwiKX1mdW5jdGlvbiByKHQsZSl7cmV0dXJuIDYwL2UuYnBtKih0L2UuUFBRKX1mdW5jdGlvbiBpKHQpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiB0fWZ1bmN0aW9uIGEodCl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHR9ZnVuY3Rpb24gbyh0KXt2YXIgZT1bXCJDXCIsXCJDI1wiLFwiRFwiLFwiRCNcIixcIkVcIixcIkZcIixcIkYjXCIsXCJHXCIsXCJHI1wiLFwiQVwiLFwiQSNcIixcIkJcIl0sbj1NYXRoLmZsb29yKHQvMTIpLTEscj10JTEyO3JldHVybiBlW3JdK259dmFyIHM9ZnVuY3Rpb24oKXt2YXIgdD0vXihbYS1nXXsxfSg/OmJ8I3x4fGJiKT8pKC0/WzAtOV0rKS9pO3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gYShlKSYmdC50ZXN0KGUpfX0oKSx1PWZ1bmN0aW9uKCl7dmFyIHQ9L14oW2EtZ117MX0oPzpifCN8eHxiYik/KSgtP1swLTldKykvaSxlPXtjYmI6LTIsY2I6LTEsYzowLFwiYyNcIjoxLGN4OjIsZGJiOjAsZGI6MSxkOjIsXCJkI1wiOjMsZHg6NCxlYmI6MixlYjozLGU6NCxcImUjXCI6NSxleDo2LGZiYjozLGZiOjQsZjo1LFwiZiNcIjo2LGZ4OjcsZ2JiOjUsZ2I6NixnOjcsXCJnI1wiOjgsZ3g6OSxhYmI6NyxhYjo4LGE6OSxcImEjXCI6MTAsYXg6MTEsYmJiOjksYmI6MTAsYjoxMSxcImIjXCI6MTIsYng6MTN9O3JldHVybiBmdW5jdGlvbihuKXt2YXIgcj10LmV4ZWMobiksaT1yWzFdLGE9clsyXSxvPWVbaS50b0xvd2VyQ2FzZSgpXTtyZXR1cm4gbysxMioocGFyc2VJbnQoYSkrMSl9fSgpO3QuZXhwb3J0cz17Y2xlYW5OYW1lOm4sdGlja3NUb1NlY29uZHM6cixpc1N0cmluZzphLGlzTnVtYmVyOmksaXNQaXRjaDpzLG1pZGlUb1BpdGNoOm8scGl0Y2hUb01pZGk6dX19LGZ1bmN0aW9uKHQsZSl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7ZS5pbnN0cnVtZW50QnlQYXRjaElEPVtcImFjb3VzdGljIGdyYW5kIHBpYW5vXCIsXCJicmlnaHQgYWNvdXN0aWMgcGlhbm9cIixcImVsZWN0cmljIGdyYW5kIHBpYW5vXCIsXCJob25reS10b25rIHBpYW5vXCIsXCJlbGVjdHJpYyBwaWFubyAxXCIsXCJlbGVjdHJpYyBwaWFubyAyXCIsXCJoYXJwc2ljaG9yZFwiLFwiY2xhdmlcIixcImNlbGVzdGFcIixcImdsb2NrZW5zcGllbFwiLFwibXVzaWMgYm94XCIsXCJ2aWJyYXBob25lXCIsXCJtYXJpbWJhXCIsXCJ4eWxvcGhvbmVcIixcInR1YnVsYXIgYmVsbHNcIixcImR1bGNpbWVyXCIsXCJkcmF3YmFyIG9yZ2FuXCIsXCJwZXJjdXNzaXZlIG9yZ2FuXCIsXCJyb2NrIG9yZ2FuXCIsXCJjaHVyY2ggb3JnYW5cIixcInJlZWQgb3JnYW5cIixcImFjY29yZGlvblwiLFwiaGFybW9uaWNhXCIsXCJ0YW5nbyBhY2NvcmRpb25cIixcImFjb3VzdGljIGd1aXRhciAobnlsb24pXCIsXCJhY291c3RpYyBndWl0YXIgKHN0ZWVsKVwiLFwiZWxlY3RyaWMgZ3VpdGFyIChqYXp6KVwiLFwiZWxlY3RyaWMgZ3VpdGFyIChjbGVhbilcIixcImVsZWN0cmljIGd1aXRhciAobXV0ZWQpXCIsXCJvdmVyZHJpdmVuIGd1aXRhclwiLFwiZGlzdG9ydGlvbiBndWl0YXJcIixcImd1aXRhciBoYXJtb25pY3NcIixcImFjb3VzdGljIGJhc3NcIixcImVsZWN0cmljIGJhc3MgKGZpbmdlcilcIixcImVsZWN0cmljIGJhc3MgKHBpY2spXCIsXCJmcmV0bGVzcyBiYXNzXCIsXCJzbGFwIGJhc3MgMVwiLFwic2xhcCBiYXNzIDJcIixcInN5bnRoIGJhc3MgMVwiLFwic3ludGggYmFzcyAyXCIsXCJ2aW9saW5cIixcInZpb2xhXCIsXCJjZWxsb1wiLFwiY29udHJhYmFzc1wiLFwidHJlbW9sbyBzdHJpbmdzXCIsXCJwaXp6aWNhdG8gc3RyaW5nc1wiLFwib3JjaGVzdHJhbCBoYXJwXCIsXCJ0aW1wYW5pXCIsXCJzdHJpbmcgZW5zZW1ibGUgMVwiLFwic3RyaW5nIGVuc2VtYmxlIDJcIixcInN5bnRoc3RyaW5ncyAxXCIsXCJzeW50aHN0cmluZ3MgMlwiLFwiY2hvaXIgYWFoc1wiLFwidm9pY2Ugb29oc1wiLFwic3ludGggdm9pY2VcIixcIm9yY2hlc3RyYSBoaXRcIixcInRydW1wZXRcIixcInRyb21ib25lXCIsXCJ0dWJhXCIsXCJtdXRlZCB0cnVtcGV0XCIsXCJmcmVuY2ggaG9yblwiLFwiYnJhc3Mgc2VjdGlvblwiLFwic3ludGhicmFzcyAxXCIsXCJzeW50aGJyYXNzIDJcIixcInNvcHJhbm8gc2F4XCIsXCJhbHRvIHNheFwiLFwidGVub3Igc2F4XCIsXCJiYXJpdG9uZSBzYXhcIixcIm9ib2VcIixcImVuZ2xpc2ggaG9yblwiLFwiYmFzc29vblwiLFwiY2xhcmluZXRcIixcInBpY2NvbG9cIixcImZsdXRlXCIsXCJyZWNvcmRlclwiLFwicGFuIGZsdXRlXCIsXCJibG93biBib3R0bGVcIixcInNoYWt1aGFjaGlcIixcIndoaXN0bGVcIixcIm9jYXJpbmFcIixcImxlYWQgMSAoc3F1YXJlKVwiLFwibGVhZCAyIChzYXd0b290aClcIixcImxlYWQgMyAoY2FsbGlvcGUpXCIsXCJsZWFkIDQgKGNoaWZmKVwiLFwibGVhZCA1IChjaGFyYW5nKVwiLFwibGVhZCA2ICh2b2ljZSlcIixcImxlYWQgNyAoZmlmdGhzKVwiLFwibGVhZCA4IChiYXNzICsgbGVhZClcIixcInBhZCAxIChuZXcgYWdlKVwiLFwicGFkIDIgKHdhcm0pXCIsXCJwYWQgMyAocG9seXN5bnRoKVwiLFwicGFkIDQgKGNob2lyKVwiLFwicGFkIDUgKGJvd2VkKVwiLFwicGFkIDYgKG1ldGFsbGljKVwiLFwicGFkIDcgKGhhbG8pXCIsXCJwYWQgOCAoc3dlZXApXCIsXCJmeCAxIChyYWluKVwiLFwiZnggMiAoc291bmR0cmFjaylcIixcImZ4IDMgKGNyeXN0YWwpXCIsXCJmeCA0IChhdG1vc3BoZXJlKVwiLFwiZnggNSAoYnJpZ2h0bmVzcylcIixcImZ4IDYgKGdvYmxpbnMpXCIsXCJmeCA3IChlY2hvZXMpXCIsXCJmeCA4IChzY2ktZmkpXCIsXCJzaXRhclwiLFwiYmFuam9cIixcInNoYW1pc2VuXCIsXCJrb3RvXCIsXCJrYWxpbWJhXCIsXCJiYWcgcGlwZVwiLFwiZmlkZGxlXCIsXCJzaGFuYWlcIixcInRpbmtsZSBiZWxsXCIsXCJhZ29nb1wiLFwic3RlZWwgZHJ1bXNcIixcIndvb2RibG9ja1wiLFwidGFpa28gZHJ1bVwiLFwibWVsb2RpYyB0b21cIixcInN5bnRoIGRydW1cIixcInJldmVyc2UgY3ltYmFsXCIsXCJndWl0YXIgZnJldCBub2lzZVwiLFwiYnJlYXRoIG5vaXNlXCIsXCJzZWFzaG9yZVwiLFwiYmlyZCB0d2VldFwiLFwidGVsZXBob25lIHJpbmdcIixcImhlbGljb3B0ZXJcIixcImFwcGxhdXNlXCIsXCJndW5zaG90XCJdLGUuaW5zdHJ1bWVudEZhbWlseUJ5SUQ9W1wicGlhbm9cIixcImNocm9tYXRpYyBwZXJjdXNzaW9uXCIsXCJvcmdhblwiLFwiZ3VpdGFyXCIsXCJiYXNzXCIsXCJzdHJpbmdzXCIsXCJlbnNlbWJsZVwiLFwiYnJhc3NcIixcInJlZWRcIixcInBpcGVcIixcInN5bnRoIGxlYWRcIixcInN5bnRoIHBhZFwiLFwic3ludGggZWZmZWN0c1wiLFwiZXRobmljXCIsXCJwZXJjdXNzaXZlXCIsXCJzb3VuZCBlZmZlY3RzXCJdfSxmdW5jdGlvbih0LGUpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCxlKXt2YXIgbj0wLHI9dC5sZW5ndGgsaT1yO2lmKHI+MCYmdFtyLTFdLnRpbWU8PWUpcmV0dXJuIHItMTtmb3IoO2k+bjspe3ZhciBhPU1hdGguZmxvb3IobisoaS1uKS8yKSxvPXRbYV0scz10W2ErMV07aWYoby50aW1lPT09ZSl7Zm9yKHZhciB1PWE7dTx0Lmxlbmd0aDt1Kyspe3ZhciBjPXRbdV07Yy50aW1lPT09ZSYmKGE9dSl9cmV0dXJuIGF9aWYoby50aW1lPGUmJnMudGltZT5lKXJldHVybiBhO28udGltZT5lP2k9YTpvLnRpbWU8ZSYmKG49YSsxKX1yZXR1cm4tMX1mdW5jdGlvbiByKHQsZSl7aWYodC5sZW5ndGgpe3ZhciByPW4odCxlLnRpbWUpO3Quc3BsaWNlKHIrMSwwLGUpfWVsc2UgdC5wdXNoKGUpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGUuQmluYXJ5SW5zZXJ0PXJ9LGZ1bmN0aW9uKHQsZSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIua2V5LHIpfX1yZXR1cm4gZnVuY3Rpb24oZSxuLHIpe3JldHVybiBuJiZ0KGUucHJvdG90eXBlLG4pLHImJnQoZSxyKSxlfX0oKSxpPXsxOlwibW9kdWxhdGlvbldoZWVsXCIsMjpcImJyZWF0aFwiLDQ6XCJmb290Q29udHJvbGxlclwiLDU6XCJwb3J0YW1lbnRvVGltZVwiLDc6XCJ2b2x1bWVcIiw4OlwiYmFsYW5jZVwiLDEwOlwicGFuXCIsNjQ6XCJzdXN0YWluXCIsNjU6XCJwb3J0YW1lbnRvVGltZVwiLDY2Olwic29zdGVudXRvXCIsNjc6XCJzb2Z0UGVkYWxcIiw2ODpcImxlZ2F0b0Zvb3Rzd2l0Y2hcIiw4NDpcInBvcnRhbWVudG9Db250cm9cIn0sYT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxyLGkpe24odGhpcyx0KSx0aGlzLm51bWJlcj1lLHRoaXMudGltZT1yLHRoaXMudmFsdWU9aX1yZXR1cm4gcih0LFt7a2V5OlwibmFtZVwiLGdldDpmdW5jdGlvbigpe3JldHVybiBpLmhhc093blByb3BlcnR5KHRoaXMubnVtYmVyKT9pW3RoaXMubnVtYmVyXTp2b2lkIDB9fV0pLHR9KCk7ZS5Db250cm9sPWF9LGZ1bmN0aW9uKHQsZSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0KXtmb3IodmFyIGU9e1BQUTp0LmhlYWRlci50aWNrc1BlckJlYXR9LG49MDtuPHQudHJhY2tzLmxlbmd0aDtuKyspZm9yKHZhciByPXQudHJhY2tzW25dLGk9MDtpPHIubGVuZ3RoO2krKyl7dmFyIGE9cltpXTtcIm1ldGFcIj09PWEudHlwZSYmKFwidGltZVNpZ25hdHVyZVwiPT09YS5zdWJ0eXBlP2UudGltZVNpZ25hdHVyZT1bYS5udW1lcmF0b3IsYS5kZW5vbWluYXRvcl06XCJzZXRUZW1wb1wiPT09YS5zdWJ0eXBlJiYoZS5icG18fChlLmJwbT02ZTcvYS5taWNyb3NlY29uZHNQZXJCZWF0KSkpfXJldHVybiBlLmJwbT1lLmJwbXx8MTIwLGV9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZS5wYXJzZUhlYWRlcj1ufSxmdW5jdGlvbih0LGUpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCxlKXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIHI9dFtuXSxpPWVbbl07aWYoci5sZW5ndGg+aSlyZXR1cm4hMH1yZXR1cm4hMX1mdW5jdGlvbiByKHQsZSxuKXtmb3IodmFyIHI9MCxpPTEvMCxhPTA7YTx0Lmxlbmd0aDthKyspe3ZhciBvPXRbYV0scz1lW2FdO29bc10mJm9bc10udGltZTxpJiYocj1hLGk9b1tzXS50aW1lKX1uW3JdKHRbcl1bZVtyXV0pLGVbcl0rPTF9ZnVuY3Rpb24gaSgpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLGU9QXJyYXkodCksaT0wO3Q+aTtpKyspZVtpXT1hcmd1bWVudHNbaV07Zm9yKHZhciBhPWUuZmlsdGVyKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUlMj09PTB9KSxvPW5ldyBVaW50MzJBcnJheShhLmxlbmd0aCkscz1lLmZpbHRlcihmdW5jdGlvbih0LGUpe3JldHVybiBlJTI9PT0xfSk7bihhLG8pOylyKGEsbyxzKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLk1lcmdlPWl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7XCJkZWZhdWx0XCI6dH19ZnVuY3Rpb24gaSh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZS5NaWRpPXZvaWQgMDt2YXIgYT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsci5rZXkscil9fXJldHVybiBmdW5jdGlvbihlLG4scil7cmV0dXJuIG4mJnQoZS5wcm90b3R5cGUsbiksciYmdChlLHIpLGV9fSgpLG89bigxMSkscz1yKG8pLHU9bigxMCksYz1yKHUpLGg9bigxKSxmPXIoaCksZD1uKDkpLGw9big1KSxwPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe2kodGhpcyx0KSx0aGlzLmhlYWRlcj17YnBtOjEyMCx0aW1lU2lnbmF0dXJlOls0LDRdLFBQUTo0ODB9LHRoaXMudHJhY2tzPVtdfXJldHVybiBhKHQsW3trZXk6XCJsb2FkXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpudWxsLHI9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOlwiR0VUXCI7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKGksYSl7dmFyIG89bmV3IFhNTEh0dHBSZXF1ZXN0O28ub3BlbihyLHQpLG8ucmVzcG9uc2VUeXBlPVwiYXJyYXlidWZmZXJcIixvLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsZnVuY3Rpb24oKXs0PT09by5yZWFkeVN0YXRlJiYyMDA9PT1vLnN0YXR1cz9pKGUuZGVjb2RlKG8ucmVzcG9uc2UpKTphKG8uc3RhdHVzKX0pLG8uYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsYSksby5zZW5kKG4pfSl9fSx7a2V5OlwiZGVjb2RlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztpZih0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpe3ZhciBuPW5ldyBVaW50OEFycmF5KHQpO3Q9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG4pfXZhciByPSgwLHNbXCJkZWZhdWx0XCJdKSh0KTtyZXR1cm4gdGhpcy5oZWFkZXI9KDAsbC5wYXJzZUhlYWRlcikociksdGhpcy50cmFja3M9W10sci50cmFja3MuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgbj1uZXcgZC5UcmFjaztlLnRyYWNrcy5wdXNoKG4pO3ZhciByPTA7dC5mb3JFYWNoKGZ1bmN0aW9uKHQpe3IrPWZbXCJkZWZhdWx0XCJdLnRpY2tzVG9TZWNvbmRzKHQuZGVsdGFUaW1lLGUuaGVhZGVyKSxcIm1ldGFcIj09PXQudHlwZSYmXCJ0cmFja05hbWVcIj09PXQuc3VidHlwZT9uLm5hbWU9ZltcImRlZmF1bHRcIl0uY2xlYW5OYW1lKHQudGV4dCk6XCJub3RlT25cIj09PXQuc3VidHlwZT9uLm5vdGVPbih0Lm5vdGVOdW1iZXIscix0LnZlbG9jaXR5LzEyNyk6XCJub3RlT2ZmXCI9PT10LnN1YnR5cGU/bi5ub3RlT2ZmKHQubm90ZU51bWJlcixyKTpcImNvbnRyb2xsZXJcIj09PXQuc3VidHlwZSYmdC5jb250cm9sbGVyVHlwZT9uLmNjKHQuY29udHJvbGxlclR5cGUscix0LnZhbHVlLzEyNyk6XCJtZXRhXCI9PT10LnR5cGUmJlwiaW5zdHJ1bWVudE5hbWVcIj09PXQuc3VidHlwZT9uLmluc3RydW1lbnQ9dC50ZXh0OlwiY2hhbm5lbFwiPT09dC50eXBlJiZcInByb2dyYW1DaGFuZ2VcIj09PXQuc3VidHlwZSYmbi5wYXRjaCh0LnByb2dyYW1OdW1iZXIpfSl9KSx0aGlzfX0se2tleTpcImVuY29kZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPW5ldyBjW1wiZGVmYXVsdFwiXS5GaWxlKHt0aWNrczp0aGlzLmhlYWRlci5QUFF9KTtyZXR1cm4gdGhpcy50cmFja3MuZm9yRWFjaChmdW5jdGlvbihuLHIpe3ZhciBpPWUuYWRkVHJhY2soKTtpLnNldFRlbXBvKHQuYnBtKSxuLmVuY29kZShpLHQuaGVhZGVyKX0pLGUudG9CeXRlcygpfX0se2tleTpcInRvQXJyYXlcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLmVuY29kZSgpLGU9bmV3IEFycmF5KHQubGVuZ3RoKSxuPTA7bjx0Lmxlbmd0aDtuKyspZVtuXT10LmNoYXJDb2RlQXQobik7cmV0dXJuIGV9fSx7a2V5OlwidHJhY2tcIix2YWx1ZTpmdW5jdGlvbiBlKHQpe3ZhciBlPW5ldyBkLlRyYWNrKHQpO3JldHVybiB0aGlzLnRyYWNrcy5wdXNoKGUpLGV9fSx7a2V5OlwiZ2V0XCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIGZbXCJkZWZhdWx0XCJdLmlzTnVtYmVyKHQpP3RoaXMudHJhY2tzW3RdOnRoaXMudHJhY2tzLmZpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIGUubmFtZT09PXR9KX19LHtrZXk6XCJzbGljZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjAsbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06dGhpcy5kdXJhdGlvbixyPW5ldyB0O3JldHVybiByLmhlYWRlcj10aGlzLmhlYWRlcixyLnRyYWNrcz10aGlzLnRyYWNrcy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQuc2xpY2UoZSxuKX0pLHJ9fSx7a2V5Olwic3RhcnRUaW1lXCIsZ2V0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy50cmFja3MubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LnN0YXJ0VGltZX0pO3JldHVybiBNYXRoLm1pbi5hcHBseShNYXRoLHQpfX0se2tleTpcImJwbVwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmhlYWRlci5icG19LHNldDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmhlYWRlci5icG07dGhpcy5oZWFkZXIuYnBtPXQ7dmFyIG49ZS90O3RoaXMudHJhY2tzLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIHQuc2NhbGUobil9KX19LHtrZXk6XCJ0aW1lU2lnbmF0dXJlXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGVhZGVyLnRpbWVTaWduYXR1cmV9LHNldDpmdW5jdGlvbih0KXt0aGlzLmhlYWRlci50aW1lU2lnbmF0dXJlPXRpbWVTaWduYXR1cmV9fSx7a2V5OlwiZHVyYXRpb25cIixnZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnRyYWNrcy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQuZHVyYXRpb259KTtyZXR1cm4gTWF0aC5tYXguYXBwbHkoTWF0aCx0KX19XSksdH0oKTtlLk1pZGk9cH0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntcImRlZmF1bHRcIjp0fX1mdW5jdGlvbiBpKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLk5vdGU9dm9pZCAwO3ZhciBhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxyLmtleSxyKX19cmV0dXJuIGZ1bmN0aW9uKGUsbixyKXtyZXR1cm4gbiYmdChlLnByb3RvdHlwZSxuKSxyJiZ0KGUsciksZX19KCksbz1uKDEpLHM9cihvKSx1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLG4pe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTowLGE9YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOjE7aWYoaSh0aGlzLHQpLHRoaXMubWlkaSxzW1wiZGVmYXVsdFwiXS5pc051bWJlcihlKSl0aGlzLm1pZGk9ZTtlbHNle2lmKCFzW1wiZGVmYXVsdFwiXS5pc1BpdGNoKGUpKXRocm93IG5ldyBFcnJvcihcInRoZSBtaWRpIHZhbHVlIG11c3QgZWl0aGVyIGJlIGluIFBpdGNoIE5vdGF0aW9uIChlLmcuIEMjNCkgb3IgYSBtaWRpIHZhbHVlXCIpO3RoaXMubmFtZT1lfXRoaXMudGltZT1uLHRoaXMuZHVyYXRpb249cix0aGlzLnZlbG9jaXR5PWF9cmV0dXJuIGEodCxbe2tleTpcIm1hdGNoXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHNbXCJkZWZhdWx0XCJdLmlzTnVtYmVyKHQpP3RoaXMubWlkaT09PXQ6c1tcImRlZmF1bHRcIl0uaXNQaXRjaCh0KT90aGlzLm5hbWUudG9Mb3dlckNhc2UoKT09PXQudG9Mb3dlckNhc2UoKTp2b2lkIDB9fSx7a2V5OlwidG9KU09OXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm57bmFtZTp0aGlzLm5hbWUsbWlkaTp0aGlzLm1pZGksdGltZTp0aGlzLnRpbWUsdmVsb2NpdHk6dGhpcy52ZWxvY2l0eSxkdXJhdGlvbjp0aGlzLmR1cmF0aW9ufX19LHtrZXk6XCJuYW1lXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHNbXCJkZWZhdWx0XCJdLm1pZGlUb1BpdGNoKHRoaXMubWlkaSl9LHNldDpmdW5jdGlvbih0KXt0aGlzLm1pZGk9c1tcImRlZmF1bHRcIl0ucGl0Y2hUb01pZGkodCl9fSx7a2V5Olwibm90ZU9uXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGltZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMudGltZT10fX0se2tleTpcIm5vdGVPZmZcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aW1lK3RoaXMuZHVyYXRpb259LHNldDpmdW5jdGlvbih0KXt0aGlzLmR1cmF0aW9uPXQtdGhpcy50aW1lfX1dKSx0fSgpO2UuTm90ZT11fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZS5UcmFjaz12b2lkIDA7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIua2V5LHIpfX1yZXR1cm4gZnVuY3Rpb24oZSxuLHIpe3JldHVybiBuJiZ0KGUucHJvdG90eXBlLG4pLHImJnQoZSxyKSxlfX0oKSxhPW4oMyksbz1uKDQpLHM9big2KSx1PW4oOCksYz1uKDIpLGg9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOlwiXCIsbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06LTE7cih0aGlzLHQpLHRoaXMubmFtZT1lLHRoaXMubm90ZXM9W10sdGhpcy5jb250cm9sQ2hhbmdlcz17fSx0aGlzLmluc3RydW1lbnROdW1iZXI9bn1yZXR1cm4gaSh0LFt7a2V5Olwibm90ZVwiLHZhbHVlOmZ1bmN0aW9uIGUodCxuKXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06MCxpPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXToxLGU9bmV3IHUuTm90ZSh0LG4scixpKTtyZXR1cm4oMCxhLkJpbmFyeUluc2VydCkodGhpcy5ub3RlcyxlKSx0aGlzfX0se2tleTpcIm5vdGVPblwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjEscj1uZXcgdS5Ob3RlKHQsZSwwLG4pO3JldHVybigwLGEuQmluYXJ5SW5zZXJ0KSh0aGlzLm5vdGVzLHIpLHRoaXN9fSx7a2V5Olwibm90ZU9mZlwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPTA7bjx0aGlzLm5vdGVzLmxlbmd0aDtuKyspe3ZhciByPXRoaXMubm90ZXNbbl07aWYoci5tYXRjaCh0KSYmMD09PXIuZHVyYXRpb24pe3Iubm90ZU9mZj1lO2JyZWFrfX1yZXR1cm4gdGhpc319LHtrZXk6XCJjY1wiLHZhbHVlOmZ1bmN0aW9uIG4odCxlLHIpe3RoaXMuY29udHJvbENoYW5nZXMuaGFzT3duUHJvcGVydHkodCl8fCh0aGlzLmNvbnRyb2xDaGFuZ2VzW3RdPVtdKTt2YXIgbj1uZXcgby5Db250cm9sKHQsZSxyKTtyZXR1cm4oMCxhLkJpbmFyeUluc2VydCkodGhpcy5jb250cm9sQ2hhbmdlc1t0XSxuKSx0aGlzfX0se2tleTpcInBhdGNoXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaW5zdHJ1bWVudE51bWJlcj10LHRoaXN9fSx7a2V5Olwic2NhbGVcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5ub3Rlcy5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UudGltZSo9dCxlLmR1cmF0aW9uKj10fSksdGhpc319LHtrZXk6XCJzbGljZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjAsbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06dGhpcy5kdXJhdGlvbixyPU1hdGgubWF4KHRoaXMubm90ZXMuZmluZEluZGV4KGZ1bmN0aW9uKHQpe3JldHVybiB0LnRpbWU+PWV9KSwwKSxpPXRoaXMubm90ZXMuZmluZEluZGV4KGZ1bmN0aW9uKHQpe3JldHVybiB0Lm5vdGVPZmY+PW59KSsxLGE9bmV3IHQodGhpcy5uYW1lKTtyZXR1cm4gYS5ub3Rlcz10aGlzLm5vdGVzLnNsaWNlKHIsaSksYS5ub3Rlcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnRpbWU9dC50aW1lLWV9KSxhfX0se2tleTpcImVuY29kZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbih0KXt2YXIgZT1NYXRoLmZsb29yKHIqdCksbj1NYXRoLm1heChlLWksMCk7cmV0dXJuIGk9ZSxufXZhciByPWUuUFBRLyg2MC9lLmJwbSksaT0wLGE9MDstMSE9PXRoaXMuaW5zdHJ1bWVudE51bWJlciYmdC5pbnN0cnVtZW50KGEsdGhpcy5pbnN0cnVtZW50TnVtYmVyKSwoMCxzLk1lcmdlKSh0aGlzLm5vdGVPbnMsZnVuY3Rpb24oZSl7dC5hZGROb3RlT24oYSxlLm5hbWUsbihlLnRpbWUpLE1hdGguZmxvb3IoMTI3KmUudmVsb2NpdHkpKX0sdGhpcy5ub3RlT2ZmcyxmdW5jdGlvbihlKXt0LmFkZE5vdGVPZmYoYSxlLm5hbWUsbihlLnRpbWUpKX0pfX0se2tleTpcIm5vdGVPbnNcIixnZXQ6ZnVuY3Rpb24oKXt2YXIgdD1bXTtyZXR1cm4gdGhpcy5ub3Rlcy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QucHVzaCh7dGltZTplLm5vdGVPbixtaWRpOmUubWlkaSxuYW1lOmUubmFtZSx2ZWxvY2l0eTplLnZlbG9jaXR5fSl9KSx0fX0se2tleTpcIm5vdGVPZmZzXCIsZ2V0OmZ1bmN0aW9uKCl7dmFyIHQ9W107cmV0dXJuIHRoaXMubm90ZXMuZm9yRWFjaChmdW5jdGlvbihlKXt0LnB1c2goe3RpbWU6ZS5ub3RlT2ZmLG1pZGk6ZS5taWRpLG5hbWU6ZS5uYW1lfSl9KSx0fX0se2tleTpcImxlbmd0aFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm5vdGVzLmxlbmd0aH19LHtrZXk6XCJzdGFydFRpbWVcIixnZXQ6ZnVuY3Rpb24oKXtpZih0aGlzLm5vdGVzLmxlbmd0aCl7dmFyIHQ9dGhpcy5ub3Rlc1swXTtyZXR1cm4gdC5ub3RlT259cmV0dXJuIDB9fSx7a2V5OlwiZHVyYXRpb25cIixnZXQ6ZnVuY3Rpb24oKXtpZih0aGlzLm5vdGVzLmxlbmd0aCl7dmFyIHQ9dGhpcy5ub3Rlc1t0aGlzLm5vdGVzLmxlbmd0aC0xXTtyZXR1cm4gdC5ub3RlT2ZmfXJldHVybiAwfX0se2tleTpcImluc3RydW1lbnRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYy5pbnN0cnVtZW50QnlQYXRjaElEW3RoaXMuaW5zdHJ1bWVudE51bWJlcl19LHNldDpmdW5jdGlvbih0KXt2YXIgZT1jLmluc3RydW1lbnRCeVBhdGNoSUQuaW5kZXhPZih0KTstMSE9PWUmJih0aGlzLmluc3RydW1lbnROdW1iZXI9ZSl9fSx7a2V5OlwiaW5zdHJ1bWVudEZhbWlseVwiLGdldDpmdW5jdGlvbigpe3JldHVybiBjLmluc3RydW1lbnRGYW1pbHlCeUlEW01hdGguZmxvb3IodGhpcy5pbnN0cnVtZW50TnVtYmVyLzgpXX19XSksdH0oKTtlLlRyYWNrPWh9LGZ1bmN0aW9uKHQsZSxuKXsoZnVuY3Rpb24odCl7dmFyIG49e307IWZ1bmN0aW9uKHQpe3ZhciBlPXQuREVGQVVMVF9WT0xVTUU9OTAsbj0odC5ERUZBVUxUX0RVUkFUSU9OPTEyOCx0LkRFRkFVTFRfQ0hBTk5FTD0wLHttaWRpX2xldHRlcl9waXRjaGVzOnthOjIxLGI6MjMsYzoxMixkOjE0LGU6MTYsZjoxNyxnOjE5fSxtaWRpUGl0Y2hGcm9tTm90ZTpmdW5jdGlvbih0KXt2YXIgZT0vKFthLWddKSgjK3xiKyk/KFswLTldKykkL2kuZXhlYyh0KSxyPWVbMV0udG9Mb3dlckNhc2UoKSxpPWVbMl18fFwiXCIsYT1wYXJzZUludChlWzNdLDEwKTtyZXR1cm4gMTIqYStuLm1pZGlfbGV0dGVyX3BpdGNoZXNbcl0rKFwiI1wiPT1pLnN1YnN0cigwLDEpPzE6LTEpKmkubGVuZ3RofSxlbnN1cmVNaWRpUGl0Y2g6ZnVuY3Rpb24odCl7cmV0dXJuXCJudW1iZXJcIiE9dHlwZW9mIHQmJi9bXjAtOV0vLnRlc3QodCk/bi5taWRpUGl0Y2hGcm9tTm90ZSh0KTpwYXJzZUludCh0LDEwKX0sbWlkaV9waXRjaGVzX2xldHRlcjp7MTI6XCJjXCIsMTM6XCJjI1wiLDE0OlwiZFwiLDE1OlwiZCNcIiwxNjpcImVcIiwxNzpcImZcIiwxODpcImYjXCIsMTk6XCJnXCIsMjA6XCJnI1wiLDIxOlwiYVwiLDIyOlwiYSNcIiwyMzpcImJcIn0sbWlkaV9mbGF0dGVuZWRfbm90ZXM6e1wiYSNcIjpcImJiXCIsXCJjI1wiOlwiZGJcIixcImQjXCI6XCJlYlwiLFwiZiNcIjpcImdiXCIsXCJnI1wiOlwiYWJcIn0sbm90ZUZyb21NaWRpUGl0Y2g6ZnVuY3Rpb24odCxlKXt2YXIgcixpPTAsYT10LGU9ZXx8ITE7cmV0dXJuIHQ+MjMmJihpPU1hdGguZmxvb3IodC8xMiktMSxhPXQtMTIqaSkscj1uLm1pZGlfcGl0Y2hlc19sZXR0ZXJbYV0sZSYmci5pbmRleE9mKFwiI1wiKT4wJiYocj1uLm1pZGlfZmxhdHRlbmVkX25vdGVzW3JdKSxyK2l9LG1wcW5Gcm9tQnBtOmZ1bmN0aW9uKHQpe3ZhciBlPU1hdGguZmxvb3IoNmU3L3QpLG49W107ZG8gbi51bnNoaWZ0KDI1NSZlKSxlPj49ODt3aGlsZShlKTtmb3IoO24ubGVuZ3RoPDM7KW4ucHVzaCgwKTtyZXR1cm4gbn0sYnBtRnJvbU1wcW46ZnVuY3Rpb24odCl7dmFyIGU9dDtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgdFswXSl7ZT0wO2Zvcih2YXIgbj0wLHI9dC5sZW5ndGgtMTtyPj0wOysrbiwtLXIpZXw9dFtuXTw8cn1yZXR1cm4gTWF0aC5mbG9vcig2ZTcvdCl9LGNvZGVzMlN0cjpmdW5jdGlvbih0KXtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLHQpfSxzdHIyQnl0ZXM6ZnVuY3Rpb24odCxlKXtpZihlKWZvcig7dC5sZW5ndGgvMjxlOyl0PVwiMFwiK3Q7Zm9yKHZhciBuPVtdLHI9dC5sZW5ndGgtMTtyPj0wO3ItPTIpe3ZhciBpPTA9PT1yP3Rbcl06dFtyLTFdK3Rbcl07bi51bnNoaWZ0KHBhcnNlSW50KGksMTYpKX1yZXR1cm4gbn0sdHJhbnNsYXRlVGlja1RpbWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTEyNyZ0O3Q+Pj03OyllPDw9OCxlfD0xMjcmdHwxMjg7Zm9yKHZhciBuPVtdOzspe2lmKG4ucHVzaCgyNTUmZSksISgxMjgmZSkpYnJlYWs7ZT4+PTh9cmV0dXJuIG59fSkscj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcz92b2lkKCF0fHxudWxsPT09dC50eXBlJiZ2b2lkIDA9PT10LnR5cGV8fG51bGw9PT10LmNoYW5uZWwmJnZvaWQgMD09PXQuY2hhbm5lbHx8bnVsbD09PXQucGFyYW0xJiZ2b2lkIDA9PT10LnBhcmFtMXx8KHRoaXMuc2V0VGltZSh0LnRpbWUpLHRoaXMuc2V0VHlwZSh0LnR5cGUpLHRoaXMuc2V0Q2hhbm5lbCh0LmNoYW5uZWwpLHRoaXMuc2V0UGFyYW0xKHQucGFyYW0xKSx0aGlzLnNldFBhcmFtMih0LnBhcmFtMikpKTpuZXcgcih0KX07ci5OT1RFX09GRj0xMjgsci5OT1RFX09OPTE0NCxyLkFGVEVSX1RPVUNIPTE2MCxyLkNPTlRST0xMRVI9MTc2LHIuUFJPR1JBTV9DSEFOR0U9MTkyLHIuQ0hBTk5FTF9BRlRFUlRPVUNIPTIwOCxyLlBJVENIX0JFTkQ9MjI0LHIucHJvdG90eXBlLnNldFRpbWU9ZnVuY3Rpb24odCl7dGhpcy50aW1lPW4udHJhbnNsYXRlVGlja1RpbWUodHx8MCl9LHIucHJvdG90eXBlLnNldFR5cGU9ZnVuY3Rpb24odCl7aWYodDxyLk5PVEVfT0ZGfHx0PnIuUElUQ0hfQkVORCl0aHJvdyBuZXcgRXJyb3IoXCJUcnlpbmcgdG8gc2V0IGFuIHVua25vd24gZXZlbnQ6IFwiK3QpO3RoaXMudHlwZT10fSxyLnByb3RvdHlwZS5zZXRDaGFubmVsPWZ1bmN0aW9uKHQpe2lmKDA+dHx8dD4xNSl0aHJvdyBuZXcgRXJyb3IoXCJDaGFubmVsIGlzIG91dCBvZiBib3VuZHMuXCIpO3RoaXMuY2hhbm5lbD10fSxyLnByb3RvdHlwZS5zZXRQYXJhbTE9ZnVuY3Rpb24odCl7dGhpcy5wYXJhbTE9dH0sci5wcm90b3R5cGUuc2V0UGFyYW0yPWZ1bmN0aW9uKHQpe3RoaXMucGFyYW0yPXR9LHIucHJvdG90eXBlLnRvQnl0ZXM9ZnVuY3Rpb24oKXt2YXIgdD1bXSxlPXRoaXMudHlwZXwxNSZ0aGlzLmNoYW5uZWw7cmV0dXJuIHQucHVzaC5hcHBseSh0LHRoaXMudGltZSksdC5wdXNoKGUpLHQucHVzaCh0aGlzLnBhcmFtMSksdm9pZCAwIT09dGhpcy5wYXJhbTImJm51bGwhPT10aGlzLnBhcmFtMiYmdC5wdXNoKHRoaXMucGFyYW0yKSx0fTt2YXIgaT1mdW5jdGlvbih0KXtpZighdGhpcylyZXR1cm4gbmV3IGkodCk7dGhpcy5zZXRUaW1lKHQudGltZSksdGhpcy5zZXRUeXBlKHQudHlwZSksdGhpcy5zZXREYXRhKHQuZGF0YSl9O2kuU0VRVUVOQ0U9MCxpLlRFWFQ9MSxpLkNPUFlSSUdIVD0yLGkuVFJBQ0tfTkFNRT0zLGkuSU5TVFJVTUVOVD00LGkuTFlSSUM9NSxpLk1BUktFUj02LGkuQ1VFX1BPSU5UPTcsaS5DSEFOTkVMX1BSRUZJWD0zMixpLkVORF9PRl9UUkFDSz00NyxpLlRFTVBPPTgxLGkuU01QVEU9ODQsaS5USU1FX1NJRz04OCxpLktFWV9TSUc9ODksaS5TRVFfRVZFTlQ9MTI3LGkucHJvdG90eXBlLnNldFRpbWU9ZnVuY3Rpb24odCl7dGhpcy50aW1lPW4udHJhbnNsYXRlVGlja1RpbWUodHx8MCl9LGkucHJvdG90eXBlLnNldFR5cGU9ZnVuY3Rpb24odCl7dGhpcy50eXBlPXR9LGkucHJvdG90eXBlLnNldERhdGE9ZnVuY3Rpb24odCl7dGhpcy5kYXRhPXR9LGkucHJvdG90eXBlLnRvQnl0ZXM9ZnVuY3Rpb24oKXtpZighdGhpcy50eXBlKXRocm93IG5ldyBFcnJvcihcIlR5cGUgZm9yIG1ldGEtZXZlbnQgbm90IHNwZWNpZmllZC5cIik7dmFyIHQ9W107aWYodC5wdXNoLmFwcGx5KHQsdGhpcy50aW1lKSx0LnB1c2goMjU1LHRoaXMudHlwZSksQXJyYXkuaXNBcnJheSh0aGlzLmRhdGEpKXQucHVzaCh0aGlzLmRhdGEubGVuZ3RoKSx0LnB1c2guYXBwbHkodCx0aGlzLmRhdGEpO2Vsc2UgaWYoXCJudW1iZXJcIj09dHlwZW9mIHRoaXMuZGF0YSl0LnB1c2goMSx0aGlzLmRhdGEpO2Vsc2UgaWYobnVsbCE9PXRoaXMuZGF0YSYmdm9pZCAwIT09dGhpcy5kYXRhKXt0LnB1c2godGhpcy5kYXRhLmxlbmd0aCk7dmFyIGU9dGhpcy5kYXRhLnNwbGl0KFwiXCIpLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC5jaGFyQ29kZUF0KDApfSk7dC5wdXNoLmFwcGx5KHQsZSl9ZWxzZSB0LnB1c2goMCk7cmV0dXJuIHR9O3ZhciBhPWZ1bmN0aW9uKHQpe2lmKCF0aGlzKXJldHVybiBuZXcgYSh0KTt2YXIgZT10fHx7fTt0aGlzLmV2ZW50cz1lLmV2ZW50c3x8W119O2EuU1RBUlRfQllURVM9Wzc3LDg0LDExNCwxMDddLGEuRU5EX0JZVEVTPVswLDI1NSw0NywwXSxhLnByb3RvdHlwZS5hZGRFdmVudD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5ldmVudHMucHVzaCh0KSx0aGlzfSxhLnByb3RvdHlwZS5hZGROb3RlT249YS5wcm90b3R5cGUubm90ZU9uPWZ1bmN0aW9uKHQsaSxhLG8pe3JldHVybiB0aGlzLmV2ZW50cy5wdXNoKG5ldyByKHt0eXBlOnIuTk9URV9PTixjaGFubmVsOnQscGFyYW0xOm4uZW5zdXJlTWlkaVBpdGNoKGkpLHBhcmFtMjpvfHxlLHRpbWU6YXx8MH0pKSx0aGlzfSxhLnByb3RvdHlwZS5hZGROb3RlT2ZmPWEucHJvdG90eXBlLm5vdGVPZmY9ZnVuY3Rpb24odCxpLGEsbyl7cmV0dXJuIHRoaXMuZXZlbnRzLnB1c2gobmV3IHIoe3R5cGU6ci5OT1RFX09GRixjaGFubmVsOnQscGFyYW0xOm4uZW5zdXJlTWlkaVBpdGNoKGkpLHBhcmFtMjpvfHxlLHRpbWU6YXx8MH0pKSx0aGlzfSxhLnByb3RvdHlwZS5hZGROb3RlPWEucHJvdG90eXBlLm5vdGU9ZnVuY3Rpb24odCxlLG4scixpKXtyZXR1cm4gdGhpcy5ub3RlT24odCxlLHIsaSksbiYmdGhpcy5ub3RlT2ZmKHQsZSxuLGkpLHRoaXN9LGEucHJvdG90eXBlLmFkZENob3JkPWEucHJvdG90eXBlLmNob3JkPWZ1bmN0aW9uKHQsZSxuLHIpe2lmKCFBcnJheS5pc0FycmF5KGUpJiYhZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiQ2hvcmQgbXVzdCBiZSBhbiBhcnJheSBvZiBwaXRjaGVzXCIpO3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24oZSl7dGhpcy5ub3RlT24odCxlLDAscil9LHRoaXMpLGUuZm9yRWFjaChmdW5jdGlvbihlLHIpezA9PT1yP3RoaXMubm90ZU9mZih0LGUsbik6dGhpcy5ub3RlT2ZmKHQsZSl9LHRoaXMpLHRoaXN9LGEucHJvdG90eXBlLnNldEluc3RydW1lbnQ9YS5wcm90b3R5cGUuaW5zdHJ1bWVudD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHRoaXMuZXZlbnRzLnB1c2gobmV3IHIoe3R5cGU6ci5QUk9HUkFNX0NIQU5HRSxjaGFubmVsOnQscGFyYW0xOmUsdGltZTpufHwwfSkpLHRoaXN9LGEucHJvdG90eXBlLnNldFRlbXBvPWEucHJvdG90eXBlLnRlbXBvPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZXZlbnRzLnB1c2gobmV3IGkoe3R5cGU6aS5URU1QTyxkYXRhOm4ubXBxbkZyb21CcG0odCksdGltZTplfHwwfSkpLHRoaXN9LGEucHJvdG90eXBlLnRvQnl0ZXM9ZnVuY3Rpb24oKXt2YXIgdD0wLGU9W10scj1hLlNUQVJUX0JZVEVTLGk9YS5FTkRfQllURVMsbz1mdW5jdGlvbihuKXt2YXIgcj1uLnRvQnl0ZXMoKTt0Kz1yLmxlbmd0aCxlLnB1c2guYXBwbHkoZSxyKX07dGhpcy5ldmVudHMuZm9yRWFjaChvKSx0Kz1pLmxlbmd0aDt2YXIgcz1uLnN0cjJCeXRlcyh0LnRvU3RyaW5nKDE2KSw0KTtyZXR1cm4gci5jb25jYXQocyxlLGkpfTt2YXIgbz1mdW5jdGlvbih0KXtpZighdGhpcylyZXR1cm4gbmV3IG8odCk7dmFyIGU9dHx8e307aWYoZS50aWNrcyl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGUudGlja3MpdGhyb3cgbmV3IEVycm9yKFwiVGlja3MgcGVyIGJlYXQgbXVzdCBiZSBhIG51bWJlciFcIik7aWYoZS50aWNrczw9MHx8ZS50aWNrcz49MzI3Njh8fGUudGlja3MlMSE9PTApdGhyb3cgbmV3IEVycm9yKFwiVGlja3MgcGVyIGJlYXQgbXVzdCBiZSBhbiBpbnRlZ2VyIGJldHdlZW4gMSBhbmQgMzI3NjchXCIpfXRoaXMudGlja3M9ZS50aWNrc3x8MTI4LHRoaXMudHJhY2tzPWUudHJhY2tzfHxbXX07by5IRFJfQ0hVTktJRD1cIk1UaGRcIixvLkhEUl9DSFVOS19TSVpFPVwiXFx4MDBcXHgwMFxceDAwXHUwMDA2XCIsby5IRFJfVFlQRTA9XCJcXHgwMFxceDAwXCIsby5IRFJfVFlQRTE9XCJcXHgwMFx1MDAwMVwiLG8ucHJvdG90eXBlLmFkZFRyYWNrPWZ1bmN0aW9uKHQpe3JldHVybiB0Pyh0aGlzLnRyYWNrcy5wdXNoKHQpLHRoaXMpOih0PW5ldyBhLHRoaXMudHJhY2tzLnB1c2godCksdCl9LG8ucHJvdG90eXBlLnRvQnl0ZXM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnRyYWNrcy5sZW5ndGgudG9TdHJpbmcoMTYpLGU9by5IRFJfQ0hVTktJRCtvLkhEUl9DSFVOS19TSVpFO3JldHVybiBlKz1wYXJzZUludCh0LDE2KT4xP28uSERSX1RZUEUxOm8uSERSX1RZUEUwLGUrPW4uY29kZXMyU3RyKG4uc3RyMkJ5dGVzKHQsMikpLGUrPVN0cmluZy5mcm9tQ2hhckNvZGUodGhpcy50aWNrcy8yNTYsdGhpcy50aWNrcyUyNTYpLHRoaXMudHJhY2tzLmZvckVhY2goZnVuY3Rpb24odCl7ZSs9bi5jb2RlczJTdHIodC50b0J5dGVzKCkpfSksZX0sdC5VdGlsPW4sdC5GaWxlPW8sdC5UcmFjaz1hLHQuRXZlbnQ9cix0Lk1ldGFFdmVudD1pfShuKSxcInVuZGVmaW5lZFwiIT10eXBlb2YgdCYmbnVsbCE9PXQ/dC5leHBvcnRzPW46XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGUmJm51bGwhPT1lP2U9bjp0aGlzLk1pZGk9bn0pLmNhbGwoZSxuKDEyKSh0KSl9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbih0KXtmdW5jdGlvbiBlKHQpe3ZhciBlPXQucmVhZCg0KSxuPXQucmVhZEludDMyKCk7cmV0dXJue2lkOmUsbGVuZ3RoOm4sZGF0YTp0LnJlYWQobil9fWZ1bmN0aW9uIG4odCl7dmFyIGU9e307ZS5kZWx0YVRpbWU9dC5yZWFkVmFySW50KCk7dmFyIG49dC5yZWFkSW50OCgpO2lmKDI0MD09KDI0MCZuKSl7aWYoMjU1PT1uKXtlLnR5cGU9XCJtZXRhXCI7dmFyIHI9dC5yZWFkSW50OCgpLGE9dC5yZWFkVmFySW50KCk7c3dpdGNoKHIpe2Nhc2UgMDppZihlLnN1YnR5cGU9XCJzZXF1ZW5jZU51bWJlclwiLDIhPWEpdGhyb3dcIkV4cGVjdGVkIGxlbmd0aCBmb3Igc2VxdWVuY2VOdW1iZXIgZXZlbnQgaXMgMiwgZ290IFwiK2E7cmV0dXJuIGUubnVtYmVyPXQucmVhZEludDE2KCksZTtjYXNlIDE6cmV0dXJuIGUuc3VidHlwZT1cInRleHRcIixlLnRleHQ9dC5yZWFkKGEpLGU7Y2FzZSAyOnJldHVybiBlLnN1YnR5cGU9XCJjb3B5cmlnaHROb3RpY2VcIixlLnRleHQ9dC5yZWFkKGEpLGU7Y2FzZSAzOnJldHVybiBlLnN1YnR5cGU9XCJ0cmFja05hbWVcIixlLnRleHQ9dC5yZWFkKGEpLGU7Y2FzZSA0OnJldHVybiBlLnN1YnR5cGU9XCJpbnN0cnVtZW50TmFtZVwiLGUudGV4dD10LnJlYWQoYSksZTtjYXNlIDU6cmV0dXJuIGUuc3VidHlwZT1cImx5cmljc1wiLGUudGV4dD10LnJlYWQoYSksZTtjYXNlIDY6cmV0dXJuIGUuc3VidHlwZT1cIm1hcmtlclwiLGUudGV4dD10LnJlYWQoYSksZTtjYXNlIDc6cmV0dXJuIGUuc3VidHlwZT1cImN1ZVBvaW50XCIsZS50ZXh0PXQucmVhZChhKSxlO2Nhc2UgMzI6aWYoZS5zdWJ0eXBlPVwibWlkaUNoYW5uZWxQcmVmaXhcIiwxIT1hKXRocm93XCJFeHBlY3RlZCBsZW5ndGggZm9yIG1pZGlDaGFubmVsUHJlZml4IGV2ZW50IGlzIDEsIGdvdCBcIithO3JldHVybiBlLmNoYW5uZWw9dC5yZWFkSW50OCgpLGU7Y2FzZSA0NzppZihlLnN1YnR5cGU9XCJlbmRPZlRyYWNrXCIsMCE9YSl0aHJvd1wiRXhwZWN0ZWQgbGVuZ3RoIGZvciBlbmRPZlRyYWNrIGV2ZW50IGlzIDAsIGdvdCBcIithO3JldHVybiBlO2Nhc2UgODE6aWYoZS5zdWJ0eXBlPVwic2V0VGVtcG9cIiwzIT1hKXRocm93XCJFeHBlY3RlZCBsZW5ndGggZm9yIHNldFRlbXBvIGV2ZW50IGlzIDMsIGdvdCBcIithO3JldHVybiBlLm1pY3Jvc2Vjb25kc1BlckJlYXQ9KHQucmVhZEludDgoKTw8MTYpKyh0LnJlYWRJbnQ4KCk8PDgpK3QucmVhZEludDgoKSxlO2Nhc2UgODQ6aWYoZS5zdWJ0eXBlPVwic21wdGVPZmZzZXRcIiw1IT1hKXRocm93XCJFeHBlY3RlZCBsZW5ndGggZm9yIHNtcHRlT2Zmc2V0IGV2ZW50IGlzIDUsIGdvdCBcIithO3ZhciBvPXQucmVhZEludDgoKTtyZXR1cm4gZS5mcmFtZVJhdGU9ezA6MjQsMzI6MjUsNjQ6MjksOTY6MzB9Wzk2Jm9dLGUuaG91cj0zMSZvLGUubWluPXQucmVhZEludDgoKSxlLnNlYz10LnJlYWRJbnQ4KCksZS5mcmFtZT10LnJlYWRJbnQ4KCksZS5zdWJmcmFtZT10LnJlYWRJbnQ4KCksZTtjYXNlIDg4OmlmKGUuc3VidHlwZT1cInRpbWVTaWduYXR1cmVcIiw0IT1hKXRocm93XCJFeHBlY3RlZCBsZW5ndGggZm9yIHRpbWVTaWduYXR1cmUgZXZlbnQgaXMgNCwgZ290IFwiK2E7cmV0dXJuIGUubnVtZXJhdG9yPXQucmVhZEludDgoKSxlLmRlbm9taW5hdG9yPU1hdGgucG93KDIsdC5yZWFkSW50OCgpKSxlLm1ldHJvbm9tZT10LnJlYWRJbnQ4KCksZS50aGlydHlzZWNvbmRzPXQucmVhZEludDgoKSxlO2Nhc2UgODk6aWYoZS5zdWJ0eXBlPVwia2V5U2lnbmF0dXJlXCIsMiE9YSl0aHJvd1wiRXhwZWN0ZWQgbGVuZ3RoIGZvciBrZXlTaWduYXR1cmUgZXZlbnQgaXMgMiwgZ290IFwiK2E7cmV0dXJuIGUua2V5PXQucmVhZEludDgoITApLGUuc2NhbGU9dC5yZWFkSW50OCgpLGU7Y2FzZSAxMjc6cmV0dXJuIGUuc3VidHlwZT1cInNlcXVlbmNlclNwZWNpZmljXCIsZS5kYXRhPXQucmVhZChhKSxlO2RlZmF1bHQ6cmV0dXJuIGUuc3VidHlwZT1cInVua25vd25cIixlLmRhdGE9dC5yZWFkKGEpLGV9cmV0dXJuIGUuZGF0YT10LnJlYWQoYSksZX1pZigyNDA9PW4pe2UudHlwZT1cInN5c0V4XCI7dmFyIGE9dC5yZWFkVmFySW50KCk7cmV0dXJuIGUuZGF0YT10LnJlYWQoYSksZX1pZigyNDc9PW4pe2UudHlwZT1cImRpdmlkZWRTeXNFeFwiO3ZhciBhPXQucmVhZFZhckludCgpO3JldHVybiBlLmRhdGE9dC5yZWFkKGEpLGV9dGhyb3dcIlVucmVjb2duaXNlZCBNSURJIGV2ZW50IHR5cGUgYnl0ZTogXCIrbn12YXIgczswPT0oMTI4Jm4pPyhzPW4sbj1pKToocz10LnJlYWRJbnQ4KCksaT1uKTt2YXIgdT1uPj40O3N3aXRjaChlLmNoYW5uZWw9MTUmbixlLnR5cGU9XCJjaGFubmVsXCIsdSl7Y2FzZSA4OnJldHVybiBlLnN1YnR5cGU9XCJub3RlT2ZmXCIsZS5ub3RlTnVtYmVyPXMsZS52ZWxvY2l0eT10LnJlYWRJbnQ4KCksZTtjYXNlIDk6cmV0dXJuIGUubm90ZU51bWJlcj1zLGUudmVsb2NpdHk9dC5yZWFkSW50OCgpLDA9PWUudmVsb2NpdHk/ZS5zdWJ0eXBlPVwibm90ZU9mZlwiOmUuc3VidHlwZT1cIm5vdGVPblwiLGU7Y2FzZSAxMDpyZXR1cm4gZS5zdWJ0eXBlPVwibm90ZUFmdGVydG91Y2hcIixlLm5vdGVOdW1iZXI9cyxlLmFtb3VudD10LnJlYWRJbnQ4KCksZTtjYXNlIDExOnJldHVybiBlLnN1YnR5cGU9XCJjb250cm9sbGVyXCIsZS5jb250cm9sbGVyVHlwZT1zLGUudmFsdWU9dC5yZWFkSW50OCgpLGU7Y2FzZSAxMjpyZXR1cm4gZS5zdWJ0eXBlPVwicHJvZ3JhbUNoYW5nZVwiLGUucHJvZ3JhbU51bWJlcj1zLGU7Y2FzZSAxMzpyZXR1cm4gZS5zdWJ0eXBlPVwiY2hhbm5lbEFmdGVydG91Y2hcIixlLmFtb3VudD1zLGU7Y2FzZSAxNDpyZXR1cm4gZS5zdWJ0eXBlPVwicGl0Y2hCZW5kXCIsZS52YWx1ZT1zKyh0LnJlYWRJbnQ4KCk8PDcpLGU7ZGVmYXVsdDp0aHJvd1wiVW5yZWNvZ25pc2VkIE1JREkgZXZlbnQgdHlwZTogXCIrdX19dmFyIGk7c3RyZWFtPXIodCk7dmFyIGE9ZShzdHJlYW0pO2lmKFwiTVRoZFwiIT1hLmlkfHw2IT1hLmxlbmd0aCl0aHJvd1wiQmFkIC5taWQgZmlsZSAtIGhlYWRlciBub3QgZm91bmRcIjt2YXIgbz1yKGEuZGF0YSkscz1vLnJlYWRJbnQxNigpLHU9by5yZWFkSW50MTYoKSxjPW8ucmVhZEludDE2KCk7aWYoMzI3NjgmYyl0aHJvd1wiRXhwcmVzc2luZyB0aW1lIGRpdmlzaW9uIGluIFNNVFBFIGZyYW1lcyBpcyBub3Qgc3VwcG9ydGVkIHlldFwiO3RpY2tzUGVyQmVhdD1jO2Zvcih2YXIgaD17Zm9ybWF0VHlwZTpzLHRyYWNrQ291bnQ6dSx0aWNrc1BlckJlYXQ6dGlja3NQZXJCZWF0fSxmPVtdLGQ9MDtkPGgudHJhY2tDb3VudDtkKyspe2ZbZF09W107dmFyIGw9ZShzdHJlYW0pO2lmKFwiTVRya1wiIT1sLmlkKXRocm93XCJVbmV4cGVjdGVkIGNodW5rIC0gZXhwZWN0ZWQgTVRyaywgZ290IFwiK2wuaWQ7Zm9yKHZhciBwPXIobC5kYXRhKTshcC5lb2YoKTspe3ZhciBtPW4ocCk7ZltkXS5wdXNoKG0pfX1yZXR1cm57aGVhZGVyOmgsdHJhY2tzOmZ9fWZ1bmN0aW9uIHIodCl7ZnVuY3Rpb24gZShlKXt2YXIgbj10LnN1YnN0cihzLGUpO3JldHVybiBzKz1lLG59ZnVuY3Rpb24gbigpe3ZhciBlPSh0LmNoYXJDb2RlQXQocyk8PDI0KSsodC5jaGFyQ29kZUF0KHMrMSk8PDE2KSsodC5jaGFyQ29kZUF0KHMrMik8PDgpK3QuY2hhckNvZGVBdChzKzMpO3JldHVybiBzKz00LGV9ZnVuY3Rpb24gcigpe3ZhciBlPSh0LmNoYXJDb2RlQXQocyk8PDgpK3QuY2hhckNvZGVBdChzKzEpO3JldHVybiBzKz0yLGV9ZnVuY3Rpb24gaShlKXt2YXIgbj10LmNoYXJDb2RlQXQocyk7cmV0dXJuIGUmJm4+MTI3JiYobi09MjU2KSxzKz0xLG59ZnVuY3Rpb24gYSgpe3JldHVybiBzPj10Lmxlbmd0aH1mdW5jdGlvbiBvKCl7Zm9yKHZhciB0PTA7Oyl7dmFyIGU9aSgpO2lmKCEoMTI4JmUpKXJldHVybiB0K2U7dCs9MTI3JmUsdDw8PTd9fXZhciBzPTA7cmV0dXJue2VvZjphLHJlYWQ6ZSxyZWFkSW50MzI6bixyZWFkSW50MTY6cixyZWFkSW50ODppLHJlYWRWYXJJbnQ6b319dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBuKHQpfX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHQud2VicGFja1BvbHlmaWxsfHwodC5kZXByZWNhdGU9ZnVuY3Rpb24oKXt9LHQucGF0aHM9W10sdC5jaGlsZHJlbj1bXSx0LndlYnBhY2tQb2x5ZmlsbD0xKSx0fX1dKX0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TWlkaUNvbnZlcnQuanMubWFwIl19
